Exportfile for AOT version 1.0 or later
Formatversion: 1

***Element: DBT

; Microsoft Dynamics AX Table : Visist_transactions unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #Visist_transactions
    EnforceFKRelation 1
    PROPERTIES
      Name                #Visist_transactions
      CreateRecIdIndex    #Yes
      PrimaryIndex        #SurrogateKey
      ClusterIndex        #SurrogateKey
      Origin              #{A6D8FC99-6843-4DC9-B4B2-63414B019086}
    ENDPROPERTIES
    
    FIELDS
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : VetCustPetTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #VetCustPetTable
    EnforceFKRelation 1
    PROPERTIES
      Name                #VetCustPetTable
      Label               #Pets
      CreateRecIdIndex    #Yes
      PrimaryIndex        #SurrogateKey
      ClusterIndex        #SurrogateKey
      Origin              #{52398FED-2A95-413C-8AFB-8ED84CF5727F}
    ENDPROPERTIES
    
    FIELDS
      FIELD #BreedId
        STRING
        PROPERTIES
          Name                #BreedId
          Table               #VetCustPetTable
          Origin              #{762BB610-4DCE-4AA3-ACE5-15E869C47FF5}
          ExtendedDataType    #VetBreedId
        ENDPROPERTIES
        
      FIELD #CustAccount
        STRING
        PROPERTIES
          Name                #CustAccount
          Table               #VetCustPetTable
          Origin              #{8DCA75DD-213A-4AF5-9E6B-96AA20A04B3A}
          ExtendedDataType    #CustAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Gender
        ENUM
        PROPERTIES
          Name                #Gender
          Table               #VetCustPetTable
          Origin              #{DD137FD4-BF12-4C36-82D3-91D556BE1264}
          EnumType            #Gender
        ENDPROPERTIES
        
      FIELD #SpeciesId
        STRING
        PROPERTIES
          Name                #SpeciesId
          Table               #VetCustPetTable
          Origin              #{510D9E65-376E-443F-B265-A1B104028365}
          ExtendedDataType    #VetSpeciesID
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
    ENDGROUPS
    
    INDICES
      #CustIdx
      PROPERTIES
        Name                #CustIdx
        Origin              #{59207E21-A03F-4751-B187-CF6F3C478BE8}
      ENDPROPERTIES
      
      INDEXFIELDS
        #CustAccount
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #VetBreedTable
        PROPERTIES
          Name                #VetBreedTable
          Table               #VetBreedTable
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SpeciesId
            RelatedField        #SpeciesId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #BreedId
            RelatedField        #BreedId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #VetSpeciesTable
        PROPERTIES
          Name                #VetSpeciesTable
          Table               #VetSpeciesTable
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SpeciesId
            RelatedField        #SpeciesId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : VetBreedTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #VetBreedTable
    EnforceFKRelation 1
    PROPERTIES
      Name                #VetBreedTable
      Label               #Breed
      CreateRecIdIndex    #Yes
      PrimaryIndex        #BreedIdx
      ClusterIndex        #SurrogateKey
      Origin              #{2439BE72-2CFE-41CC-8B7E-A435133B26AF}
    ENDPROPERTIES
    
    FIELDS
      FIELD #BreedId
        STRING
        PROPERTIES
          Name                #BreedId
          Table               #VetBreedTable
          Origin              #{58B3A641-CCF3-4BC1-A8F7-D78EC37E68B0}
          ExtendedDataType    #VetBreedId
        ENDPROPERTIES
        
      FIELD #Name
        STRING
        PROPERTIES
          Name                #Name
          Table               #VetBreedTable
          Origin              #{440A14F3-E9BA-497B-8127-73138F6A65D5}
          ExtendedDataType    #Name
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #SpeciesId
        STRING
        PROPERTIES
          Name                #SpeciesId
          Table               #VetBreedTable
          Origin              #{D2D5A03D-5E9E-403C-9C3B-D227228892AD}
          ExtendedDataType    #VetSpeciesID
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoIdentification
        PROPERTIES
          Name                #AutoIdentification
        ENDPROPERTIES
        
        GROUPFIELDS
          #BreedId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #BreedIdx
      PROPERTIES
        Name                #BreedIdx
        AllowDuplicates     #No
        Origin              #{75074BE1-FF03-49FD-A4E6-6D1599E105A9}
      ENDPROPERTIES
      
      INDEXFIELDS
        #BreedId
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #Relation1
        PROPERTIES
          Name                #Relation1
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #VetSpeciesTable
        PROPERTIES
          Name                #VetSpeciesTable
          Table               #VetSpeciesTable
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SpeciesId
            RelatedField        #SpeciesId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #aosValidateInsert
        #public boolean aosValidateInsert()
        #{
        #    boolean ret;
        #
        #    info("Table_aosValidateInsert");
        #
        #    ret = super();
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #aosValidateUpdate
        #public boolean aosValidateUpdate()
        #{
        #    boolean ret;
        #
        #    info("Table_aosValidateUpdate");
        #
        #    ret = super();
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #initValue
        #public void initValue()
        #{
        #    info("Table_initValue");
        #    super();
        #}
      ENDSOURCE
      SOURCE #insert
        #public void insert()
        #{
        #    info("Table_insert");
        #    super();
        #}
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(FieldId _fieldId)
        #{
        #    info("Table_modifiedField");
        #    super(_fieldId);
        #}
      ENDSOURCE
      SOURCE #modifiedFieldValue
        #public void modifiedFieldValue(FieldName _fieldName, int _arrayIndex = 1)
        #{
        #    info("Table_modifiedFieldValue");
        #    super(_fieldName, _arrayIndex);
        #}
      ENDSOURCE
      SOURCE #update
        #public void update()
        #{
        #    info("Table_update");
        #    super();
        #}
      ENDSOURCE
      SOURCE #validateField
        #public boolean validateField(FieldId _fieldIdToCheck)
        #{
        #    boolean ret;
        #
        #    info("Table_validateField");
        #
        #    ret = super(_fieldIdToCheck);
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #validateFieldValue
        #public boolean validateFieldValue(FieldName _fieldName, int _arrayIndex = 1)
        #{
        #    boolean ret;
        #
        #    info("Table_validateFieldValue");
        #
        #    ret = super(_fieldName, _arrayIndex);
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #validateWrite
        #public boolean validateWrite()
        #{
        #    boolean ret;
        #
        #    info("Table_validateWrite");
        #
        #    ret = super();
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #write
        #public void write()
        #{
        #    info("Table_write");
        #    super();
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : VetSpeciesTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #VetSpeciesTable
    EnforceFKRelation 1
    PROPERTIES
      Name                #VetSpeciesTable
      Label               #Species
      CreateRecIdIndex    #Yes
      PrimaryIndex        #SpeciesIdx
      ClusterIndex        #SurrogateKey
      Origin              #{C3C689E6-4469-4823-A768-F718789BADAB}
    ENDPROPERTIES
    
    FIELDS
      FIELD #Name
        STRING
        PROPERTIES
          Name                #Name
          Table               #VetSpeciesTable
          Origin              #{B84B394E-9A42-4EE2-B456-38FE9ED29B92}
          ExtendedDataType    #Name
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #SpeciesId
        STRING
        PROPERTIES
          Name                #SpeciesId
          Table               #VetSpeciesTable
          Origin              #{D7FF5B58-DDCA-4308-B756-31B7031C660F}
          ExtendedDataType    #VetSpeciesID
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoIdentification
        PROPERTIES
          Name                #AutoIdentification
        ENDPROPERTIES
        
        GROUPFIELDS
          #SpeciesId
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #SpeciesIdx
      PROPERTIES
        Name                #SpeciesIdx
        AllowDuplicates     #No
        Origin              #{12B7E521-5E7A-40BA-9836-916F3CB581C4}
      ENDPROPERTIES
      
      INDEXFIELDS
        #SpeciesId
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
    ENDREFERENCES
    
    DELETEACTIONS
      #VetBreedTable(VetSpeciesTable)
      PROPERTIES
        Table               #VetBreedTable
        DeleteAction        #Cascade
        Relation            #VetSpeciesTable
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : SalesTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #SalesTable
    EnforceFKRelation 0
    PROPERTIES
      Name                #SalesTable
      Label               #@SYS25193
      SearchLinkRefName   #EPSalesTableInfo
      TitleField1         #SalesId
      TitleField2         #SalesName
      ConfigurationKey    #LogisticsBasic
      SecurityKey         #CustTables
      CacheLookup         #NotInTTS
      CreateRecIdIndex    #Yes
      TableGroup          #WorksheetHeader
      PrimaryIndex        #SalesIdx
      ClusterIndex        #SalesIdx
      ModifiedDateTime    #Yes
      DEL_modifiedTime    #Yes
      ModifiedBy          #Yes
      ModifiedTransactionId #Yes
      CreatedDateTime     #Yes
      DEL_createdTime     #Yes
      CreatedBy           #Yes
      CreatedTransactionId #Yes
      DeveloperDocumentation  #@SYS124484
      Origin              #{2C0A016E-0000-1000-B787-EA7473546162}
      LegacyId            #366
    ENDPROPERTIES
    
    FIELDS
      FIELD #AddressRefRecId
        INT64
        PROPERTIES
          Name                #AddressRefRecId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesTable
          Origin              #{AF38A73A-6C15-400A-A82D-80DC6627184C}
          LegacyId            #127
          ExtendedDataType    #AddressRefRecId
        ENDPROPERTIES
        
      FIELD #AddressRefTableId
        INT
        PROPERTIES
          Name                #AddressRefTableId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesTable
          Origin              #{78031ED8-AD82-44A0-9C85-1B3ADA65A756}
          LegacyId            #69
          ExtendedDataType    #AddressRefTableId
        ENDPROPERTIES
        
      FIELD #AutoSummaryModuleType
        ENUM
        PROPERTIES
          Name                #AutoSummaryModuleType
          Label               #@SYS57738
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesTable
          Origin              #{E26AD532-B742-41AA-A23D-E461072A8E75}
          LegacyId            #85
          EnumType            #ModuleCustSales
        ENDPROPERTIES
        
      FIELD #BankAccount_LV
        STRING
        PROPERTIES
          Name                #BankAccount_LV
          Label               #@GLS220786
          HelpText            #@GLS220787
          Table               #SalesTable
          CountryRegionCodes  #CZ,EE,HU,LT,LV,PL
          IgnoreEDTRelation   #Yes
          Origin              #{6DAF6150-8F6E-432A-9A60-69693864E67E}
          ExtendedDataType    #CompanyBankAccountId
        ENDPROPERTIES
        
      FIELD #BankCentralBankPurposeCode
        STRING
        PROPERTIES
          Name                #BankCentralBankPurposeCode
          Table               #SalesTable
          CountryRegionCodes  #NO
          IgnoreEDTRelation   #Yes
          Origin              #{90004273-4C03-46CF-BA8E-2810A7CC6B9C}
          LegacyId            #118
          ExtendedDataType    #BankCentralBankPurposeCode
        ENDPROPERTIES
        
      FIELD #BankCentralBankPurposeText
        STRING
        PROPERTIES
          Name                #BankCentralBankPurposeText
          Table               #SalesTable
          CountryRegionCodes  #NO
          Origin              #{54DE2034-CD4B-49F7-929F-DF669C1E04D9}
          LegacyId            #105
          ExtendedDataType    #BankCentralBankPurposeText
          StringSize          #140
        ENDPROPERTIES
        
      FIELD #BankDocumentType
        ENUM
        PROPERTIES
          Name                #BankDocumentType
          Label               #@SYS313726
          HelpText            #@SYS316247
          Table               #SalesTable
          Origin              #{00363579-7A1E-46AC-9882-2160854B1746}
          LegacyId            #209
          ExtendedDataType    #BankDocumentFacilityNature
          EnumType            #BankDocumentType
        ENDPROPERTIES
        
      FIELD #CaseTagging
        ENUM
        PROPERTIES
          Name                #CaseTagging
          Table               #SalesTable
          Origin              #{6EAAD564-D19E-42CA-90CE-333AD42337FE}
          LegacyId            #125
          ExtendedDataType    #RFIDCaseTagging
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #CashDisc
        STRING
        PROPERTIES
          Name                #CashDisc
          HelpText            #@SYS851
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{3351C9CA-B7A5-4BE1-80AD-59C8B89F2CB6}
          LegacyId            #17
          ExtendedDataType    #CustCashDiscCode
        ENDPROPERTIES
        
      FIELD #CashDiscBaseDate
        DATE
        PROPERTIES
          Name                #CashDiscBaseDate
          Table               #SalesTable
          Origin              #{EB84730D-AE52-420B-ACB4-A4FB496DFD40}
          ExtendedDataType    #CashDiscBaseDate
        ENDPROPERTIES
        
      FIELD #CashDiscBaseDays
        INT
        PROPERTIES
          Name                #CashDiscBaseDays
          Visible             #No
          Table               #SalesTable
          Origin              #{3D05D707-9DB3-4FE7-9A6A-549E72092FBB}
          ExtendedDataType    #CashDiscBaseDays
        ENDPROPERTIES
        
      FIELD #CashDiscPercent
        REAL
        PROPERTIES
          Name                #CashDiscPercent
          Table               #SalesTable
          Origin              #{D77DA4DD-5B6B-41F6-910A-B991985BC6F7}
          LegacyId            #59
          ExtendedDataType    #DiscPct
        ENDPROPERTIES
        
      FIELD #CommissionGroup
        STRING
        PROPERTIES
          Name                #CommissionGroup
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{23B8E66F-F022-478B-9679-A717304B4A7C}
          LegacyId            #53
          ExtendedDataType    #CommissCustomerGroup
        ENDPROPERTIES
        
      FIELD #ConsTarget_JP
        ENUM
        PROPERTIES
          Name                #ConsTarget_JP
          Table               #SalesTable
          Origin              #{2104ED2F-61F3-42B2-86F0-EC0659C6EC96}
          LegacyId            #8081
          ExtendedDataType    #CustConsTarget_JP
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ContactPersonId
        STRING
        PROPERTIES
          Name                #ContactPersonId
          HelpText            #@SYS26087
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{ACA92180-182E-4FE5-981F-2FD9E01B824D}
          LegacyId            #60
          ExtendedDataType    #ContactPersonId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CountyOrigDest
        STRING
        PROPERTIES
          Name                #CountyOrigDest
          Table               #SalesTable
          Origin              #{B49587E3-D311-4EB8-A084-FC518A09E395}
          LegacyId            #28
          ExtendedDataType    #AddressCountyOrigDest
        ENDPROPERTIES
        
      FIELD #CovStatus
        INT
        PROPERTIES
          Name                #CovStatus
          Table               #SalesTable
          Origin              #{37010D16-C609-4B4D-A935-8047DEDCA044}
          LegacyId            #52
          ExtendedDataType    #CovStatus
        ENDPROPERTIES
        
      FIELD #CreditCardApprovalAmount
        REAL
        PROPERTIES
          Name                #CreditCardApprovalAmount
          Label               #@SYS116984
          HelpText            #@SYS117747
          ConfigurationKey    #CreditCard
          Table               #SalesTable
          Origin              #{F3C5C676-C9A9-4CD2-893C-2EEBB05C675C}
          LegacyId            #142
          ExtendedDataType    #AmountMST
        ENDPROPERTIES
        
      FIELD #CreditCardAuthorization
        STRING
        PROPERTIES
          Name                #CreditCardAuthorization
          ConfigurationKey    #CreditCard
          Table               #SalesTable
          Origin              #{DBD5CC2D-7F04-47C1-A279-48F4B6295695}
          LegacyId            #143
          ExtendedDataType    #CreditCardAuthorization
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CreditCardAuthorizationError
        ENUM
        PROPERTIES
          Name                #CreditCardAuthorizationError
          Label               #@SYS117748
          HelpText            #@SYS117749
          ConfigurationKey    #CreditCard
          Table               #SalesTable
          Origin              #{BB03AB58-19D5-45F6-BC59-88BC662374BC}
          LegacyId            #148
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #CreditCardCustRefId
        INT64
        PROPERTIES
          Name                #CreditCardCustRefId
          Label               #@SYS71999
          HelpText            #@SYS117745
          ConfigurationKey    #CreditCard
          Table               #SalesTable
          Origin              #{DE0FF463-A323-4E60-B00D-8981F55F2A65}
          LegacyId            #135
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #CreditNoteReasonCode
        INT64
        PROPERTIES
          Name                #CreditNoteReasonCode
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{0D176954-E170-497F-A088-BFD5B3970EC0}
          ExtendedDataType    #ReasonTableRefRecId
        ENDPROPERTIES
        
      FIELD #CurBankAccount_LV
        STRING
        PROPERTIES
          Name                #CurBankAccount_LV
          Label               #@GLS108456
          HelpText            #@GLS220789
          Table               #SalesTable
          CountryRegionCodes  #CZ,EE,HU,LT,LV,PL
          IgnoreEDTRelation   #Yes
          Origin              #{D8A16152-9D68-4E3E-AA75-D93B0FF9BB37}
          ExtendedDataType    #CompanyBankAccountId
        ENDPROPERTIES
        
      FIELD #CurrencyCode
        STRING
        PROPERTIES
          Name                #CurrencyCode
          HelpText            #@SYS15068
          Mandatory           #Yes
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{38038F9E-5656-41FF-90C8-A23D387225EC}
          LegacyId            #15
          ExtendedDataType    #CustCurrencyCode
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #CustAccount
        STRING
        PROPERTIES
          Name                #CustAccount
          HelpText            #@SYS15261
          Mandatory           #Yes
          Table               #SalesTable
          Origin              #{079A1A78-83CF-41BE-B2F1-E72029811495}
          LegacyId            #4
          ExtendedDataType    #CustAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CustBankAccount_LV
        STRING
        PROPERTIES
          Name                #CustBankAccount_LV
          Label               #@SYS88297
          HelpText            #@GLS220788
          Table               #SalesTable
          CountryRegionCodes  #LV
          Origin              #{D3D32CE8-C128-436D-9402-D22130B1DE1C}
          ExtendedDataType    #CustBankAccountId
        ENDPROPERTIES
        
      FIELD #CustGroup
        STRING
        PROPERTIES
          Name                #CustGroup
          HelpText            #@SYS16729
          Mandatory           #Yes
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{DE838310-96F5-43FB-A6EE-955A4A654B31}
          LegacyId            #20
          ExtendedDataType    #CustGroupId
        ENDPROPERTIES
        
      FIELD #CustInvoiceId
        STRING
        PROPERTIES
          Name                #CustInvoiceId
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{C952F4F7-360E-47C9-94E9-B3FC3ED8D3FE}
          LegacyId            #130
          ExtendedDataType    #CustInvoiceId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CustomerRef
        STRING
        PROPERTIES
          Name                #CustomerRef
          Table               #SalesTable
          Origin              #{61C36B55-918E-4B9D-9A86-E3243DD56727}
          LegacyId            #27
          ExtendedDataType    #CustRef
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #CustomsExportOrder_IN
        ENUM
        PROPERTIES
          Name                #CustomsExportOrder_IN
          Label               #@GLS5723
          HelpText            #@GLS5730
          Table               #SalesTable
          CountryRegionCodes  #IN
          Origin              #{B4EB7CB9-FAB1-48FD-B6C4-EA19DBE6CFDF}
          LegacyId            #8032
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #CustomsShippingBill_IN
        ENUM
        PROPERTIES
          Name                #CustomsShippingBill_IN
          Label               #@GLS5773
          HelpText            #@GLS5710
          Table               #SalesTable
          CountryRegionCodes  #IN
          Origin              #{55226A69-F87F-4804-A7BD-0CCE8ACB7B4E}
          LegacyId            #8053
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #DAXIntegrationID
        GUID
        PROPERTIES
          Name                #DAXIntegrationID
          Label               #@SYS4004696
          HelpText            #@SYS4004696
          Table               #SalesTable
          Origin              #{D5F03120-745F-430D-A803-5054A2DADC0A}
          ExtendedDataType    #ConnIntegrationKey
        ENDPROPERTIES
        
      FIELD #Deadline
        DATE
        PROPERTIES
          Name                #Deadline
          Table               #SalesTable
          Origin              #{23A0CBD9-6908-406C-A037-A0F3322C0A85}
          LegacyId            #65
          ExtendedDataType    #SalesDeadline
        ENDPROPERTIES
        
      FIELD #DefaultDimension
        INT64
        PROPERTIES
          Name                #DefaultDimension
          Table               #SalesTable
          Origin              #{692AAB74-FC19-40E0-BC23-E9635887ADF6}
          LegacyId            #133
          ExtendedDataType    #DimensionDefault
        ENDPROPERTIES
        
      FIELD #DeliveryDate
        DATE
        PROPERTIES
          Name                #DeliveryDate
          Table               #SalesTable
          Origin              #{48D18071-37E0-43CF-8E6B-4D3475011989}
          LegacyId            #6
          ExtendedDataType    #SalesShippingDate
        ENDPROPERTIES
        
      FIELD #DeliveryDateControlType
        ENUM
        PROPERTIES
          Name                #DeliveryDateControlType
          Table               #SalesTable
          Origin              #{DD71BAA6-0E7C-4E47-A87E-E35C2DDEC44F}
          LegacyId            #167
          EnumType            #SalesDeliveryDateControlType
        ENDPROPERTIES
        
      FIELD #DeliveryName
        STRING
        PROPERTIES
          Name                #DeliveryName
          GroupPrompt         #@SYS7399
          Table               #SalesTable
          Origin              #{DBC66C5C-696C-4C52-8D30-AE01805FB545}
          LegacyId            #50
          ExtendedDataType    #LogisticsDeliveryName
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #DeliveryPostalAddress
        INT64
        PROPERTIES
          Name                #DeliveryPostalAddress
          Table               #SalesTable
          Origin              #{D59D0A8A-35DB-454D-8A36-98F4FE1258DA}
          LegacyId            #192
          ExtendedDataType    #LogisticsPostalAddressRecId
        ENDPROPERTIES
        
      FIELD #DirectDebitMandate
        INT64
        PROPERTIES
          Name                #DirectDebitMandate
          Table               #SalesTable
          Origin              #{205E6B52-9A0B-41E8-B5A1-16CD33595912}
          ExtendedDataType    #CustDirectDebitMandateRecId
        ENDPROPERTIES
        
      FIELD #DiscPercent
        REAL
        PROPERTIES
          Name                #DiscPercent
          Table               #SalesTable
          Origin              #{21A3BA65-03E6-40CA-8CD1-6558C3A09AB7}
          LegacyId            #21
          ExtendedDataType    #SalesEndDiscPct
        ENDPROPERTIES
        
      FIELD #DlvMode
        STRING
        PROPERTIES
          Name                #DlvMode
          HelpText            #@SYS1529
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{0C89D9E5-6EE7-4AC6-9D0C-6DB8DBBD9033}
          LegacyId            #31
          ExtendedDataType    #CustDlvModeId
        ENDPROPERTIES
        
      FIELD #DlvReason
        STRING
        PROPERTIES
          Name                #DlvReason
          HelpText            #@SYS79297
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{04D9D066-FE11-44CB-85A9-D73738F42699}
          LegacyId            #111
          ExtendedDataType    #DlvReasonId
        ENDPROPERTIES
        
      FIELD #DlvTerm
        STRING
        PROPERTIES
          Name                #DlvTerm
          HelpText            #@SYS2036
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{595AA3A1-DE95-4C3F-A121-DDC7E2367CBC}
          LegacyId            #30
          ExtendedDataType    #CustDlvTermId
        ENDPROPERTIES
        
      FIELD #DocumentStatus
        ENUM
        PROPERTIES
          Name                #DocumentStatus
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{ABC0126C-8476-47F4-A15B-EFCE3BF5B25D}
          LegacyId            #13
          EnumType            #DocumentStatus
        ENDPROPERTIES
        
      FIELD #EInvoiceAccountCode
        STRING
        PROPERTIES
          Name                #EInvoiceAccountCode
          Table               #SalesTable
          Origin              #{AB8EBB95-B284-4E18-9A0D-46561CFB3B36}
          LegacyId            #122
          ExtendedDataType    #EInvoiceAccountCode
          StringSize          #35
        ENDPROPERTIES
        
      FIELD #EInvoiceLineSpec
        ENUM
        PROPERTIES
          Name                #EInvoiceLineSpec
          Table               #SalesTable
          Origin              #{A3C3AC5E-2799-4653-9970-B1ED11799CD7}
          LegacyId            #81
          ExtendedDataType    #EInvoiceLineSpecific
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #Email
        STRING
        PROPERTIES
          Name                #Email
          Table               #SalesTable
          Origin              #{3625062A-10F9-4D84-8680-CFA1FC228A6E}
          LegacyId            #56
          ExtendedDataType    #Email
          StringSize          #80
        ENDPROPERTIES
        
      FIELD #EndDisc
        STRING
        PROPERTIES
          Name                #EndDisc
          Table               #SalesTable
          Origin              #{D13BD586-3B30-4226-B08B-12C263DE59E4}
          LegacyId            #26
          ExtendedDataType    #CustEndDiscCode
        ENDPROPERTIES
        
      FIELD #EnterpriseNumber
        STRING
        PROPERTIES
          Name                #EnterpriseNumber
          Table               #SalesTable
          Origin              #{5DDD4984-938D-499F-9BAC-8B54862FD301}
          LegacyId            #47
          ExtendedDataType    #TaxEnterpriseNumber
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #Estimate
        REAL
        PROPERTIES
          Name                #Estimate
          Table               #SalesTable
          Origin              #{61FA4288-E9A7-4B50-8000-D6C0BE66F265}
          LegacyId            #88
          ExtendedDataType    #SalesEstimateGross
        ENDPROPERTIES
        
      FIELD #ExportReason
        STRING
        PROPERTIES
          Name                #ExportReason
          Table               #SalesTable
          Origin              #{BDF2A47E-62FD-403E-926C-0EAC8101F0E4}
          LegacyId            #97
          ExtendedDataType    #SalesExportReason
          StringSize          #30
        ENDPROPERTIES
        
      FIELD #FiscalDocType_PL
        ENUM
        PROPERTIES
          Name                #FiscalDocType_PL
          Table               #SalesTable
          CountryRegionCodes  #PL
          Origin              #{49ED515B-2EC5-4A7B-914F-BA25714F0CB8}
          EnumType            #PlFiscalDocType
        ENDPROPERTIES
        
      FIELD #FixedDueDate
        DATE
        PROPERTIES
          Name                #FixedDueDate
          Table               #SalesTable
          Origin              #{9A652D59-922F-4633-A165-E32403615636}
          LegacyId            #94
          ExtendedDataType    #SalesFixedDueDate
        ENDPROPERTIES
        
      FIELD #FixedExchRate
        REAL
        PROPERTIES
          Name                #FixedExchRate
          Table               #SalesTable
          Origin              #{20BEB925-F8D0-42ED-99FD-B058E99728B8}
          LegacyId            #83
          ExtendedDataType    #SalesFixedExchRate
        ENDPROPERTIES
        
      FIELD #FLC_DepositAdvanceTag
        STRING
        PROPERTIES
          Name                #FLC_DepositAdvanceTag
          Table               #SalesTable
          Origin              #{F6F69113-407E-48A7-B576-A2C21AD83932}
          ExtendedDataType    #FLC_DepositAdvanceTag
        ENDPROPERTIES
        
      FIELD #FLC_OrderType
        ENUM
        PROPERTIES
          Name                #FLC_OrderType
          Table               #SalesTable
          Origin              #{FFE06A21-7550-4BC7-8BAA-568712AB4B89}
          EnumType            #FLC_OrderType
        ENDPROPERTIES
        
      FIELD #FreightSlipType
        ENUM
        PROPERTIES
          Name                #FreightSlipType
          Table               #SalesTable
          Origin              #{48A1C2DE-46D4-4576-8D3C-A23DF9BAF0CD}
          LegacyId            #12
          ExtendedDataType    #CustFreightSlipType
          EnumType            #FreightSlipType
        ENDPROPERTIES
        
      FIELD #FreightZone
        STRING
        PROPERTIES
          Name                #FreightZone
          Table               #SalesTable
          Origin              #{2F277711-3BAE-4220-AD50-D4EBEC6971E8}
          LegacyId            #57
          ExtendedDataType    #CustFreightZoneId
        ENDPROPERTIES
        
      FIELD #GiroType
        ENUM
        PROPERTIES
          Name                #GiroType
          Table               #SalesTable
          Origin              #{E1FA6756-C778-4A68-93BF-0482589B37B3}
          LegacyId            #86
          ExtendedDataType    #PaymentStubInvoiceId
          EnumType            #PaymentStub
        ENDPROPERTIES
        
      FIELD #InclTax
        ENUM
        PROPERTIES
          Name                #InclTax
          Table               #SalesTable
          Origin              #{3D2F98D2-250B-444F-ADBC-937A108DDF42}
          LegacyId            #80
          ExtendedDataType    #InclTax
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterCompanyAllowIndirectCreation
        ENUM
        PROPERTIES
          Name                #InterCompanyAllowIndirectCreation
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{3325E522-FB8E-4D8E-833A-427AB7654DE4}
          LegacyId            #48
          ExtendedDataType    #InterCompanyAllowIndirectCreation
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterCompanyAllowIndirectCreationOrig
        ENUM
        PROPERTIES
          Name                #InterCompanyAllowIndirectCreationOrig
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesTable
          Origin              #{E50EBBC8-0E4A-43D0-9832-369A87B86C6D}
          LegacyId            #49
          ExtendedDataType    #InterCompanyAllowIndirectCreation
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterCompanyAutoCreateOrders
        ENUM
        PROPERTIES
          Name                #InterCompanyAutoCreateOrders
          Table               #SalesTable
          Origin              #{248006CF-2222-435B-B9D9-6F5611B09120}
          LegacyId            #39
          ExtendedDataType    #InterCompanyAutoCreateOrders
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterCompanyCompanyId
        STRING
        PROPERTIES
          Name                #InterCompanyCompanyId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{5A854354-AACF-41A7-9ED5-764A04627F61}
          LegacyId            #107
          ExtendedDataType    #InterCompanyCompanyId
          StringSize          #4
        ENDPROPERTIES
        
      FIELD #InterCompanyDirectDelivery
        ENUM
        PROPERTIES
          Name                #InterCompanyDirectDelivery
          Table               #SalesTable
          Origin              #{8E8BBD6B-BDC3-4F5D-97F6-33969F616D2D}
          LegacyId            #40
          ExtendedDataType    #InterCompanyDirectDelivery
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterCompanyDirectDeliveryOrig
        ENUM
        PROPERTIES
          Name                #InterCompanyDirectDeliveryOrig
          Table               #SalesTable
          Origin              #{6E78A2B9-9ED7-4D22-AFC2-D8DF9E37D1BD}
          LegacyId            #41
          ExtendedDataType    #InterCompanyDirectDelivery
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterCompanyOrder
        ENUM
        PROPERTIES
          Name                #InterCompanyOrder
          Table               #SalesTable
          Origin              #{69ECF485-CF8C-4A5C-BBAB-22C1166CC404}
          LegacyId            #109
          ExtendedDataType    #InterCompanyCustomer
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterCompanyOrigin
        ENUM
        PROPERTIES
          Name                #InterCompanyOrigin
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesTable
          Origin              #{1F00600F-CD84-4FEA-BC43-073162CE27B9}
          LegacyId            #55
          EnumType            #InterCompanyOrigin
        ENDPROPERTIES
        
      FIELD #InterCompanyOriginalCustAccount
        STRING
        PROPERTIES
          Name                #InterCompanyOriginalCustAccount
          Table               #SalesTable
          Origin              #{96915D43-3AA5-40AB-93EA-A6EE52C6034F}
          LegacyId            #22
          ExtendedDataType    #InterCompanyOriginalCustAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InterCompanyOriginalSalesId
        STRING
        PROPERTIES
          Name                #InterCompanyOriginalSalesId
          Table               #SalesTable
          Origin              #{13320496-EB73-47EC-90D9-DCBE0F03C330}
          LegacyId            #14
          ExtendedDataType    #InterCompanyOriginalSalesId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InterCompanyPurchId
        STRING
        PROPERTIES
          Name                #InterCompanyPurchId
          Table               #SalesTable
          Origin              #{9F8D84DC-F319-4E81-A12C-E016E0852028}
          LegacyId            #108
          ExtendedDataType    #InterCompanyPurchId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #IntrastatAddValue_LV
        REAL
        PROPERTIES
          Name                #IntrastatAddValue_LV
          Table               #SalesTable
          Origin              #{71BBEDA4-DFA6-483E-A0E0-3DC058BF6368}
          LegacyId            #16047
          ExtendedDataType    #LvIntrastatAddValue
        ENDPROPERTIES
        
      FIELD #IntrastatFulfillmentDate_HU
        DATE
        PROPERTIES
          Name                #IntrastatFulfillmentDate_HU
          Table               #SalesTable
          Origin              #{F4631D65-2043-497D-934C-91FF3BB62ED6}
          LegacyId            #8082
          ExtendedDataType    #IntrastatFulfillmentDate_HU
        ENDPROPERTIES
        
      FIELD #InventLocationId
        STRING
        PROPERTIES
          Name                #InventLocationId
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{C55CEC40-FA82-49E7-ABD5-6AFDB9808333}
          LegacyId            #67
          ExtendedDataType    #SalesInventLocationId
        ENDPROPERTIES
        
      FIELD #InventSiteId
        STRING
        PROPERTIES
          Name                #InventSiteId
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{6B6CDB58-FC8F-4BCF-BD24-BFFA5F26A9C2}
          LegacyId            #131
          ExtendedDataType    #InventSiteId
        ENDPROPERTIES
        
      FIELD #InvoiceAccount
        STRING
        PROPERTIES
          Name                #InvoiceAccount
          HelpText            #@SYS518
          Mandatory           #Yes
          Table               #SalesTable
          Origin              #{542FF9D4-EAA6-4CB5-86CC-7CCA432A82DA}
          LegacyId            #5
          ExtendedDataType    #CustInvoiceAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InvoiceRegister_LT
        ENUM
        PROPERTIES
          Name                #InvoiceRegister_LT
          Table               #SalesTable
          CountryRegionCodes  #LT,LV
          Origin              #{C8082860-D081-466B-9700-847EB37FD1F3}
          LegacyId            #16053
          ExtendedDataType    #LtInvoiceAutoNumbering
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ItemTagging
        ENUM
        PROPERTIES
          Name                #ItemTagging
          Table               #SalesTable
          Origin              #{244E4604-89C9-466F-B7AF-59B34543BA48}
          LegacyId            #124
          ExtendedDataType    #RFIDItemTagging
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #LanguageId
        STRING
        PROPERTIES
          Name                #LanguageId
          HelpText            #@SYS8305
          Mandatory           #Yes
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{B187F9B3-0667-4113-B4D9-BE32778F2C0A}
          LegacyId            #84
          ExtendedDataType    #CustLanguageId
          StringSize          #7
        ENDPROPERTIES
        
      FIELD #LCE_CouponCode
        INT64
        PROPERTIES
          Name                #LCE_CouponCode
          Label               #@LCE46
          HelpText            #@LCE46
          Table               #SalesTable
          Origin              #{5D7C54E1-CDC1-4B5F-BC6F-6E8C1C0F0DE2}
          ExtendedDataType    #LCE_CouponCodeInt64
        ENDPROPERTIES
        
      FIELD #LCE_OpenOrderReason
        STRING
        PROPERTIES
          Name                #LCE_OpenOrderReason
          Table               #SalesTable
          Origin              #{021A9FD5-8479-4861-8E65-E70A28571538}
          ExtendedDataType    #LCE_OpenOrderReason
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #LCE_SalesShippingMarks
        STRING
        PROPERTIES
          Name                #LCE_SalesShippingMarks
          Label               #@LCE146
          Table               #SalesTable
          Origin              #{7B6D04A2-351F-4E4B-A161-E11EF2B556D8}
          ExtendedDataType    #String1000
          StringSize          #1000
        ENDPROPERTIES
        
      FIELD #LineDisc
        STRING
        PROPERTIES
          Name                #LineDisc
          HelpText            #@SYS7237
          Table               #SalesTable
          Origin              #{FF2687B1-0CB8-40ED-978F-5B7F74CFD1A6}
          LegacyId            #19
          ExtendedDataType    #CustLineDiscCode
        ENDPROPERTIES
        
      FIELD #Listcode
        ENUM
        PROPERTIES
          Name                #Listcode
          Table               #SalesTable
          Origin              #{D1D3F0B7-6E30-4683-B8BF-799543B8E6FD}
          LegacyId            #29
          ExtendedDataType    #ListcodeId
          EnumType            #Listcode
        ENDPROPERTIES
        
      FIELD #ManualEntryChangepolicy
        INT64
        PROPERTIES
          Name                #ManualEntryChangepolicy
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesTable
          Origin              #{241A2B59-50BE-4CAB-9EAD-B6CCABCE684D}
          LegacyId            #187
          ExtendedDataType    #PriceDiscPolicyManual
        ENDPROPERTIES
        
      FIELD #Maria_FaxNumber
        STRING
        PROPERTIES
          Name                #Maria_FaxNumber
          Label               #@SYS96186
          Table               #SalesTable
          Origin              #{B9DF1F86-9101-4C54-8427-D40708B6A6F1}
          ExtendedDataType    #TeleFax
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Maria_PhoneNumber
        STRING
        PROPERTIES
          Name                #Maria_PhoneNumber
          Label               #@SYS83745
          Table               #SalesTable
          Origin              #{E3EA0C21-AF9E-4DE0-8202-996AEAEC329A}
          ExtendedDataType    #Phone
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #MarkupGroup
        STRING
        PROPERTIES
          Name                #MarkupGroup
          HelpText            #@SYS5822
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{76B37813-6E8A-4BB2-A57F-10C9C45513CA}
          LegacyId            #34
          ExtendedDataType    #CustMarkupGroupId
        ENDPROPERTIES
        
      FIELD #MatchingAgreement
        INT64
        PROPERTIES
          Name                #MatchingAgreement
          Table               #SalesTable
          Origin              #{05103E46-3471-450C-8A7E-9620229EC024}
          LegacyId            #175
          ExtendedDataType    #AgreementHeaderRecId
        ENDPROPERTIES
        
      FIELD #mb_ConfirmationEmailSent
        ENUM
        PROPERTIES
          Name                #mb_ConfirmationEmailSent
          Table               #SalesTable
          Origin              #{F841FB7C-8F40-4648-8502-D86607AC2A0C}
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #MB_CreditLimitApprovalStatus
        ENUM
        PROPERTIES
          Name                #MB_CreditLimitApprovalStatus
          Label               #@BGM118
          Table               #SalesTable
          Origin              #{E54CEEA7-F253-4BC2-9CC6-0211EAD955DF}
        ENDPROPERTIES
        
      FIELD #mb_IsCreatedFromCustomerService
        ENUM
        PROPERTIES
          Name                #mb_IsCreatedFromCustomerService
          Table               #SalesTable
          Origin              #{B73E08D4-4D3C-431B-BE92-D6A1BF6FC1BB}
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #mb_modeOfDelivery
        STRING
        PROPERTIES
          Name                #mb_modeOfDelivery
          Table               #SalesTable
          Origin              #{22DF7AAD-1A83-466C-A94F-E485796FCDB9}
          ExtendedDataType    #mb_modeOfDelivery
        ENDPROPERTIES
        
      FIELD #MCROrderStopped
        ENUM
        PROPERTIES
          Name                #MCROrderStopped
          Table               #SalesTable
          Origin              #{CDAC884E-57E1-4B67-84F2-693A3E451D5C}
          ExtendedDataType    #MCROrderStopped
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #MultiLineDisc
        STRING
        PROPERTIES
          Name                #MultiLineDisc
          Table               #SalesTable
          Origin              #{351E0715-19B6-4679-9E96-4374DDC67D8E}
          LegacyId            #25
          ExtendedDataType    #CustMultiLineDiscCode
        ENDPROPERTIES
        
      FIELD #NatureOfAssessee_IN
        ENUM
        PROPERTIES
          Name                #NatureOfAssessee_IN
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{AA6452A6-DEF0-4F0D-941D-C44ED3D7A473}
          LegacyId            #8056
          EnumType            #NatureOfAssessee_IN
        ENDPROPERTIES
        
      FIELD #NumberSequenceGroup
        STRING
        PROPERTIES
          Name                #NumberSequenceGroup
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{6DF328D5-05E4-46AC-B2FF-B9A75C543912}
          LegacyId            #82
          ExtendedDataType    #NumberSequenceGroupId
        ENDPROPERTIES
        
      FIELD #OneTimeCustomer
        ENUM
        PROPERTIES
          Name                #OneTimeCustomer
          Table               #SalesTable
          Origin              #{D56C53A6-4AA0-409F-8713-FCAB36319EB2}
          LegacyId            #51
          ExtendedDataType    #OneTimeCustomer
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PackedExtensions
        QUEUE
        PROPERTIES
          Name                #PackedExtensions
          SaveContents        #No
          Visible             #No
          Table               #SalesTable
          Origin              #{8E284279-C15E-40EF-894D-524FA70D3B76}
          ExtendedDataType    #SysExtensionSerializerPackedContainer
        ENDPROPERTIES
        
      FIELD #PackedPrioritizedIdList
        QUEUE
        PROPERTIES
          Name                #PackedPrioritizedIdList
          SaveContents        #No
          Visible             #No
          Table               #SalesTable
          Origin              #{C1B86A4F-A92F-40C2-99F6-A59BDECCA1EE}
          ExtendedDataType    #SysExtensionSerializerPrioritizedIdList
        ENDPROPERTIES
        
      FIELD #PackingSlipRegister_LT
        ENUM
        PROPERTIES
          Name                #PackingSlipRegister_LT
          Table               #SalesTable
          CountryRegionCodes  #LT,LV
          Origin              #{9EFDC337-A1BB-47BF-82B1-06D9496361EE}
          LegacyId            #16054
          ExtendedDataType    #LtPackingSlipAutoNumbering
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PalletTagging
        ENUM
        PROPERTIES
          Name                #PalletTagging
          Table               #SalesTable
          Origin              #{9A26B07A-27AF-4E3E-BA82-919E3B3AA9A1}
          LegacyId            #126
          ExtendedDataType    #RFIDPalletTagging
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #Payment
        STRING
        PROPERTIES
          Name                #Payment
          Label               #@SYS828
          HelpText            #@SYS8004
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{CBE74AA5-1E28-4A60-9908-8D501C5032BA}
          LegacyId            #16
          ExtendedDataType    #CustPaymTermId
        ENDPROPERTIES
        
      FIELD #PaymentSched
        STRING
        PROPERTIES
          Name                #PaymentSched
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{447529CD-0A02-4014-85C6-B05D433DFD08}
          LegacyId            #54
          ExtendedDataType    #PaymSchedId
          StringSize          #30
        ENDPROPERTIES
        
      FIELD #PaymMode
        STRING
        PROPERTIES
          Name                #PaymMode
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{2E6720E8-5C6A-429B-98FD-8EE152C3912A}
          LegacyId            #92
          ExtendedDataType    #CustPaymMode
        ENDPROPERTIES
        
      FIELD #PaymSpec
        STRING
        PROPERTIES
          Name                #PaymSpec
          Table               #SalesTable
          Origin              #{9EC99216-C4D4-43C2-96BF-A9CCEB67D1F8}
          LegacyId            #93
          ExtendedDataType    #CustPaymSpec
        ENDPROPERTIES
        
      FIELD #PdsBatchAttribAutoRes
        ENUM
        PROPERTIES
          Name                #PdsBatchAttribAutoRes
          Table               #SalesTable
          Origin              #{0169C2A5-4C5A-411D-AD9F-DBED1ADA7EA4}
          ExtendedDataType    #PdsBatchAttribAutoRes
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PdsCustRebateGroupId
        STRING
        PROPERTIES
          Name                #PdsCustRebateGroupId
          Table               #SalesTable
          Origin              #{AC99756A-684E-4636-83ED-3DCBC0E49A94}
          ExtendedDataType    #PdsCustRebateGroupId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PdsRebateProgramTMAGroup
        STRING
        PROPERTIES
          Name                #PdsRebateProgramTMAGroup
          Table               #SalesTable
          Origin              #{189E7DFF-FCCE-41FD-B7D3-DF44D100429E}
          ExtendedDataType    #PdsRebateProgramTMAGroup
        ENDPROPERTIES
        
      FIELD #Port
        STRING
        PROPERTIES
          Name                #Port
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{D4C6CFA7-4441-4F00-AEED-622A77867630}
          LegacyId            #71
          ExtendedDataType    #IntrastatPortId
        ENDPROPERTIES
        
      FIELD #PostingProfile
        STRING
        PROPERTIES
          Name                #PostingProfile
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{B82C4B2A-271D-4C54-B4F4-7D6A808FF655}
          LegacyId            #37
          ExtendedDataType    #CustPostingProfile
        ENDPROPERTIES
        
      FIELD #PriceGroupId
        STRING
        PROPERTIES
          Name                #PriceGroupId
          Table               #SalesTable
          Origin              #{13B50B09-D4EF-4881-8D93-F84B2F11FD76}
          LegacyId            #24
          ExtendedDataType    #CustPriceGroup
        ENDPROPERTIES
        
      FIELD #ProjId
        STRING
        PROPERTIES
          Name                #ProjId
          AllowEdit           #No
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{2B83C105-6B54-4B6B-98B5-271B30659465}
          LegacyId            #66
          ExtendedDataType    #ProjId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PurchId
        STRING
        PROPERTIES
          Name                #PurchId
          HelpText            #@SYS10442
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{0B5077F6-4119-41D6-BB87-617FB631F019}
          LegacyId            #32
          ExtendedDataType    #PurchId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PurchOrderFormNum
        STRING
        PROPERTIES
          Name                #PurchOrderFormNum
          Table               #SalesTable
          Origin              #{D8B59B45-51C4-4864-83FB-BBC68272A59D}
          LegacyId            #9
          ExtendedDataType    #CustPurchaseOrder
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #QuotationId
        STRING
        PROPERTIES
          Name                #QuotationId
          Table               #SalesTable
          Origin              #{FF92DE2A-530A-4997-A715-3E588FC0C7D4}
          LegacyId            #112
          ExtendedDataType    #QuotationId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ReceiptDateConfirmed
        DATE
        PROPERTIES
          Name                #ReceiptDateConfirmed
          Table               #SalesTable
          Origin              #{18057E84-AFE1-4BEE-9AFE-63FA432BEBFF}
          LegacyId            #115
          ExtendedDataType    #SalesReceiptDateConfirmed
        ENDPROPERTIES
        
      FIELD #ReceiptDateRequested
        DATE
        PROPERTIES
          Name                #ReceiptDateRequested
          Table               #SalesTable
          Origin              #{A856BFB4-37DC-4424-B737-538543F6ECCB}
          LegacyId            #114
          ExtendedDataType    #SalesReceiptDateRequested
        ENDPROPERTIES
        
      FIELD #ReleaseStatus
        ENUM
        PROPERTIES
          Name                #ReleaseStatus
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{D5D0DE51-2AD8-480B-81CE-EB8A7CAF1226}
          EnumType            #WHSReleaseStatus
        ENDPROPERTIES
        
      FIELD #Reservation
        ENUM
        PROPERTIES
          Name                #Reservation
          Table               #SalesTable
          Origin              #{6FDED444-198B-47D5-9AA7-F3AF689F0037}
          LegacyId            #3
          EnumType            #ItemReservation
        ENDPROPERTIES
        
      FIELD #ReturnDeadline
        DATE
        PROPERTIES
          Name                #ReturnDeadline
          Table               #SalesTable
          Origin              #{DA149DFB-B0F9-42E2-8064-BF82985BAFDF}
          LegacyId            #144
          ExtendedDataType    #ReturnDeadline
        ENDPROPERTIES
        
      FIELD #ReturnItemNum
        STRING
        PROPERTIES
          Name                #ReturnItemNum
          Table               #SalesTable
          Origin              #{AD2BE6ED-7AC0-417D-8BFF-54F0AA0D2726}
          LegacyId            #58
          ExtendedDataType    #SalesReturnItemNum
        ENDPROPERTIES
        
      FIELD #ReturnReasonCodeId
        STRING
        PROPERTIES
          Name                #ReturnReasonCodeId
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{60727816-FF69-42D3-A2EF-7B27088160BE}
          LegacyId            #147
          ExtendedDataType    #ReturnReasonCodeId
        ENDPROPERTIES
        
      FIELD #ReturnReplacementCreated
        ENUM
        PROPERTIES
          Name                #ReturnReplacementCreated
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{DBA537EC-54AA-48E2-AB3A-7801207A28B3}
          LegacyId            #154
          ExtendedDataType    #ReturnReplacementCreated
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ReturnReplacementId
        STRING
        PROPERTIES
          Name                #ReturnReplacementId
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{AB047588-B2F9-45F7-A217-652032FFED59}
          LegacyId            #145
          ExtendedDataType    #ReturnReplacementId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ReturnStatus
        ENUM
        PROPERTIES
          Name                #ReturnStatus
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{40C96A73-FC54-4DD5-BC7B-C6352BB929CB}
          LegacyId            #146
          EnumType            #ReturnStatusHeader
        ENDPROPERTIES
        
      FIELD #SalesGroup
        STRING
        PROPERTIES
          Name                #SalesGroup
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{434F0D92-1969-4BFC-A136-E213FE84AC6B}
          LegacyId            #11
          ExtendedDataType    #CommissSalesGroup
        ENDPROPERTIES
        
      FIELD #SalesId
        STRING
        PROPERTIES
          Name                #SalesId
          Mandatory           #Yes
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{80FE19CC-FB64-4F92-90EE-BA5781699A54}
          LegacyId            #1
          ExtendedDataType    #SalesIdBase
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #SalesName
        STRING
        PROPERTIES
          Name                #SalesName
          Table               #SalesTable
          Origin              #{7F9A8D75-DA36-4009-9307-BB0B4B395546}
          LegacyId            #2
          ExtendedDataType    #SalesName
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #SalesOriginId
        STRING
        PROPERTIES
          Name                #SalesOriginId
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{0792985B-AC54-498F-89D4-AE26F0F6579B}
          LegacyId            #87
          ExtendedDataType    #SalesOriginId
        ENDPROPERTIES
        
      FIELD #SalesPoolId
        STRING
        PROPERTIES
          Name                #SalesPoolId
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{572383AD-444E-449A-A881-06C342E508A6}
          LegacyId            #36
          ExtendedDataType    #SalesPoolId
        ENDPROPERTIES
        
      FIELD #SalesStatus
        ENUM
        PROPERTIES
          Name                #SalesStatus
          AllowEditOnCreate   #No
          AllowEdit           #No
          Table               #SalesTable
          Origin              #{9BCFF147-E6B5-405F-83A4-32E315372685}
          LegacyId            #33
          EnumType            #SalesStatus
        ENDPROPERTIES
        
      FIELD #SalesType
        ENUM
        PROPERTIES
          Name                #SalesType
          Table               #SalesTable
          Origin              #{696DC95A-D3BD-4B10-8C2B-796F2F0F5B20}
          LegacyId            #35
          EnumType            #SalesType
        ENDPROPERTIES
        
      FIELD #SalesUnitId
        STRING
        PROPERTIES
          Name                #SalesUnitId
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{F686D293-F614-4232-9ED6-9BC9862D8A02}
          LegacyId            #8002
          ExtendedDataType    #smmSalesUnitId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #SettleVoucher
        ENUM
        PROPERTIES
          Name                #SettleVoucher
          Table               #SalesTable
          Origin              #{82A47772-7C10-4606-9858-57DAB870E101}
          LegacyId            #45
          ExtendedDataType    #SalesSettlementType
          EnumType            #SettlementType
        ENDPROPERTIES
        
      FIELD #ShipCarrierAccount
        STRING
        PROPERTIES
          Name                #ShipCarrierAccount
          ConfigurationKey    #ShipCarrier
          Table               #SalesTable
          Origin              #{5D9DBD07-84AC-4225-9A40-75057D0E31A4}
          LegacyId            #136
          ExtendedDataType    #ShipCarrierAccount
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ShipCarrierAccountCode
        STRING
        PROPERTIES
          Name                #ShipCarrierAccountCode
          AllowEditOnCreate   #No
          AllowEdit           #No
          ConfigurationKey    #ShipCarrier
          Table               #SalesTable
          Origin              #{0EE071D3-40F9-44AC-9C38-A409EEAA92E0}
          LegacyId            #152
          ExtendedDataType    #ShipCarrierAccountCode
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ShipCarrierBlindShipment
        ENUM
        PROPERTIES
          Name                #ShipCarrierBlindShipment
          ConfigurationKey    #ShipCarrier
          Table               #SalesTable
          Origin              #{AE6B6410-17D9-4AD3-9B00-04299310F9ED}
          LegacyId            #139
          ExtendedDataType    #ShipCarrierBlindShipment
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ShipCarrierDeliveryContact
        STRING
        PROPERTIES
          Name                #ShipCarrierDeliveryContact
          Label               #@SYS116731
          HelpText            #@SYS117746
          ConfigurationKey    #ShipCarrier
          Table               #SalesTable
          Origin              #{319B7D5B-33F5-4437-8F68-60C6F13C3D6F}
          LegacyId            #141
          ExtendedDataType    #Name
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #ShipCarrierDlvType
        ENUM
        PROPERTIES
          Name                #ShipCarrierDlvType
          Table               #SalesTable
          Origin              #{05DF8833-11CA-4C45-95DA-0E088967BB4A}
          LegacyId            #158
          EnumType            #ShipCarrierDlvType
        ENDPROPERTIES
        
      FIELD #ShipCarrierExpeditedShipment
        ENUM
        PROPERTIES
          Name                #ShipCarrierExpeditedShipment
          Table               #SalesTable
          Origin              #{BB9B39C3-E18B-47D6-ADF8-E44F43F6E86D}
          LegacyId            #168
          ExtendedDataType    #ShipCarrierExpeditedShipment
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ShipCarrierFuelSurcharge
        ENUM
        PROPERTIES
          Name                #ShipCarrierFuelSurcharge
          ConfigurationKey    #ShipCarrier
          Table               #SalesTable
          Origin              #{697F3551-CA59-448B-A2BD-8C2B0DA1D457}
          LegacyId            #138
          ExtendedDataType    #ShipCarrierFuelSurcharge
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ShipCarrierId
        STRING
        PROPERTIES
          Name                #ShipCarrierId
          AllowEditOnCreate   #No
          AllowEdit           #No
          ConfigurationKey    #ShipCarrier
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{7048125C-61C8-4F7B-A580-48EC3C4EBFEB}
          LegacyId            #137
          ExtendedDataType    #ShipCarrierId
        ENDPROPERTIES
        
      FIELD #ShipCarrierName
        STRING
        PROPERTIES
          Name                #ShipCarrierName
          Table               #SalesTable
          Origin              #{C7C90228-E7C5-48DD-B732-488C0882CDB3}
          LegacyId            #194
          ExtendedDataType    #LogisticsShipCarrierName
          StringSize          #100
        ENDPROPERTIES
        
      FIELD #ShipCarrierPostalAddress
        INT64
        PROPERTIES
          Name                #ShipCarrierPostalAddress
          Table               #SalesTable
          Origin              #{0B359857-D74D-4091-9909-F2E9F23154CA}
          LegacyId            #193
          ExtendedDataType    #LogisticsPostalAddressRecId
        ENDPROPERTIES
        
      FIELD #ShipCarrierResidential
        ENUM
        PROPERTIES
          Name                #ShipCarrierResidential
          Table               #SalesTable
          Origin              #{B2BD31BE-1846-4CA9-8399-FC04BF64CAB8}
          LegacyId            #169
          ExtendedDataType    #ShipCarrierResidentialDest
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ShippingDateConfirmed
        DATE
        PROPERTIES
          Name                #ShippingDateConfirmed
          Table               #SalesTable
          Origin              #{540382D8-B0C2-4EDF-99B7-2B3D63567FEE}
          LegacyId            #117
          ExtendedDataType    #SalesShippingDateConfirmed
        ENDPROPERTIES
        
      FIELD #ShippingDateRequested
        DATE
        PROPERTIES
          Name                #ShippingDateRequested
          Mandatory           #Yes
          Table               #SalesTable
          Origin              #{A003FB6E-35F3-4834-98FE-67166AFD0FF8}
          LegacyId            #116
          ExtendedDataType    #SalesShippingDateRequested
        ENDPROPERTIES
        
      FIELD #SkipUpdate
        ENUM
        PROPERTIES
          Name                #SkipUpdate
          SaveContents        #No
          Visible             #No
          Table               #SalesTable
          Origin              #{BEFB0137-060A-46FD-8E15-E8B8A74E050C}
          LegacyId            #128
          EnumType            #InterCompanySkipUpdate
        ENDPROPERTIES
        
      FIELD #smmCampaignId
        STRING
        PROPERTIES
          Name                #smmCampaignId
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{0362B433-26A0-4776-B4B7-CAC0397A5DB4}
          LegacyId            #8004
          ExtendedDataType    #smmCampaignId
        ENDPROPERTIES
        
      FIELD #smmSalesAmountTotal
        REAL
        PROPERTIES
          Name                #smmSalesAmountTotal
          Table               #SalesTable
          Origin              #{AEFF394F-B32A-462E-8D11-8C49FE0DF068}
          LegacyId            #8003
          ExtendedDataType    #smmSalesAmountTotal
        ENDPROPERTIES
        
      FIELD #SourceDocumentHeader
        INT64
        PROPERTIES
          Name                #SourceDocumentHeader
          Label               #@SYS314386
          Visible             #No
          Table               #SalesTable
          Origin              #{3938A16C-5D4B-4EF4-A55E-D5F28AF58AB1}
          LegacyId            #205
          ExtendedDataType    #RefRecId
        ENDPROPERTIES
        
      FIELD #StatProcId
        STRING
        PROPERTIES
          Name                #StatProcId
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{1779FDDD-C435-4C9E-8791-B563FF672C5C}
          LegacyId            #104
          ExtendedDataType    #IntrastatProcId
        ENDPROPERTIES
        
      FIELD #SystemEntryChangePolicy
        INT64
        PROPERTIES
          Name                #SystemEntryChangePolicy
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesTable
          Origin              #{257C2061-52E9-4F4A-99F8-95ED6735431D}
          LegacyId            #186
          ExtendedDataType    #PriceDiscPolicySystem
        ENDPROPERTIES
        
      FIELD #SystemEntrySource
        ENUM
        PROPERTIES
          Name                #SystemEntrySource
          AllowEditOnCreate   #No
          AllowEdit           #No
          Visible             #No
          Table               #SalesTable
          Origin              #{AF629E91-2106-4EF1-A7B9-74D547C344E1}
          LegacyId            #185
          EnumType            #PriceDiscSystemSource
        ENDPROPERTIES
        
      FIELD #TaxGroup
        STRING
        PROPERTIES
          Name                #TaxGroup
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{5D31AB5E-E2D4-4908-8AAE-C76B03CE760A}
          LegacyId            #18
          ExtendedDataType    #TaxGroup
        ENDPROPERTIES
        
      FIELD #TaxPeriodPaymentCode_PL
        STRING
        PROPERTIES
          Name                #TaxPeriodPaymentCode_PL
          Table               #SalesTable
          Origin              #{512A3459-A452-4922-814D-8486FF0FEF30}
          ExtendedDataType    #PlTaxPeriodPaymentCode
        ENDPROPERTIES
        
      FIELD #TCSGroup_IN
        STRING
        PROPERTIES
          Name                #TCSGroup_IN
          Label               #@GLS5363
          HelpText            #@GLS5846
          Table               #SalesTable
          CountryRegionCodes  #IN
          Origin              #{4B022655-FC92-4569-A689-F037638A6153}
          LegacyId            #8055
          ExtendedDataType    #TaxWithholdGroup
        ENDPROPERTIES
        
      FIELD #TDSGroup_IN
        STRING
        PROPERTIES
          Name                #TDSGroup_IN
          Label               #@GLS5362
          HelpText            #@GLS5823
          Table               #SalesTable
          CountryRegionCodes  #IN
          Origin              #{126428FD-1414-42CC-8AA1-4473E90EC1C0}
          LegacyId            #8054
          ExtendedDataType    #TaxWithholdGroup
        ENDPROPERTIES
        
      FIELD #Touched
        ENUM
        PROPERTIES
          Name                #Touched
          SaveContents        #No
          Visible             #No
          Table               #SalesTable
          Origin              #{D1D884FF-A184-4082-A7B6-2ACB8B54A4FD}
          LegacyId            #89
          ExtendedDataType    #TradeTouched
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #TransactionCode
        STRING
        PROPERTIES
          Name                #TransactionCode
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{45F4DDD6-622A-41BE-9A6F-91B1B73C68C7}
          LegacyId            #38
          ExtendedDataType    #IntrastatTransactionCodeId
        ENDPROPERTIES
        
      FIELD #Transport
        STRING
        PROPERTIES
          Name                #Transport
          Table               #SalesTable
          IgnoreEDTRelation   #Yes
          Origin              #{9439B6E0-E752-4830-A0BA-F8355D5A0473}
          LegacyId            #90
          ExtendedDataType    #IntrastatTransport
        ENDPROPERTIES
        
      FIELD #TransportationDocument
        INT64
        PROPERTIES
          Name                #TransportationDocument
          Visible             #No
          Table               #SalesTable
          Origin              #{2E490ADE-216F-45B0-9E12-CB8268734395}
          ExtendedDataType    #TransportationDocumentRecId
        ENDPROPERTIES
        
      FIELD #UnitedVATInvoice_LT
        ENUM
        PROPERTIES
          Name                #UnitedVATInvoice_LT
          Table               #SalesTable
          Origin              #{A212B9DD-2DB4-4FF2-906E-7A18C41E0A43}
          LegacyId            #8111
          ExtendedDataType    #UnitedVATInvoice_LT
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #URL
        STRING
        PROPERTIES
          Name                #URL
          Table               #SalesTable
          Origin              #{CCBDE028-3FD0-4462-9343-7D7BD1FDE393}
          LegacyId            #8
          ExtendedDataType    #URL
          StringSize          #255
        ENDPROPERTIES
        
      FIELD #VATNum
        STRING
        PROPERTIES
          Name                #VATNum
          Table               #SalesTable
          Origin              #{FC791268-28F0-41DC-87D7-905961AF1D42}
          LegacyId            #70
          ExtendedDataType    #VATNumJournal
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #WorkerSalesResponsible
        INT64
        PROPERTIES
          Name                #WorkerSalesResponsible
          Table               #SalesTable
          Origin              #{F55D06B2-2FE7-494C-9EF7-0B6A8366B324}
          ExtendedDataType    #WorkerSalesResponsible
        ENDPROPERTIES
        
      FIELD #WorkerSalesTaker
        INT64
        PROPERTIES
          Name                #WorkerSalesTaker
          Table               #SalesTable
          Origin              #{C56E4EAB-B7F3-4DC6-BC63-77ECBEBBBC98}
          LegacyId            #199
          ExtendedDataType    #SalesTaker
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoSummary
        PROPERTIES
          Name                #AutoSummary
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #SalesName
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #SalesName
          #CustAccount
          #InvoiceAccount
          #SalesStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AccountsReceivable
        PROPERTIES
          Name                #AccountsReceivable
          Label               #@SYS25196
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustAccount
          #InvoiceAccount
          #OneTimeCustomer
          #ContactPersonId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AddressDisplay
        PROPERTIES
          Name                #AddressDisplay
          Label               #@SYS9362
        ENDPROPERTIES
        
        GROUPFIELDS
          #deliveryAddressing
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AddressLookup
        PROPERTIES
          Name                #AddressLookup
          Label               #@SYS88672
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #CustAccount
          #InvoiceAccount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AddressReference
        PROPERTIES
          Name                #AddressReference
          Label               #@SYS88679
        ENDPROPERTIES
        
        GROUPFIELDS
          #AddressRefTableId
          #AddressRefRecId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Administration
        PROPERTIES
          Name                #Administration
          Label               #@SYS9853
        ENDPROPERTIES
        
        GROUPFIELDS
          #WorkerSalesTaker
          #SalesPoolId
          #LanguageId
          #SalesUnitId
          #WorkerSalesResponsible
          #SalesOriginId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Agreement
        PROPERTIES
          Name                #Agreement
          Label               #@SYS15240
        ENDPROPERTIES
        
        GROUPFIELDS
          #MatchingAgreement
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Agreement_RU
        PROPERTIES
          Name                #Agreement_RU
          Label               #@SYS15240
        ENDPROPERTIES
        
        GROUPFIELDS
          #agreementDocumentTitle_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #BankAccounts_LV
        PROPERTIES
          Name                #BankAccounts_LV
          Label               #@SYS21829
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankAccount_LV
          #CurBankAccount_LV
          #CustBankAccount_LV
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Campaign
        PROPERTIES
          Name                #Campaign
          Label               #@SYS80187
        ENDPROPERTIES
        
        GROUPFIELDS
          #smmCampaignId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CarrierInfo
        PROPERTIES
          Name                #CarrierInfo
          Label               #@SYS50722
        ENDPROPERTIES
        
        GROUPFIELDS
          #ShipCarrierId
          #ShipCarrierAccountCode
          #ShipCarrierAccount
          #ShipCarrierFuelSurcharge
          #ShipCarrierExpeditedShipment
          #ShipCarrierResidential
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CarrierIssues
        PROPERTIES
          Name                #CarrierIssues
          Label               #@SYS116986
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #CustAccount
          #InvoiceAccount
          #SalesStatus
          #CurrencyCode
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CaseMoreInformation
        PROPERTIES
          Name                #CaseMoreInformation
          Label               #@SYS314356
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #CustAccount
          #InvoiceAccount
          #SalesType
          #SalesStatus
          #CurrencyCode
          #ProjId
          #agreementIsLinked
          #PurchOrderFormNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CaseMoreInformation_ReturnOrder
        PROPERTIES
          Name                #CaseMoreInformation_ReturnOrder
          Label               #@SYS314356
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnItemNum
          #CustAccount
          #InvoiceAccount
          #SalesId
          #ReturnStatus
          #ReturnDeadline
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Commission
        PROPERTIES
          Name                #Commission
          Label               #@SYS2489
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesGroup
          #CommissionGroup
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ConnIntegration
        PROPERTIES
          Name                #ConnIntegration
          Label               #@SYS4004713
        ENDPROPERTIES
        
        GROUPFIELDS
          #DAXIntegrationID
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ConsTarget_JP
        PROPERTIES
          Name                #ConsTarget_JP
          Label               #@SYS106495
        ENDPROPERTIES
        
        GROUPFIELDS
          #ConsTarget_JP
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ContactInfo
        PROPERTIES
          Name                #ContactInfo
          Label               #@SYS21663
        ENDPROPERTIES
        
        GROUPFIELDS
          #URL
          #Email
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CreditCard
        PROPERTIES
          Name                #CreditCard
          Label               #@SYS101746
        ENDPROPERTIES
        
        GROUPFIELDS
          #editCreditCard
          #CreditCardAuthorization
          #CreditCardApprovalAmount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Currency
        PROPERTIES
          Name                #Currency
          Label               #@SYS7572
        ENDPROPERTIES
        
        GROUPFIELDS
          #CurrencyCode
          #FixedExchRate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CurrencyShow
        PROPERTIES
          Name                #CurrencyShow
          Label               #@SYS7572
        ENDPROPERTIES
        
        GROUPFIELDS
          #CurrencyCode
          #editFixedExchRate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CustInvoice
        PROPERTIES
          Name                #CustInvoice
          Label               #@SYS14204
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustInvoiceId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Customer
        PROPERTIES
          Name                #Customer
          Label               #@SYS11779
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustAccount
          #OneTimeCustomer
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Customs_IN
        PROPERTIES
          Name                #Customs_IN
          Label               #@GLS5007
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustomsExportOrder_IN
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CustomsMisc_IN
        PROPERTIES
          Name                #CustomsMisc_IN
          Label               #@SYS80069
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustomsShippingBill_IN
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Delivery
        PROPERTIES
          Name                #Delivery
          Label               #@SYS4508
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReceiptDateRequested
          #ShippingDateRequested
          #ReceiptDateConfirmed
          #ShippingDateConfirmed
          #DeliveryDateControlType
          #DlvMode
          #DlvTerm
          #DlvReason
          #ExportReason
          #ShipCarrierBlindShipment
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DeliveryAddition
        PROPERTIES
          Name                #DeliveryAddition
          Label               #@SYS88262
        ENDPROPERTIES
        
        GROUPFIELDS
          #DlvTerm
          #ShipCarrierAccount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DeliveryAddress
        PROPERTIES
          Name                #DeliveryAddress
          Label               #@SYS7924
        ENDPROPERTIES
        
        GROUPFIELDS
          #ShipCarrierDeliveryContact
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DeliveryAddress_RU
        PROPERTIES
          Name                #DeliveryAddress_RU
          Label               #@SYS7924
        ENDPROPERTIES
        
        GROUPFIELDS
          #DeliveryName
          #ShipCarrierDeliveryContact
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DeliverySummary
        PROPERTIES
          Name                #DeliverySummary
          Label               #@SYS22058
        ENDPROPERTIES
        
        GROUPFIELDS
          #DeliveryName
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Dimension
        PROPERTIES
          Name                #Dimension
          Label               #@SYS342338
        ENDPROPERTIES
        
        GROUPFIELDS
          #DefaultDimension
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Discount
        PROPERTIES
          Name                #Discount
          Label               #@SYS11829
        ENDPROPERTIES
        
        GROUPFIELDS
          #LineDisc
          #MultiLineDisc
          #EndDisc
          #DiscPercent
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DiscountMiscCharges
        PROPERTIES
          Name                #DiscountMiscCharges
          Label               #@SYS22031
        ENDPROPERTIES
        
        GROUPFIELDS
          #PriceGroupId
          #LineDisc
          #MultiLineDisc
          #EndDisc
          #MarkupGroup
          #PdsCustRebateGroupId
          #PdsRebateProgramTMAGroup
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EInvoice
        PROPERTIES
          Name                #EInvoice
          Label               #@SYS100769
        ENDPROPERTIES
        
        GROUPFIELDS
          #EInvoiceLineSpec
          #EInvoiceAccountCode
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Emails
        PROPERTIES
          Name                #Emails
          Label               #@SYS96646
        ENDPROPERTIES
        
        GROUPFIELDS
          #Email
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPMiniPage
        PROPERTIES
          Name                #EPMiniPage
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #SalesName
          #SalesStatus
          #ContactPersonId
          #smmSalesAmountTotal
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ExternalReference
        PROPERTIES
          Name                #ExternalReference
          Label               #@SYS21697
        ENDPROPERTIES
        
        GROUPFIELDS
          #PurchOrderFormNum
          #CustomerRef
          #ReturnItemNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #FiscalDocType_PL
        PROPERTIES
          Name                #FiscalDocType_PL
          Label               #@GLS109781
        ENDPROPERTIES
        
        GROUPFIELDS
          #FiscalDocType_PL
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ForeignTrade
        PROPERTIES
          Name                #ForeignTrade
          Label               #@SYS27650
        ENDPROPERTIES
        
        GROUPFIELDS
          #TransactionCode
          #Transport
          #Port
          #StatProcId
          #Listcode
          #CountyOrigDest
          #IntrastatAddValue_LV
          #IntrastatFulfillmentDate_HU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #GiroMoneyTransferSlip
        PROPERTIES
          Name                #GiroMoneyTransferSlip
          Label               #@SYS2723
        ENDPROPERTIES
        
        GROUPFIELDS
          #GiroType
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #HeaderToLineUpdate
        PROPERTIES
          Name                #HeaderToLineUpdate
          Label               #@SYS62436
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustAccount
          #SalesGroup
          #TaxGroup
          #DefaultDimension
          #InventLocationId
          #Reservation
          #TransactionCode
          #Port
          #StatProcId
          #PriceGroupId
          #LineDisc
          #MarkupGroup
          #DeliveryDate
          #LanguageId
          #Transport
          #DlvMode
          #DlvTerm
          #ShipCarrierAccount
          #TCSGroup_IN
          #TDSGroup_IN
          #IntrastatFulfillmentDate_HU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Identification
        PROPERTIES
          Name                #Identification
          Label               #@SYS5711
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Intercompany
        PROPERTIES
          Name                #Intercompany
          Label               #@SYS75319
        ENDPROPERTIES
        
        GROUPFIELDS
          #InterCompanyOrder
          #InterCompanyCompanyId
          #InterCompanyPurchId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #InterCompanyAdmin
        PROPERTIES
          Name                #InterCompanyAdmin
          Label               #@SYS74106
        ENDPROPERTIES
        
        GROUPFIELDS
          #InterCompanyAutoCreateOrders
          #InterCompanyDirectDelivery
          #interCompanyOriginDisplay
          #InterCompanyAllowIndirectCreation
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #InterCompanyOriginal
        PROPERTIES
          Name                #InterCompanyOriginal
          Label               #@SYS93838
        ENDPROPERTIES
        
        GROUPFIELDS
          #InterCompanyOriginalSalesId
          #InterCompanyOriginalCustAccount
          #InterCompanyDirectDeliveryOrig
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #InterCompanyReturn
        PROPERTIES
          Name                #InterCompanyReturn
          Label               #@SYS120343
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnReplacementCreated
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Inventory
        PROPERTIES
          Name                #Inventory
          Label               #@SYS981
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventSiteId
          #InventLocationId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #MCRCCAuthorization
        PROPERTIES
          Name                #MCRCCAuthorization
          Label               #@MCR23339
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #SalesName
          #CustAccount
          #SalesType
          #SalesStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #MCRDefaultClassification
        PROPERTIES
          Name                #MCRDefaultClassification
          Label               #@MCR22225
        ENDPROPERTIES
        
        GROUPFIELDS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #MCRReturn
        PROPERTIES
          Name                #MCRReturn
          Label               #@MCR12123
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnItemNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #MCRWebConfirmation
        PROPERTIES
          Name                #MCRWebConfirmation
          Label               #@MCR28470
        ENDPROPERTIES
        
        GROUPFIELDS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #NotificationToTheCentralBank
        PROPERTIES
          Name                #NotificationToTheCentralBank
          Label               #@SYS67156
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankCentralBankPurposeCode
          #BankCentralBankPurposeText
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Other
        PROPERTIES
          Name                #Other
          Label               #@SYS1284
        ENDPROPERTIES
        
        GROUPFIELDS
          #CreditCardCustRefId
          #CreditCardAuthorizationError
          #ShipCarrierDlvType
          #ShipCarrierName
          #ShipCarrierPostalAddress
          #DeliveryPostalAddress
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Overview
        PROPERTIES
          Name                #Overview
          Label               #@SYS9039
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #CustAccount
          #InvoiceAccount
          #SalesType
          #SalesStatus
          #CurrencyCode
          #ProjId
          #qualityOrderStatusDisplay
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Overview_RU
        PROPERTIES
          Name                #Overview_RU
          Label               #@SYS9039
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesId
          #CustAccount
          #InvoiceAccount
          #SalesType
          #SalesStatus
          #CurrencyCode
          #ProjId
          #showContactPerson
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Payment
        PROPERTIES
          Name                #Payment
          Label               #@SYS828
        ENDPROPERTIES
        
        GROUPFIELDS
          #Payment
          #FixedDueDate
          #PaymMode
          #PaymSpec
          #PaymentSched
          #CashDisc
          #CashDiscBaseDate
          #CashDiscPercent
          #BankDocumentType
          #DirectDebitMandate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Posting
        PROPERTIES
          Name                #Posting
          Label               #@SYS5943
        ENDPROPERTIES
        
        GROUPFIELDS
          #PostingProfile
          #SettleVoucher
          #NumberSequenceGroup
          #InvoiceRegister_LT
          #PackingSlipRegister_LT
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Project
        PROPERTIES
          Name                #Project
          Label               #@SYS4534
        ENDPROPERTIES
        
        GROUPFIELDS
          #ProjId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Quotation
        PROPERTIES
          Name                #Quotation
          Label               #@SYS5864
        ENDPROPERTIES
        
        GROUPFIELDS
          #QuotationId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReasonCode_W
        PROPERTIES
          Name                #ReasonCode_W
          Label               #@SYS114719
        ENDPROPERTIES
        
        GROUPFIELDS
          #CreditNoteReasonCode
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Reservation
        PROPERTIES
          Name                #Reservation
          Label               #@SYS7669
        ENDPROPERTIES
        
        GROUPFIELDS
          #Reservation
          #PdsBatchAttribAutoRes
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Return
        PROPERTIES
          Name                #Return
          Label               #@SYS24700
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnReasonCodeId
          #ReturnStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReturnItemNum
        PROPERTIES
          Name                #ReturnItemNum
          Label               #@SYS104082
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnItemNum
          #CustAccount
          #ReturnStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReturnListPage
        PROPERTIES
          Name                #ReturnListPage
          Label               #@SYS9039
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnItemNum
          #CustAccount
          #InvoiceAccount
          #ReturnReasonCodeId
          #ReturnDeadline
          #ReturnStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReturnOrder
        PROPERTIES
          Name                #ReturnOrder
          Label               #@SYS105841
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnItemNum
          #SalesId
          #ReturnReasonCodeId
          #ReturnDeadline
          #CurrencyCode
          #CustAccount
          #InvoiceAccount
          #editContactPersonName
          #ContactPersonId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReturnReplacement
        PROPERTIES
          Name                #ReturnReplacement
          Label               #@SYS84714
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnReplacementId
          #ReturnReplacementCreated
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #RFIDTagging
        PROPERTIES
          Name                #RFIDTagging
          Label               #@SYS90171
        ENDPROPERTIES
        
        GROUPFIELDS
          #ItemTagging
          #CaseTagging
          #PalletTagging
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesAmountTotal
        PROPERTIES
          Name                #SalesAmountTotal
          Label               #@SYS23862
        ENDPROPERTIES
        
        GROUPFIELDS
          #smmSalesAmountTotal
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesOrderTable
        PROPERTIES
          Name                #SalesOrderTable
          Label               #@SYS12847
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnItemNum
          #CovStatus
          #SalesName
          #SalesType
          #MarkupGroup
          #DocumentStatus
          #CustGroup
          #PostingProfile
          #SettleVoucher
          #SalesStatus
          #Reservation
          #PurchId
          #Deadline
          #Estimate
          #Touched
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesTax
        PROPERTIES
          Name                #SalesTax
          Label               #@SYS5878
        ENDPROPERTIES
        
        GROUPFIELDS
          #TaxGroup
          #VATNum
          #EnterpriseNumber
          #InclTax
          #UnitedVATInvoice_LT
          #TaxPeriodPaymentCode_PL
          #editExportSales_PL
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Status
        PROPERTIES
          Name                #Status
          Label               #@SYS25587
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesStatus
          #DocumentStatus
          #Deadline
          #qualityOrderStatusDisplay
          #MCROrderStopped
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SummaryNumber
        PROPERTIES
          Name                #SummaryNumber
          Label               #*** OUTDATED ***
        ENDPROPERTIES
        
        GROUPFIELDS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SummaryOrder
        PROPERTIES
          Name                #SummaryOrder
          Label               #@SYS24079
        ENDPROPERTIES
        
        GROUPFIELDS
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SummaryUpdate
        PROPERTIES
          Name                #SummaryUpdate
          Label               #@SYS57755
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustAccount
          #InvoiceAccount
          #SalesType
          #CurrencyCode
          #FixedExchRate
          #ContactPersonId
          #LanguageId
          #DefaultDimension
          #SalesPoolId
          #PostingProfile
          #NumberSequenceGroup
          #VATNum
          #InclTax
          #SalesGroup
          #CommissionGroup
          #DlvMode
          #DlvTerm
          #FreightZone
          #FreightSlipType
          #PriceGroupId
          #MultiLineDisc
          #EndDisc
          #DiscPercent
          #LineDisc
          #CashDisc
          #Payment
          #PaymentSched
          #TransactionCode
          #Listcode
          #InventLocationId
          #PaymMode
          #PaymSpec
          #FixedDueDate
          #InterCompanyCompanyId
          #InterCompanyOriginalCustAccount
          #InterCompanyDirectDeliveryOrig
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SummaryUpdateParameters
        PROPERTIES
          Name                #SummaryUpdateParameters
          Label               #@SYS57738
        ENDPROPERTIES
        
        GROUPFIELDS
          #AutoSummaryModuleType
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SummaryUpdateShow
        PROPERTIES
          Name                #SummaryUpdateShow
          Label               #@SYS57755
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustAccount
          #InvoiceAccount
          #SalesType
          #CurrencyCode
          #FixedExchRate
          #ContactPersonId
          #LanguageId
          #DefaultDimension
          #SalesPoolId
          #PostingProfile
          #NumberSequenceGroup
          #VATNum
          #InclTax
          #SalesGroup
          #CommissionGroup
          #DlvMode
          #DlvTerm
          #FreightZone
          #FreightSlipType
          #PriceGroupId
          #MultiLineDisc
          #EndDisc
          #DiscPercent
          #LineDisc
          #CashDisc
          #Payment
          #PaymentSched
          #TransactionCode
          #Listcode
          #InventLocationId
          #PaymMode
          #PaymSpec
          #FixedDueDate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Transport
        PROPERTIES
          Name                #Transport
          Label               #@SYS3843
        ENDPROPERTIES
        
        GROUPFIELDS
          #FreightZone
          #FreightSlipType
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Warehouse
        PROPERTIES
          Name                #Warehouse
          Label               #@WAX374
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReleaseStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WebCategoryBrowsing
        PROPERTIES
          Name                #WebCategoryBrowsing
          Label               #@SYS74258
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WebCategoryBrowsingReturn
        PROPERTIES
          Name                #WebCategoryBrowsingReturn
          Label               #@SYS74258
        ENDPROPERTIES
        
        GROUPFIELDS
          #ReturnStatus
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WebDelivery
        PROPERTIES
          Name                #WebDelivery
          Label               #@SYS4508
        ENDPROPERTIES
        
        GROUPFIELDS
          #DeliveryName
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WithholdingTax_IN
        PROPERTIES
          Name                #WithholdingTax_IN
          Label               #@SYS33817
        ENDPROPERTIES
        
        GROUPFIELDS
          #NatureOfAssessee_IN
          #TDSGroup_IN
          #TCSGroup_IN
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #SalesIdx
      PROPERTIES
        Name                #SalesIdx
        AllowDuplicates     #No
        AlternateKey        #Yes
        Origin              #{2B080001-016E-1000-5361-6C6573496478}
        LegacyId            #1
      ENDPROPERTIES
      
      INDEXFIELDS
        #SalesId
      ENDINDEXFIELDS
      
      #CustIdx
      PROPERTIES
        Name                #CustIdx
        AllowDuplicates     #No
        Origin              #{2B070002-016E-1000-4375-737449647800}
        LegacyId            #2
      ENDPROPERTIES
      
      INDEXFIELDS
        #CustAccount
        #SalesId
        #PurchOrderFormNum
      ENDINDEXFIELDS
      
      #ProjIdIdx
      PROPERTIES
        Name                #ProjIdIdx
        ConfigurationKey    #ProjBasic
        Origin              #{2B090003-016E-1000-F8C6-816A49644964}
        LegacyId            #3
      ENDPROPERTIES
      
      INDEXFIELDS
        #ProjId
        #SalesId
      ENDINDEXFIELDS
      
      #StatusCustAccIdx
      PROPERTIES
        Name                #StatusCustAccIdx
        Origin              #{2B100005-016E-1000-7441-06E50F55056F}
        LegacyId            #5
      ENDPROPERTIES
      
      INDEXFIELDS
        #SalesStatus
        #CustAccount
      ENDINDEXFIELDS
      
      #InvoiceAccStatusIdx
      PROPERTIES
        Name                #InvoiceAccStatusIdx
        Origin              #{2B130006-016E-1000-6DB1-5FCC7B828353}
        LegacyId            #6
      ENDPROPERTIES
      
      INDEXFIELDS
        #InvoiceAccount
        #SalesStatus
      ENDINDEXFIELDS
      
      #ReturnNumIdx
      PROPERTIES
        Name                #ReturnNumIdx
        ConfigurationKey    #ReturnItem
        Origin              #{2B0C0007-016E-1000-D1BE-376FD6804E75}
        LegacyId            #7
      ENDPROPERTIES
      
      INDEXFIELDS
        #ReturnItemNum
      ENDINDEXFIELDS
      
      #SalesTypeIdx
      PROPERTIES
        Name                #SalesTypeIdx
        Origin              #{2B0C0009-016E-1000-FA81-2E5FD7667970}
        LegacyId            #9
      ENDPROPERTIES
      
      INDEXFIELDS
        #SalesType
        #SalesId
      ENDINDEXFIELDS
      
      #AgreementHeaderIdx
      PROPERTIES
        Name                #AgreementHeaderIdx
        Origin              #{2B120014-016E-1000-09A6-8E2BD269E89A}
        LegacyId            #20
      ENDPROPERTIES
      
      INDEXFIELDS
        #MatchingAgreement
      ENDINDEXFIELDS
      
      #CustCreatedDateIdx
      PROPERTIES
        Name                #CustCreatedDateIdx
        Origin              #{BDCB732C-DC58-43E4-9904-8BA05D765B57}
        LegacyId            #36
      ENDPROPERTIES
      
      INDEXFIELDS
        #CustAccount
        #createdDateTime
      ENDINDEXFIELDS
      
      #SourceDocumentIdx
      PROPERTIES
        Name                #SourceDocumentIdx
        AllowDuplicates     #No
        AlternateKey        #Yes
        Origin              #{05851D24-F058-410A-B94B-2197C602A559}
        LegacyId            #80
      ENDPROPERTIES
      
      INDEXFIELDS
        #SourceDocumentHeader
        #dataAreaId
      ENDINDEXFIELDS
      
      #ConsTarget_JPIdx
      PROPERTIES
        Name                #ConsTarget_JPIdx
        Origin              #{ED4E4437-387A-42F0-B108-8480F0DD745F}
        LegacyId            #8006
      ENDPROPERTIES
      
      INDEXFIELDS
        #InvoiceAccount
        #ConsTarget_JP
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #Agreement
        PROPERTIES
          Name                #Agreement
          Table               #AgreementHeader
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #AgreementHeader
          Role                #AgreementHeader_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #MatchingAgreement
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #BankAccount_LV
        PROPERTIES
          Name                #BankAccount_LV
          Table               #BankAccountTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #BankAccount_LV
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #BankAccount_LV
            RelatedField        #AccountID
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #BankCentralBankPurpose
        PROPERTIES
          Name                #BankCentralBankPurpose
          Table               #BankCentralBankPurpose
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #BankCentralBankPurposeCode
            RelatedField        #Code
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CashDisc
        PROPERTIES
          Name                #CashDisc
          Table               #CashDisc
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CashDisc
            RelatedField        #CashDiscCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CommissionCustomerGroup
        PROPERTIES
          Name                #CommissionCustomerGroup
          Table               #CommissionCustomerGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CommissionGroup
            RelatedField        #GroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CommissionSalesGroup
        PROPERTIES
          Name                #CommissionSalesGroup
          Table               #CommissionSalesGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesGroup
            RelatedField        #GroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #Common
        PROPERTIES
          Name                #Common
          Table               #Common
          Validate            #No
          RelationshipType    #Link
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AddressRefRecId
            RelatedField        #RecId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AddressRefTableId
            RelatedField        #TableId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ContactPerson
        PROPERTIES
          Name                #ContactPerson
          Table               #ContactPerson
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ContactPersonId
            RelatedField        #ContactPersonId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CountyOrigDest
        PROPERTIES
          Name                #CountyOrigDest
          Table               #LogisticsAddressCounty
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CountyOrigDest
          Role                #SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #CountyOrigDest
            RelatedField        #CountyId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CreditCard
        PROPERTIES
          Name                #CreditCard
          Table               #CreditCardCust
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #CreditCardCustRefId
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CurBankAccount_LV
        PROPERTIES
          Name                #CurBankAccount_LV
          Table               #BankAccountTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #CurBankAccount_LV
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #CurBankAccount_LV
            RelatedField        #AccountID
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #Currency
        PROPERTIES
          Name                #Currency
          Table               #Currency
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CurrencyCode
            RelatedField        #CurrencyCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustBankAccount_LV
        PROPERTIES
          Name                #CustBankAccount_LV
          Table               #CustBankAccount
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InvoiceAccount
            RelatedField        #CustAccount
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #CustBankAccount_LV
            RelatedField        #AccountID
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustDirectDebitMandate
        PROPERTIES
          Name                #CustDirectDebitMandate
          Table               #CustDirectDebitMandate
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #DirectDebitMandate
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustGroup
        PROPERTIES
          Name                #CustGroup
          Table               #CustGroup
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CustGroup
            RelatedField        #CustGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustInvoiceJour
        PROPERTIES
          Name                #CustInvoiceJour
          Table               #CustInvoiceJour
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #CustInvoiceId
            RelatedField        #InvoiceId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustLedger
        PROPERTIES
          Name                #CustLedger
          Table               #CustLedger
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PostingProfile
            RelatedField        #PostingProfile
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustLineDiscountGroup
        PROPERTIES
          Name                #CustLineDiscountGroup
          Table               #PriceDiscGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CustLineDiscountGroup
          Role                #SalesTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #LineDisc
            RelatedField        #GroupId
            SourceEDT           #CustLineDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Type
            SourceEDT           #CustLineDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Module
            SourceEDT           #CustLineDiscCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustMarkupGroup
        PROPERTIES
          Name                #CustMarkupGroup
          Table               #MarkupGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CustMarkupGroup
          Role                #SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #MarkupGroup
            RelatedField        #GroupId
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #MarkupGroup
            RelatedField        #Module
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustMultiLineDiscountGroup
        PROPERTIES
          Name                #CustMultiLineDiscountGroup
          Table               #PriceDiscGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CustMultiLineDiscountGroup
          Role                #SalesTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #MultiLineDisc
            RelatedField        #GroupId
            SourceEDT           #CustMultiLineDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #2
            Table               #PriceDiscGroup
            RelatedField        #Type
            SourceEDT           #CustMultiLineDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Module
            SourceEDT           #CustMultiLineDiscCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustPaymModeSpec
        PROPERTIES
          Name                #CustPaymModeSpec
          Table               #CustPaymModeSpec
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PaymMode
            RelatedField        #PaymMode
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PaymSpec
            RelatedField        #Specification
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustPaymModeTable
        PROPERTIES
          Name                #CustPaymModeTable
          Table               #CustPaymModeTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PaymMode
            RelatedField        #PaymMode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustPriceGroup
        PROPERTIES
          Name                #CustPriceGroup
          Table               #PriceDiscGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CustPriceGroup
          Role                #SalesTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PriceGroupId
            RelatedField        #GroupId
            SourceEDT           #CustPriceGroup
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Table               #PriceDiscGroup
            RelatedField        #Type
            SourceEDT           #CustPriceGroup
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Module
            SourceEDT           #CustPriceGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustTotalDiscountGroup
        PROPERTIES
          Name                #CustTotalDiscountGroup
          Table               #PriceDiscGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CustTotalDiscountGroup
          Role                #SalesTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #EndDisc
            RelatedField        #GroupId
            SourceEDT           #CustEndDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #3
            Table               #PriceDiscGroup
            RelatedField        #Type
            SourceEDT           #CustEndDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Module
            SourceEDT           #CustEndDiscCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DefaultDimension
        PROPERTIES
          Name                #DefaultDimension
          Table               #DimensionAttributeValueSet
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #DimensionAttributeValueSet
          Role                #DimensionAttributeValueSet_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DefaultDimension
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DeliveryPostalAddress_FK
        PROPERTIES
          Name                #DeliveryPostalAddress_FK
          Table               #LogisticsPostalAddress
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #LogisticsPostalAddress
          Role                #LogisticsPostalAddress_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DeliveryPostalAddress
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DlvMode
        PROPERTIES
          Name                #DlvMode
          Table               #DlvMode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DlvMode
            RelatedField        #Code
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DlvReason
        PROPERTIES
          Name                #DlvReason
          Table               #DlvReason
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DlvReason
            RelatedField        #Code
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DlvTerm
        PROPERTIES
          Name                #DlvTerm
          Table               #DlvTerm
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DlvTerm
            RelatedField        #Code
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InterCompany
        PROPERTIES
          Name                #InterCompany
          Table               #DataArea
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #InterCompany
          Role                #SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InterCompanyCompanyId
            RelatedField        #id
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Table               #DataArea
            RelatedField        #isVirtual
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #IntrastatPort
        PROPERTIES
          Name                #IntrastatPort
          Table               #IntrastatPort
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #Port
            RelatedField        #PortId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #IntrastatStatProc
        PROPERTIES
          Name                #IntrastatStatProc
          Table               #IntrastatStatProc
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #StatProcId
            RelatedField        #StatProcId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #IntrastatTransactionCode
        PROPERTIES
          Name                #IntrastatTransactionCode
          Table               #IntrastatTransactionCode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TransactionCode
            RelatedField        #TransactionCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #IntrastatTransportMode
        PROPERTIES
          Name                #IntrastatTransportMode
          Table               #IntrastatTransportMode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #Transport
            RelatedField        #TransPortCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventLocation
        PROPERTIES
          Name                #InventLocation
          Table               #InventLocation
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InventLocationId
            RelatedField        #InventLocationId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventSite
        PROPERTIES
          Name                #InventSite
          Table               #InventSite
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InventSiteId
            RelatedField        #SiteId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InvoiceCustomer
        PROPERTIES
          Name                #InvoiceCustomer
          Table               #CustTable
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #InvoiceCustomer
          Role                #SalesTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InvoiceAccount
            RelatedField        #AccountNum
            SourceEDT           #CustInvoiceAccount
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #LanguageTable
        PROPERTIES
          Name                #LanguageTable
          Table               #LanguageTable
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #LanguageId
            RelatedField        #LanguageId
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #LanguageTable
            RelatedField        #LabelFile
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #LCE_SalesCoupons
        PROPERTIES
          Name                #LCE_SalesCoupons
          Table               #LCE_SalesCoupons
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #LCE_CouponCode
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #MarkupGroup
        PROPERTIES
          Name                #MarkupGroup
          Table               #MarkupGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #MarkupGroup
            RelatedField        #Module
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #MarkupGroup
            RelatedField        #GroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #mb_modeOfDelivery
        PROPERTIES
          Name                #mb_modeOfDelivery
          Table               #DlvMode
          UseDefaultRoleNames #Yes
          RelatedTableRole    #mb_modeOfDelivery
          Role                #mb_modeOfeDelivery
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #mb_modeOfDelivery
            RelatedField        #Code
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #MCRHoldCodeTrans
        PROPERTIES
          Name                #MCRHoldCodeTrans
          Table               #MCRHoldCodeTrans
          Validate            #No
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SalesId
            RelatedField        #InventRefId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #MCRInstallmentPlanSalesTable
        PROPERTIES
          Name                #MCRInstallmentPlanSalesTable
          Table               #MCRInstallmentPlanSalesTable
          Validate            #No
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SalesId
            RelatedField        #SalesId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #NumberSequenceGroup
        PROPERTIES
          Name                #NumberSequenceGroup
          Table               #NumberSequenceGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #NumberSequenceGroup
            RelatedField        #numberSequenceGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #OrderCustomer
        PROPERTIES
          Name                #OrderCustomer
          Table               #CustTable
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #OrderCustomer
          Role                #SalesTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CustAccount
            RelatedField        #AccountNum
            SourceEDT           #CustAccount
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PaymSched
        PROPERTIES
          Name                #PaymSched
          Table               #PaymSched
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PaymentSched
            RelatedField        #Name
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PaymTerm
        PROPERTIES
          Name                #PaymTerm
          Table               #PaymTerm
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #Payment
            RelatedField        #PaymTermId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PdsCustRebateGroup
        PROPERTIES
          Name                #PdsCustRebateGroup
          Table               #PdsCustRebateGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PdsCustRebateGroupId
            RelatedField        #PdsCustRebateGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PdsRebateProgramTMATable
        PROPERTIES
          Name                #PdsRebateProgramTMATable
          Table               #PdsRebateProgramTMATable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PdsRebateProgramTMAGroup
            RelatedField        #PdsRebateProgramTMAGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PlTaxDueTable
        PROPERTIES
          Name                #PlTaxDueTable
          Table               #PlTaxDueTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PlTaxDueTable
          Role                #SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #TaxPeriodPaymentCode_PL
            RelatedField        #TaxPeriodPaymentCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PriceDiscChangePolicyRecId1
        PROPERTIES
          Name                #PriceDiscChangePolicyRecId1
          Table               #PriceDiscChangePolicy
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #PriceDiscChangePolicy
          Role                #PriceDiscChangePolicy_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SystemEntryChangePolicy
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PriceDiscChangePolicyRecId2
        PROPERTIES
          Name                #PriceDiscChangePolicyRecId2
          Table               #PriceDiscChangePolicy
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #PriceDiscChangePolicy_1
          Role                #PriceDiscChangePolicy_1_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ManualEntryChangepolicy
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ProjTable
        PROPERTIES
          Name                #ProjTable
          Table               #ProjTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ProjId
            RelatedField        #ProjId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PurchTable
        PROPERTIES
          Name                #PurchTable
          Table               #PurchTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #PurchTable
          Role                #SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #SalesTable
            Field               #InterCompanyOrder
          ENDPROPERTIES
          
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #SalesTable
            Field               #InterCompanyCompanyId
          ENDPROPERTIES
          
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #SalesTable
            Field               #InterCompanyPurchId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PurchId
            RelatedField        #PurchId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PurchTableInterCompany
        PROPERTIES
          Name                #PurchTableInterCompany
          Table               #PurchTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PurchTableInterCompany
          Role                #SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE THISFIXED
          PROPERTIES
            Table               #SalesTable
            Field               #InterCompanyOrder
            Value               #1
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InterCompanyCompanyId
            RelatedField        #dataAreaId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #InterCompanyPurchId
            RelatedField        #PurchId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ReasonTableRef
        PROPERTIES
          Name                #ReasonTableRef
          Table               #ReasonTableRef
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CreditNoteReasonCode
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ReturnReasonCode
        PROPERTIES
          Name                #ReturnReasonCode
          Table               #ReturnReasonCode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ReturnReasonCodeId
            RelatedField        #ReasonCodeId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesOrigin
        PROPERTIES
          Name                #SalesOrigin
          Table               #SalesOrigin
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesOriginId
            RelatedField        #OriginId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesPool
        PROPERTIES
          Name                #SalesPool
          Table               #SalesPool
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesPoolId
            RelatedField        #SalesPoolId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesTable
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ReturnReplacementId
            RelatedField        #SalesId
            SourceEDT           #ReturnReplacementId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ShipCarrierPostalAddress_FK
        PROPERTIES
          Name                #ShipCarrierPostalAddress_FK
          Table               #LogisticsPostalAddress
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #LogisticsPostalAddress_1
          Role                #LogisticsPostalAddress_1_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ShipCarrierPostalAddress
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ShipCarrierTable
        PROPERTIES
          Name                #ShipCarrierTable
          Table               #ShipCarrierTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ShipCarrierId
            RelatedField        #CarrierId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #smmCampaignTable
        PROPERTIES
          Name                #smmCampaignTable
          Table               #smmCampaignTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #smmCampaignId
            RelatedField        #CampaignId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #smmSalesUnit
        PROPERTIES
          Name                #smmSalesUnit
          Table               #smmSalesUnit
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesUnitId
            RelatedField        #SalesUnitId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SourceDocumentHeader
        PROPERTIES
          Name                #SourceDocumentHeader
          Table               #SourceDocumentHeader
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #SourceDocumentHeader
          Role                #SourceDocumentHeader_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SourceDocumentHeader
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxGroupHeading
        PROPERTIES
          Name                #TaxGroupHeading
          Table               #TaxGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TaxGroup
            RelatedField        #TaxGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxServiceTariff
        PROPERTIES
          Name                #TaxServiceTariff
          Table               #TaxServiceTariff
          Validate            #No
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #TaxServiceTariff
          Role                #SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #RecId
            RelatedField        #ParentRecId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #TableId
            RelatedField        #ParentTableId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxWithholdGroupHeadingTCS_IN
        PROPERTIES
          Name                #TaxWithholdGroupHeadingTCS_IN
          Table               #TaxWithholdGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #TaxWithholdGroupHeading_1
          Role                #TaxWithholdGroupHeading_1_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TCSGroup_IN
            RelatedField        #TaxWithholdGroup
            SourceEDT           #TaxWithholdGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxWithholdGroupHeadingTDS_IN
        PROPERTIES
          Name                #TaxWithholdGroupHeadingTDS_IN
          Table               #TaxWithholdGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #TaxWithholdGroupHeading
          Role                #TaxWithholdGroupHeading_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TDSGroup_IN
            RelatedField        #TaxWithholdGroup
            SourceEDT           #TaxWithholdGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TransportationDocument
        PROPERTIES
          Name                #TransportationDocument
          Table               #TransportationDocument
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TransportationDocument
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #WorkerSalesResponsible_FK
        PROPERTIES
          Name                #WorkerSalesResponsible_FK
          Table               #HcmWorker
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #SalesResponsible
          Role                #SalesResponsible_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #WorkerSalesResponsible
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #WorkerSalesTaker_FK
        PROPERTIES
          Name                #WorkerSalesTaker_FK
          Table               #HcmWorker
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #SalesTaker
          Role                #SalesTaker_SalesTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #WorkerSalesTaker
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #RetailSalesAffiliation(SalesTable)
      PROPERTIES
        Table               #RetailSalesAffiliation
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #SalesTable_W(SalesTable)
      PROPERTIES
        Table               #SalesTable_W
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #TMSRouteTable(SalesTable)
      PROPERTIES
        Table               #TMSRouteTable
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #TMSAppointment(SalesTable)
      PROPERTIES
        Table               #TMSAppointment
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #TMSApportionedValue(SalesTable)
      PROPERTIES
        Table               #TMSApportionedValue
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #MCRReturnSalesTable(SalesTable)
      PROPERTIES
        Table               #MCRReturnSalesTable
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #MCRSalesTableShipping(SalesTable)
      PROPERTIES
        Table               #MCRSalesTableShipping
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #MCRSalesTable(SalesTable)
      PROPERTIES
        Table               #MCRSalesTable
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #MCRRFMHistory(SalesTable)
      PROPERTIES
        Table               #MCRRFMHistory
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #MCRInstallmentPlanSalesTable(SalesTable)
      PROPERTIES
        Table               #MCRInstallmentPlanSalesTable
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #MCRInstallmentPayment(SalesTable)
      PROPERTIES
        Table               #MCRInstallmentPayment
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #MCRFraudDetail(SalesIdjsInventId)
      PROPERTIES
        Table               #MCRFraudDetail
        DeleteAction        #Cascade
        Relation            #SalesIdjsInventId
      ENDPROPERTIES
      
      #TAMDeduction(SalesTable)
      PROPERTIES
        Table               #TAMDeduction
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #MCRCustPaymEvent(SalesTableOrig)
      PROPERTIES
        Table               #MCRCustPaymEvent
        DeleteAction        #Cascade
        Relation            #SalesTableOrig
      ENDPROPERTIES
      
      #MCRCustPaymEvent(SalesTable)
      PROPERTIES
        Table               #MCRCustPaymEvent
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #MCRContinuityPayment(SalesTableContinuity)
      PROPERTIES
        Table               #MCRContinuityPayment
        DeleteAction        #Cascade
        Relation            #SalesTableContinuity
      ENDPROPERTIES
      
      #MCRContinuityPayment(SalesTable)
      PROPERTIES
        Table               #MCRContinuityPayment
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #CustInvoiceTable(MCRSalesTable)
      PROPERTIES
        Table               #CustInvoiceTable
        DeleteAction        #Cascade
        Relation            #MCRSalesTable
      ENDPROPERTIES
      
      #SalesTable_Intrastat(SalesTable)
      PROPERTIES
        Table               #SalesTable_Intrastat
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #SourceDocumentHeader
      PROPERTIES
        Table               #SourceDocumentHeader
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #BankLGGuaranteeCustomerSalesOrder(SalesTable)
      PROPERTIES
        Table               #BankLGGuaranteeCustomerSalesOrder
        DeleteAction        #Restricted
        Relation            #SalesTable
      ENDPROPERTIES
      
      #TransportationDocument
      PROPERTIES
        Table               #TransportationDocument
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #RetailSalesTable(SalesTable)
      PROPERTIES
        Table               #RetailSalesTable
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #ExportSalesOrder(SalesTable)
      PROPERTIES
        Table               #ExportSalesOrder
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #TaxServiceTariff(SalesTable)
      PROPERTIES
        Table               #TaxServiceTariff
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #SalesTableSymbol(SalesTable)
      PROPERTIES
        Table               #SalesTableSymbol
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #RetailSalesTableInstanceValue(RetailSalesTableInstanceSalesTable)
      PROPERTIES
        Table               #RetailSalesTableInstanceValue
        DeleteAction        #Cascade
        Relation            #RetailSalesTableInstanceSalesTable
      ENDPROPERTIES
      
      #SalesTaxTransactionExchangeRate(SalesTable)
      PROPERTIES
        Table               #SalesTaxTransactionExchangeRate
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #SalesTable_BR(SalesTable)
      PROPERTIES
        Table               #SalesTable_BR
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #SalesTable_RU(SalesTable)
      PROPERTIES
        Table               #SalesTable_RU
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #PlInventPackageParm(SalesTable)
      PROPERTIES
        Table               #PlInventPackageParm
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #TMSSalesTable(SalesTable)
      PROPERTIES
        Table               #TMSSalesTable
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #SalesTableExtensionTH(SalesTable)
      PROPERTIES
        Table               #SalesTableExtensionTH
        DeleteAction        #Cascade
        Relation            #SalesTable
      ENDPROPERTIES
      
      #CustPaymSched
      PROPERTIES
        Table               #CustPaymSched
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #CustVendCreditInvoicingTable
      PROPERTIES
        Table               #CustVendCreditInvoicingTable
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #DocuRef
      PROPERTIES
        Table               #DocuRef
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InterCompanyPurchSalesReference
      PROPERTIES
        Table               #InterCompanyPurchSalesReference
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #InventQualityOrderTable
      PROPERTIES
        Table               #InventQualityOrderTable
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #MCRCouponSalesTable
      PROPERTIES
        Table               #MCRCouponSalesTable
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #MCRCustPaymTable
      PROPERTIES
        Table               #MCRCustPaymTable
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #MCRHoldCodeTrans
      PROPERTIES
        Table               #MCRHoldCodeTrans
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #LedgerCov
      PROPERTIES
        Table               #LedgerCov
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #MarkupTrans
      PROPERTIES
        Table               #MarkupTrans
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #PrintMgmtDocInstance
      PROPERTIES
        Table               #PrintMgmtDocInstance
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #SalesJournalAutoSummary
      PROPERTIES
        Table               #SalesJournalAutoSummary
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #TaxWorkRegulation
      PROPERTIES
        Table               #TaxWorkRegulation
        DeleteAction        #Cascade
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #accountCustLedgerDimension
        #//BP Deviation documented
        #display LedgerDimensionDefaultAccount accountCustLedgerDimension(CustPostingProfile _postingProfile_RU = '')
        #{
        #    SalesTableType  salesTableType;
        #
        #    salesTableType = this.type();
        #    return salesTableType.accountCustLedgerDimension(_postingProfile_RU);
        #}
      ENDSOURCE
      SOURCE #agreementDocumentTitle_RU
        #/// <summary>
        #///     Gets the document title of the related agreement.
        #/// </summary>
        #/// <returns>
        #///     The agreement document title.
        #/// </returns>
        #public display AgreementDocumentTitle agreementDocumentTitle_RU()
        #{
        #    return SalesAgreementHeader::find(this.MatchingAgreement).DocumentTitle;
        #}
      ENDSOURCE
      SOURCE #agreementHeaderExt_RU
        #/// <summary>
        #///     Retrieves the record ID of the <c>AgreementHeaderExt_RU</c> that is attached to the current sales order.
        #/// </summary>
        #/// <returns>
        #///     The agreement record ID.
        #/// </returns>
        #public AgreementHeaderExtRecId_RU agreementHeaderExt_RU()
        #{
        #    AgreementHeaderExtRecId_RU agreementHeaderExt;
        #
        #    #ISOCountryRegionCodes
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        agreementHeaderExt = this.salesTable_RU().AgreementHeaderExt_RU;
        #    }
        #    return agreementHeaderExt;
        #}
      ENDSOURCE
      SOURCE #agreementIsLinked
        #display public SalesAgreementIsLinked agreementIsLinked()
        #{
        #    if (this.MatchingAgreement)
        #    {
        #        return NoYes::Yes;
        #    }
        #    return NoYes::No;
        #}
      ENDSOURCE
      SOURCE #amountDelivered
        #server display AmountCur  amountDelivered()
        #{
        #    SalesLine       salesLine;
        #    AmountCur       amountCur = 0;
        #
        #    while select salesLine
        #        where salesLine.SalesId     == this.SalesId
        #    {
        #        amountCur += salesLine.calcLineAmountExclTax(salesLine.SalesQty - salesLine.RemainSalesPhysical);
        #    }
        #
        #    return amountCur;
        #}
      ENDSOURCE
      SOURCE #amountInvoiced
        #server display AmountCur  amountInvoiced()
        #{
        #    CustInvoiceJour custInvoiceJour;
        #
        #    select sum(InvoiceAmount) from custInvoiceJour
        #        where custInvoiceJour.RefNum  == RefNum::SalesOrder
        #           && custInvoiceJour.SalesId == this.SalesId;
        #
        #    return custInvoiceJour.InvoiceAmount;
        #}
      ENDSOURCE
      SOURCE #amountMST
        #AmountMST amountMST(AmountCur _amountCur, TransDate _exchRateDate = systemDateGet())
        #{
        #    return Currency::mstAmount(_amountCur, this.CurrencyCode, _exchRateDate, this.fixedEuroTriangulation(), this.fixedExchRate(), this.fixedExchRateSecondary());
        #}
      ENDSOURCE
      SOURCE #amountOrderedNotInvoiced
        #server display AmountCur amountOrderedNotInvoiced()
        #{
        #    SalesLine  salesLine;
        #    AmountCur  ordered;
        #
        #    while select salesLine
        #        where salesLine.SalesId     == this.SalesId
        #    {
        #        ordered += salesLine.calcLineAmountExclTax(salesLine.RemainSalesPhysical+salesLine.RemainSalesFinancial);
        #    }
        #
        #    return ordered;
        #}
      ENDSOURCE
      SOURCE #amountRemainSalesFinancial
        #server display AmountCur  amountRemainSalesFinancial()
        #{
        #    SalesLine       salesLine;
        #    AmountCur       amountCur = 0;
        #
        #    while select salesLine
        #            index hint SalesLineIdx
        #            where salesLine.SalesId     == this.SalesId
        #    {
        #        amountCur += salesLine.calcLineAmountExclTax(salesLine.RemainSalesFinancial);
        #    }
        #
        #    return amountCur;
        #}
      ENDSOURCE
      SOURCE #amountRemainSalesPhysical
        #server display AmountCur  amountRemainSalesPhysical()
        #{
        #    SalesLine       salesLine;
        #    AmountCur       amountCur = 0;
        #
        #    while select salesLine
        #            index hint SalesLineIdx
        #            where salesLine.SalesId     == this.SalesId
        #    {
        #        amountCur += salesLine.calcLineAmountExclTax(salesLine.RemainSalesPhysical);
        #    }
        #
        #    return amountCur;
        #}
      ENDSOURCE
      SOURCE #calcDue_RU
        #[SysObsoleteAttribute('The method has been deprecated and is no longer used.', false)]
        #public void calcDue_RU()
        #{
        #    if (! this.PaymentSched)
        #    {
        #        this.FixedDueDate = PaymTerm::find(this.Payment).due(this.DeliveryDate, this.paymDayId());
        #    }
        #}
      ENDSOURCE
      SOURCE #calcEstimateForced
        #boolean calcEstimateForced()
        #{
        #    this.Touched = NoYes::Yes;
        #
        #    if (this.validateWrite())
        #    {
        #        this.update();
        #    }
        #    else
        #    {
        #        this.reread();
        #        return false;
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #calculateTieredCharges
        #/// <summary>
        #/// Creates tiered misc. charges for the sales order.
        #/// </summary>
        #public void calculateTieredCharges()
        #{
        #    this.createMarkupTrans(false, true);
        #
        #    if (MarkupTrans::existTieredCharges(this.TableId, this.RecId))
        #    {
        #        info("@SYS4050024");
        #    }
        #    else
        #    {
        #        info("@SYS4050025");
        #    }
        #}
      ENDSOURCE
      SOURCE #canBeDirectlyInvoiced
        #/// <summary>
        #///    Determines whether the sales order can be directly invoiced through the Process Shipment feature.
        #/// </summary>
        #/// <returns>
        #///    true if the sales order has a payment term of COD or Credit card; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #///    The Process shipment button is used for COD and credit card transactions.
        #///    If the payment type is a
        #///    credit card, the button will process the credit card and post the invoice.
        #///    If the payment type is
        #///    COD, the button with post the invoice.
        #///    The Invoice button is used to post all other transactions
        #///    that are not COD or credit card.
        #///    If the Process Shipment feature was used, the Invoice button will
        #///    print the invoice again.
        #/// </remarks>
        #boolean canBeDirectlyInvoiced()
        #{
        #    boolean     canBeInvoiced = false;
        #    PaymTerm    paymTerm;
        #
        #    paymTerm = this.payment();
        #    if (paymTerm.CreditCardPaymentType == CreditCardPaymentType::CreditCard ||
        #            paymTerm.PaymMethod == NetCurrent::COD)
        #    {
        #        canBeInvoiced = true;
        #    }
        #
        #    return canBeInvoiced;
        #}
      ENDSOURCE
      SOURCE #cancelPreAuthorization
        #server boolean cancelPreAuthorization()
        #{
        #    CreditCardAuthTrans     creditCardAuthTrans2Cancel;
        #    boolean ok;
        #
        #    if (!this.RecId)
        #    {
        #        return true;
        #    }
        #
        #    creditCardAuthTrans2Cancel = CreditCardAuthTrans::findValidPreApproval(this.SalesId);
        #    if (!creditCardAuthTrans2Cancel)
        #    {
        #        return true;
        #    }
        #    if (Box::okCancel("@SYS116762", DialogButton::Cancel)== DialogButton::Ok)
        #    {
        #        ok = CreditCardProcess::doVoidAuth(creditCardAuthTrans2Cancel);
        #        if (ok)
        #        {
        #            this.reread();
        #        }
        #        return ok;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #canCreditNoteBeCreated
        #/// <summary>
        #/// Determines whether a credit note can be created for this sales order.
        #/// </summary>
        #/// <returns>
        #/// true if it is OK to create a credit note; otherwise, false.
        #/// </returns>
        #public boolean canCreditNoteBeCreated()
        #{
        #    return this.type().canCreditNoteBeCreated();
        #}
      ENDSOURCE
      SOURCE #canCreditNoteUseCreditCard
        #/// <summary>
        #/// Determines whether the a credit card can be used with a credit note.
        #/// </summary>
        #/// <returns>
        #/// true if a credit card can be used; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #/// To refund a prior sales invoice, the same credit card must be used as found on the original
        #/// invoice.No refund is allowed with a credit note if there is no original invoice.
        #/// </remarks>
        #public boolean canCreditNoteUseCreditCard()
        #{
        #    SalesTotals totals;
        #    AmountCur invoiceTotal;
        #    CreditCardAuthTrans creditCardAuthTrans;
        #
        #    // No problem if the total is not negative
        #    totals = SalesTotals::construct(this, SalesUpdate::All);
        #    totals.calc();
        #    invoiceTotal = conPeek(totals.displayFields(), TradeTotals::posTotalAmount());
        #    if (invoiceTotal >= 0)
        #    {
        #        return true;
        #    }
        #
        #    creditCardAuthTrans = CreditCardAuthTrans::findRefundCharge(this.SalesId);
        #
        #    // Have a refund but user tried to change credit cards
        #    if(creditCardAuthTrans && !CreditCard::sameCard(this, creditCardAuthTrans))
        #    {
        #        this.CreditCardCustRefId = CreditCardCust::findByUniqueCardId(creditCardAuthTrans.UniqueCardId).RecId; // put back the original credit card
        #        return checkFailed("@SYS330573");
        #    }
        #
        #    // No preauth, no credit card allowed
        #    if (!creditCardAuthTrans && this.CreditCardCustRefId)
        #    {
        #        this.Payment = CustTable::find(this.CustAccount).PaymTermId; // reset to default payment terms
        #        this.CreditCardCustRefId = 0; // clear the credit card
        #        return checkFailed("@SYS330574");
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #canCustomerBeUpdated
        #boolean canCustomerBeUpdated(DocumentStatus _documentStatus)
        #{
        #    return CustTable::canCustomerBeUpdated(this.CustAccount, this.InvoiceAccount, _documentStatus);
        #}
      ENDSOURCE
      SOURCE #canDeliverySlipBeUpdatedBR
        #/// <summary>
        #/// Indicates whether a sales order can create delivery slips.
        #/// </summary>
        #/// <returns>
        #/// true if a delivery slip is found on the sales lines; otherwise false.
        #/// </returns>
        #public boolean canDeliverySlipBeUpdatedBR()
        #{
        #    SalesLine salesLine;
        #    SalesLine_BR salesLine_BR;
        #
        #    select firstonly RecId from salesLine
        #        where salesLine.SalesId == this.SalesId
        #            && salesLine.SalesStatus == SalesStatus::Backorder
        #        exists join salesLine_BR
        #            where  salesLine_BR.SalesLine == salesLine.RecId
        #                && salesLine_BR.DeliveryCFOPTable_BR != 0;
        #
        #    return salesLine.RecId != 0;
        #}
      ENDSOURCE
      SOURCE #canXMLBeSent
        #public boolean canXMLBeSent()
        #{
        #    boolean             ret;
        #    AifActionId         actionId;
        #    AifEndpointList     endpointList;
        #    AifConstraint       aifConstraint       = new AifConstraint();
        #    AifConstraintList   aifConstraintList   = new AifConstraintList();
        #
        #    actionId = AifSendService::getDefaultSendAction(classNum(ReturnReturnOrderOutService),AifSendActionType::SendByKey);
        #
        #    if (actionId)
        #    {
        #        aifConstraint.parmType(AifConstraintType::Customer);
        #        aifConstraint.parmId(this.CustAccount);
        #        aifConstraintList.addConstraint(aifConstraint);
        #
        #        endpointList = AifSendService::getEligibleEndpoints(actionId, aifConstraintList);
        #        if (endpointList.getEndpointCount() > 0)
        #        {
        #            ret = true;
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkAccount
        #boolean  checkAccount()
        #{
        #    CustVendorBlocked   blockLevel = CustTable::blocked(this.CustAccount);
        #
        #    switch (blockLevel)
        #    {
        #        case CustVendorBlocked::All:
        #            return checkFailed(strFmt("@SYS18389", this.CustAccount, enum2str(blockLevel)));
        #        case CustVendorBlocked::Invoice:
        #            warning(strFmt("@SYS18389", this.CustAccount, enum2str(blockLevel)));
        #        break;
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkAgainstCreditLimit
        #boolean checkAgainstCreditLimit(Common _salesLineOrTable = this, SalesTotals _salesTotals = null)
        #{
        #    boolean         ret = true;
        #    CustCreditLimit custCreditLimit;
        #
        #    if (this.isCreditCheckEligible())
        #    {
        #        setPrefix(strFmt("@SYS76767", this.SalesId));
        #
        #        custCreditLimit = CustCreditLimit::construct(_salesLineOrTable, _salesTotals);
        #
        #        ret = custCreditLimit.check();
        #
        #        // when checking for credit limit excess during order entry, the user is always able to continue
        #        // regardless of whether Warning or Error is chosen.
        #        ret = true;
        #
        #        this.Touched = NoYes::No;
        #    }
        #
        #    return ret;
        #
        #}
      ENDSOURCE
      SOURCE #checkAgreement_RU
        #/// <summary>
        #///     Validates the <c>AgreementHeaderExt_RU</c> field for sales order.
        #/// </summary>
        #/// <param name="_agreementHeaderExtRecId">
        #///     The record ID of the sales agreement; optional.
        #/// </param>
        #/// <returns>
        #///     true if the <c>AgreementHeaderExt_RU</c> field is valid; otherwise, false.
        #/// </returns>
        #public boolean checkAgreement_RU(AgreementHeaderExtRecId_RU _agreementHeaderExtRecId = this.salesTable_RU().AgreementHeaderExt_RU)
        #{
        #    SalesAgreementHeader salesAgreementHeader;
        #    boolean ok = true;
        #
        #    if (SalesLine::exist(this.SalesId))
        #    {
        #        ok = checkFailed("@GLS220553");
        #    }
        #
        #    if (ok && _agreementHeaderExtRecId)
        #    {
        #        salesAgreementHeader = SalesAgreementHeaderExt_RU::salesAgreementHeader(_agreementHeaderExtRecId);
        #
        #        if (!salesAgreementHeader.canReleaseAgreement(this.ShippingDateRequested))
        #        {
        #            ok = checkFailed("@SYS103075");
        #        }
        #
        #        if (salesAgreementHeader.CustAccount != this.CustAccount)
        #        {
        #            ok = checkFailed(strFmt("@SYS112224",
        #                salesAgreementHeader.SalesNumberSequence, "@SYS309959", tableId2pname(tableNum(SalesAgreementHeader))));
        #        }
        #
        #        if (ok && this.InvoiceAccount && salesAgreementHeader.salesAgreementHeaderDefault().CustomerInvoiceAccount != this.InvoiceAccount)
        #        {
        #            ok = checkFailed(strFmt("@SYS112224",
        #                salesAgreementHeader.SalesNumberSequence, "@SYS309959", tableId2pname(tableNum(SalesAgreementHeader))));
        #        }
        #    }
        #
        #    return ok;
        #}
        #
      ENDSOURCE
      SOURCE #checkAndUpdateAvailableDlvDates
        #server boolean checkAndUpdateAvailableDlvDates()
        #{
        #    boolean ret;
        #    SalesCalcAvailableDlvDates  salesCalcAvailableDlvDates;
        #
        #    salesCalcAvailableDlvDates = SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(this);
        #    ret = salesCalcAvailableDlvDates.validateWritePrompt(this, false, false);
        #    this.doUpdate();
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkCashPayment
        #boolean checkCashPayment()
        #{
        #    if (PaymTerm::isCashAccount(this.Payment) && this.PaymentSched )
        #    {
        #        return checkFailed(strFmt("@SYS25074"));
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkContactPerson
        #boolean checkContactPerson()
        #{
        #    ContactPerson   contactPerson;
        #
        #    if (this.ContactPersonId)
        #    {
        #        contactPerson = ContactPerson::find(this.ContactPersonId);
        #        if (contactPerson.CustAccount != this.CustAccount)
        #        {
        #            return false;
        #        }
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkCreditCard
        #public boolean checkCreditCard()
        #{
        #    if (!CustParameters::useCreditCardModule())
        #    {
        #        return true;
        #    }
        #    if (!RetailMCRChannelTable::mcrEnableOrderCompletion(this))
        #    {
        #        if (this.payment().CreditCardPaymentType == CreditCardPaymentType::CreditCard)
        #        {
        #            if (!this.CreditCardCustRefId)
        #            {
        #                // The credit card number must be specfied
        #                return checkFailed("@SYS116746");
        #            }
        #
        #            if (this.CreditCardCustRefId && !CreditCard::checkExpireDate(CreditCardCust::find(this.CreditCardCustRefId).ExpiryDate))
        #            {
        #                // Credit card is expired
        #                return checkFailed("@SYS116750");
        #            }
        #
        #            if (this.SettleVoucher == SettlementType::OpenTransact)
        #            {
        #                // Can't auto settle credit card orders
        #                return checkFailed("@SYS328656");
        #            }
        #        }
        #        else
        #        {
        #            if (this.CreditCardCustRefId)
        #            {
        #                // The payment type must be credit card, since the credit card number has been specified
        #                return checkFailed("@SYS116747");
        #            }
        #        }
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkCreditCardPaymentType
        #public boolean checkCreditCardPaymentType()
        #{
        #    if (!this.type().canHaveCreditCard() &&
        #        this.payment().CreditCardPaymentType == CreditCardPaymentType::CreditCard)
        #    {
        #        return checkFailed(strFmt("@SYS127403", this.SalesType));
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkCreditLimit
        #void checkCreditLimit(SalesTotals _salesTotals = null)
        #{
        #    SalesTableType::checkAgainstCreditLimit(this, _salesTotals);
        #}
      ENDSOURCE
      SOURCE #checkCreditNoteReason
        #/// <summary>
        #/// Checks the reason that a credit note is related to a <c>SalesTable</c> record.
        #/// </summary>
        #public void checkCreditNoteReason()
        #{
        #    #ISOCountryRegionCodes
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU,#isoPL,#isoHU,#isoCZ,#isoLT,#isoLV,#isoEE])
        #        && CustParameters::find().CreditNoteReasonReq)
        #    {
        #        this.checkCreditNoteReasonServer();
        #    }
        #}
      ENDSOURCE
      SOURCE #checkCreditNoteReasonServer
        #private server void checkCreditNoteReasonServer()
        #{
        #    SalesLine   salesLine;
        #
        #    // Find if a Credit note line is missing the Reason comment
        #    while select CreditNoteReasonCode, LineNum from salesLine
        #        order by LineNum
        #        where salesLine.SalesId == this.SalesId &&
        #            ((salesLine.RefReturnInvoiceTrans_W == 0 && salesLine.CreditNoteInternalRef_PL != 0) ||
        #            (salesLine.RefReturnInvoiceTrans_W != 0 && salesLine.CreditNoteInternalRef_PL == 0))
        #    {
        #        if (salesLine.CreditNoteReasonCode == 0 || ReasonTableRef::find(salesLine.CreditNoteReasonCode).ReasonComment == "")
        #        {
        #            throw error(strFmt("@GLS220466",salesLine.LineNum));
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #checkCurrencyCode
        #client server void  checkCurrencyCode()
        #{
        #    MCRCustPaymTotals mcrCustPaymTotals;
        #
        #    if (this)
        #    {
        #        if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #        {
        #            // If one or more payments disallows changing the currency,
        #            //restore the old currency.
        #            if (this.CurrencyCode != this.orig().CurrencyCode)
        #            {
        #                mcrCustPaymTotals =
        #                    MCRCustPaymTotals::construct(this.TableId, this.RecId);
        #
        #                if (mcrCustPaymTotals && !mcrCustPaymTotals.allowEditCurrency())
        #                {
        #                    warning("@MCR10940");
        #
        #                    this.CurrencyCode = this.orig().CurrencyCode;
        #                }
        #            }
        #        }
        #        if (this.CurrencyCode != this.orig().CurrencyCode &&
        #            SalesLine::existDifferentCurrency(this.SalesId,this.CurrencyCode))
        #        {
        #            warning("@SYS15290");
        #
        #            this.CurrencyCode = this.orig().CurrencyCode;
        #        }
        #
        #        if (this.CurrencyCode != this.orig().CurrencyCode &&
        #            MarkupTrans::existDifferentCurrency(this.TableId, this.RecId, this.CurrencyCode))
        #        {
        #            warning("@SYS24528");
        #
        #            this.CurrencyCode = this.orig().CurrencyCode;
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #checkDelete
        #boolean checkDelete(
        #    boolean _useWarning = true,
        #    boolean _setWarningToLocked = false)
        #{
        #    return this.type().checkDelete(_useWarning, _setWarningToLocked);
        #}
      ENDSOURCE
      SOURCE #checkDelivery
        #boolean checkDelivery()
        #{
        #    if (!this.DlvMode)
        #    {
        #        // "Mode of delivery must be specified."
        #        return checkFailed(strFmt("@SYS116733"));
        #    }
        #
        #    if (!this.DlvTerm)
        #    {
        #        // "Delivery term must be specified."
        #        return checkFailed(strFmt("@SYS116734"));
        #    }
        #
        #    if (!this.ShipCarrierId)
        #    {
        #        // "Carrier must be specified."
        #        return checkFailed("@SYS116735");
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkIfUpdate
        #/// <summary>
        #/// Determines whether the various posting updates are allowed for the order.
        #/// </summary>
        #/// <param name="_packedCheckIfUpdateContract">
        #/// Specifies which of the posting update allowance values to obtain for the order; optional.
        #/// </param>
        #/// <returns>
        #/// A packed instance of the <c>SalesTableCanBeUpdatedContract</c> class.
        #/// </returns>
        #server container checkIfUpdate(container _packedCheckIfUpdateContract = conNull())
        #{
        #    container   canBeUpdated;
        #    if (
        #        this.company()
        #        != curext())
        #    {
        #        changecompany(
        #                      this.company()
        #                      )
        #        {
        #            canBeUpdated = this.type().checkIfUpdate(_packedCheckIfUpdateContract);
        #        }
        #    }
        #    else
        #    {
        #        canBeUpdated = this.type().checkIfUpdate(_packedCheckIfUpdateContract);
        #    }
        #
        #    return canBeUpdated;
        #}
      ENDSOURCE
      SOURCE #checkIntrastatFulfillDate_HU
        #/// <summary>
        #/// Validates Intrastat fulfillment date.
        #/// </summary>
        #/// <returns>
        #/// ture if Intrastat fulfillment date is valid; otherwise, false.
        #/// </returns>
        #public boolean checkIntrastatFulfillDate_HU()
        #{
        #    LogisticsAddressCountryRegionId country;
        #    IntrastatParameters             intrastatParameters;
        #    ProjTable                       projTable;
        #    ProjInvoiceTable                projInvoiceTable;
        #
        #    if (this.ProjId)
        #    {
        #        projTable           = ProjTable::find(this.ProjId);
        #        projInvoiceTable    = ProjInvoiceTable::find(projTable.ProjInvoiceProjId);
        #        country             = projInvoiceTable.invoiceAddress().CountryRegionId;
        #    }
        #    else
        #    {
        #        country             = this.deliveryAddress().CountryRegionId;
        #    }
        #
        #    intrastatParameters = IntrastatParameters::find();
        #
        #    if (! country)
        #    {
        #        return checkFailed(strFmt("@GLS107637"));
        #    }
        #
        #    if (! IntrastatCountryRegionParameters::isInEU(country))
        #    {
        #        return true;
        #    }
        #
        #    if (intrastatParameters.IntrastatFulfillmentDateEmptyWarning_HU && ! this.IntrastatFulfillmentDate_HU)
        #    {
        #        return checkFailed(strFmt("@SYS4080012", fieldPName(SalesTable, IntrastatFulfillmentDate_HU)));
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkInventProfile_RU
        #public boolean checkInventProfile_RU(boolean _checkProfileId = false)
        #{
        #    SalesTable                  salesTableTmp;
        #    SalesTable_RU               salesTableTmpRU;
        #    SalesTable_RU               salesTableRU;
        #    SalesLine                   salesLine;
        #    InventDim                   inventDim;
        #    InventProfile_RU            inventProfile;
        #    SalesTable2LineParameters   salesTable2LineParameters;
        #    boolean                     ok = true;
        #
        #    salesTableTmp.data(this);
        #    salesTableTmp.salesTable_RU().setInventProfileId_RU();
        #
        #    salesTableRU = this.salesTable_RU();
        #    salesTableTmpRU = salesTableTmp.salesTable_RU();
        #
        #    if (salesTableRU.InventProfileType_RU != InventProfileType_RU::NotSpecified)
        #    {
        #        select firstonly salesLine
        #            where salesLine.SalesId                 == this.SalesId
        #        join InventProfileId_RU from inventDim
        #            where inventDim.InventDimId             == salesLine.InventDimId
        #        join TableId from inventProfile
        #            where inventProfile.InventProfileId     == inventDim.InventProfileId_RU
        #               && inventProfile.InventProfileType   != salesTableRU.InventProfileType_RU;
        #
        #        if (salesLine)
        #        {
        #            ok = checkFailed(strFmt("@GLS113728",
        #                                    inventDim.InventProfileId_RU,
        #                                    salesTableRU.InventProfileType_RU));
        #        }
        #
        #        if (salesTableRU.InventProfileType_RU != InventProfileType_RU::General)
        #        {
        #            select firstonly RecId from salesLine
        #                where salesLine.SalesId == this.SalesId &&
        #                      (salesLine.StockedProduct == NoYes::No ||
        #                      (salesLine.SalesCategory               &&
        #                      !salesLine.ItemId));
        #
        #            if (salesLine.RecId)
        #            {
        #                ok = checkFailed(
        #                    strFmt("@GLS220092",
        #                        salesTableRU.InventProfileType_RU));
        #            }
        #        }
        #        else if (InventProfile_RU::find(salesTableTmpRU.InventProfileId_RU).StockInTransit == StockInTransit_RU::BoughtInTransit)
        #        {
        #            select firstonly RecId from salesLine
        #                where salesLine.SalesId == this.SalesId      &&
        #                      (salesLine.StockedProduct == NoYes::No ||
        #                      (salesLine.SalesCategory               &&
        #                      !salesLine.ItemId));
        #
        #            if (salesLine.RecId)
        #            {
        #                ok = checkFailed(
        #                    strFmt("@GLS220091",
        #                        salesTableRU.InventProfileId_RU));
        #            }
        #        }
        #    }
        #
        #    if (!_checkProfileId)
        #    {
        #        salesTable2LineParameters = SalesTable2LineParameters::find(tableNum(SalesTable_RU), fieldNum(SalesTable_RU, InventProfileId_RU), false);
        #        if (salesTable2LineParameters.Table2LineUpdate == TradeTable2LineUpdate::Never)
        #        {
        #            // force check for consistent
        #            _checkProfileId = true;
        #        }
        #    }
        #
        #    if (_checkProfileId && salesTableTmpRU.InventProfileId_RU)
        #    {
        #        if (salesTableRU.InventProfileUseRelated_RU == NoYes::No)
        #        {
        #            select firstonly RecId from salesLine
        #                where salesLine.SalesId             == this.SalesId
        #            join InventProfileId_RU from inventDim
        #                where inventDim.InventDimId         == salesLine.InventDimId &&
        #                      inventDim.InventProfileId_RU                           &&
        #                      inventDim.InventProfileId_RU  != salesTableTmpRU.InventProfileId_RU;
        #
        #            if (salesLine)
        #            {
        #                ok = checkFailed(strFmt("@GLS113730",
        #                                        inventDim.InventProfileId_RU,
        #                                        salesTableTmpRU.InventProfileId_RU));
        #            }
        #        }
        #        else
        #        {
        #            while select salesLine
        #                group by TableId
        #                where salesLine.SalesId             == this.SalesId
        #            join inventDim
        #                group by InventProfileId_RU
        #                where inventDim.InventDimId         == salesLine.InventDimId
        #                   && inventDim.InventProfileId_RU
        #                   && inventDim.InventProfileId_RU  != salesTableTmpRU.InventProfileId_RU
        #            {
        #                if (! InventProfileRelation_RU::find(salesTableTmpRU.InventProfileId_RU, inventDim.InventProfileId_RU))
        #                {
        #                    ok = checkFailed(strFmt("@GLS113729",
        #                                            inventDim.InventProfileId_RU,
        #                                            salesTableTmpRU.InventProfileId_RU));
        #                }
        #            }
        #        }
        #    }
        #
        #    return ok;
        #}
        #
      ENDSOURCE
      SOURCE #checkInvoiceAccount
        #boolean checkInvoiceAccount()
        #{
        #    MCRCustPaymTotals mcrCustPaymTotals;
        #    CustVendorBlocked   blockLevel = CustTable::blocked(this.InvoiceAccount);
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #        if (this.RecId && this.InvoiceAccount != this.orig().InvoiceAccount)
        #        {
        #            // Check if one or more payments disallows modifying the invoice account.
        #            mcrCustPaymTotals =
        #                MCRCustPaymTotals::construct(this.TableId, this.RecId);
        #
        #            if (!mcrCustPaymTotals.allowEditInvoiceAccount())
        #            {
        #                error("@MCR11248");
        #                return false;
        #            }
        #        }
        #    }
        #
        #    switch (blockLevel)
        #    {
        #        case CustVendorBlocked::All:
        #            return checkFailed(strFmt("@SYS79283", this.InvoiceAccount, enum2str(blockLevel)));
        #        case CustVendorBlocked::Invoice:
        #            warning(strFmt(strFmt("@SYS79283", this.InvoiceAccount, enum2str(blockLevel))));
        #        break;
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkInvoicePostingType_RU
        #public boolean checkInvoicePostingType_RU()
        #{
        #    boolean             ok = true;
        #    SalesLine           salesLine;
        #    SalesTable_RU       salesTableRU;
        #    InventDim           inventDim;
        #    InventProfile_RU    inventProfile;
        #    ;
        #    if (! this.RecId)
        #    {
        #        return ok;
        #    }
        #
        #    salesTableRU = this.salesTable_RU();
        #
        #    if (salesTableRU.InvoicePostingType_RU == SalesInvoicePostingType_RU::GoodsInRoute)
        #    {
        #        if (this.payment().Cash == NoYes::Yes)
        #        {
        #            ok = checkFailed("@GLS114805");
        #        }
        #
        #        ok = ok && InventProfile_RU::checkGITProfileType(salesTableRU.InventProfileType_RU);
        #
        #        if (ok)
        #        {
        #            select firstonly salesLine
        #                where salesLine.SalesId == this.SalesId
        #            join TableId from inventDim
        #                where inventDim.InventDimId == salesLine.InventDimId
        #            join InventProfileType from inventProfile
        #                where inventProfile.InventProfileId   == inventDim.InventProfileId_RU                   &&
        #                     (inventProfile.InventProfileType == InventProfileType_RU::CommissionAgent          ||
        #                      inventProfile.InventProfileType == InventProfileType_RU::CommissionPrincipalAgent ||
        #                      inventProfile.InventProfileType == InventProfileType_RU::Bailee);
        #
        #            if (salesLine)
        #            {
        #                ok = checkFailed(strFmt("@GLS114807", inventProfile.InventProfileType));
        #            }
        #        }
        #
        #        if (ok)
        #        {
        #            select firstonly RecId from salesLine
        #                where salesLine.SalesId == this.SalesId     &&
        #                     (salesLine.StockedProduct == NoYes::No ||
        #                     (!salesLine.ItemId                     &&
        #                      salesLine.SalesCategory));
        #
        #            if (salesLine.RecId)
        #            {
        #                ok = checkFailed("@GLS220090");
        #            }
        #        }
        #    }
        #
        #    return ok;
        #}
        #
      ENDSOURCE
      SOURCE #checkMarkupTrans_RU
        #server boolean checkMarkupTrans_RU()
        #{
        #    ;
        #    return MarkupTrans::checkMarkupTransCustVend_RU(this.TableId, this.RecId);
        #}
        #
      ENDSOURCE
      SOURCE #checkPayment
        #boolean checkPayment()
        #{
        #    #ISOCountryRegionCodes
        #    PaymTerm        paymTerm;
        #    CreditCardCust creditCardCust;
        #    CreditCardProcessors creditCardProcessors;
        #
        #    paymTerm = this.payment();
        #    if (paymTerm.PaymMethod == NetCurrent::COD && !this.returnItem())
        #    {
        #        if (!this.DlvMode)
        #        {
        #            return checkFailed(strFmt("@SYS24563"));
        #        }
        #
        #        if (this.PaymentSched)
        #        {
        #            return checkFailed(strFmt("@SYS24623"));
        #        }
        #    }
        #
        #    if (this.PaymentSched && this.FixedDueDate)
        #    {
        #        return checkFailed("@SYS69828");
        #    }
        #
        #    if (paymTerm.CreditCardPaymentType == CreditCardPaymentType::CreditCard && this.CreditCardCustRefId != 0)
        #    {
        #        creditCardCust = CreditCardCust::find(this.CreditCardCustRefId);
        #        creditCardProcessors = CreditCardProcessors::find(creditCardCust.CreditCardProcessors);
        #        if (creditCardCust && !CreditCardProcessors::validateCurrencyForProcessor(creditCardProcessors, this.CurrencyCode, creditCardCust.CreditCardTypeName) ||
        #                !this.checkPaymMode())
        #        {
        #            // The active credit card processor does not supports this currency.
        #            return checkFailed(strFmt("@SYS327527", creditCardProcessors.Name, this.CurrencyCode));
        #        }
        #
        #        if (this.PaymentSched)
        #        {
        #            return checkFailed("@SYS27358");
        #        }
        #    }
        #
        #    if (!this.ReceiptDateConfirmed              &&
        #        paymTerm.UseDeliveryDateForDueDate_ES   &&
        #        SysCountryRegionCode::isLegalEntityInCountryRegion([#isoES]))
        #    {
        #        return checkFailed(strFmt("@SYS4000478", this.Payment));
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #checkPaymMode
        #/// <summary>
        #/// Checks whether the payment mode is valid.
        #/// </summary>
        #/// <returns>
        #/// true if the payment mode is valid; otherwise, false.
        #/// </returns>
        #public boolean checkPaymMode()
        #{
        #    boolean ok = true;
        #    CustPaymModeTable custPaymModeTable;
        #    CustParameters custParameters;
        #    CreditCardCust creditCardCust;
        #    CreditCardProcessors creditCardProcessors;
        #
        #    if (this.payment().CreditCardPaymentType == CreditCardPaymentType::CreditCard)
        #    {
        #        creditCardCust = CreditCardCust::find(this.CreditCardCustRefId);
        #        creditCardProcessors = CreditCardProcessors::find(creditCardCust.CreditCardProcessors);
        #        custPaymModeTable = CustPaymModeTable::find(this.PaymMode);
        #
        #        if (custPaymModeTable.offsetLedgerDimension() &&
        #                !CreditCardProcessors::validateAccountForProcessor(creditCardProcessors, custPaymModeTable.paymACType(), custPaymModeTable.offsetLedgerDimension(), creditCardCust.CreditCardTypeName))
        #        {
        #            ok = false;
        #        }
        #        else if (custPaymModeTable.offsetLedgerDimension() == 0)
        #        {
        #            custParameters = CustParameters::find();
        #
        #            if (!CreditCardProcessors::validateAccountForProcessor(creditCardProcessors, custParameters.CreditCardPostingAccountType, custParameters.CreditCardPostingLedgerDimension, creditCardCust.CreditCardTypeName))
        #            {
        #                ok = false;
        #            }
        #        }
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkReservation
        #boolean checkReservation()
        #{
        #    SalesLine   salesLine;
        #    boolean     ok = true;
        #
        #    select firstonly salesLine
        #           index hint SalesLineIdx
        #           where salesLine.SalesId          == this.SalesId
        #           &&    salesLine.InventRefTransId != '';
        #    if (salesLine
        #    &&  this.Reservation == ItemReservation::Explosion)
        #    {
        #        ok = checkFailed("@SYS105404");
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkUpdate
        #boolean  checkUpdate(boolean  useWarning        = true,
        #                     boolean _interCompanyCheck = true)
        #{
        #    return this.type().checkUpdate(useWarning,_interCompanyCheck);
        #}
      ENDSOURCE
      SOURCE #clearAddressReference
        #public void clearAddressReference()
        #{
        #    this.AddressRefRecId    = 0;
        #    this.AddressRefTableId  = 0;
        #}
      ENDSOURCE
      SOURCE #clearAllPriceDiscChangePolicies
        #/// <summary>
        #/// Removes all the previously set price discount change policies for the corresponding
        #/// <c>SalesTable</c> record.
        #/// </summary>
        #/// <remarks>
        #/// Removes the policies from both manual and system groups.
        #/// </remarks>
        #void clearAllPriceDiscChangePolicies()
        #{
        #    this.type().clearAllPriceDiscChangePolicies();
        #}
      ENDSOURCE
      SOURCE #clearingLedgerDimension
        #public LedgerDimensionDefaultAccount clearingLedgerDimension(CustPostingProfile _postingProfile_RU = '')
        #{
        #    SalesTableType salesTableType;
        #
        #    salesTableType = this.type();
        #    return salesTableType.clearingLedgerDimension(_postingProfile_RU);
        #}
      ENDSOURCE
      SOURCE #clearingPeriod
        #ClearingPeriod clearingPeriod()
        #{
        #    return this.custTable_InvoiceAccount().clearingPeriod();
        #}
      ENDSOURCE
      SOURCE #companyInfo
        #/// <summary>
        #/// Retrieves a <c>CompanyInfo</c> record that is associated with the current record.
        #/// </summary>
        #/// <returns>
        #/// The <c>CompanyInfo</c> record.
        #/// </returns>
        #public CompanyInfo companyInfo()
        #{
        #    return CompanyInfo::findDataArea(this.company());
        #}
      ENDSOURCE
      SOURCE #contactPerson
        #ContactPerson contactPerson(boolean _forUpdate = false)
        #{
        #    return ContactPerson::find(this.ContactPersonId, _forUpdate);
        #}
      ENDSOURCE
      SOURCE #contactPersonName
        #display ContactPersonName contactPersonName()
        #{
        #    return ContactPerson::name(this.ContactPersonId);
        #}
      ENDSOURCE
      SOURCE #contributionMargin
        #server display ContributionMarginMST contributionMargin()
        #{
        #    SalesTotals             salesTotals;
        #    ContributionMarginMST   contributionMargin;
        #
        #    salesTotals = SalesTotals::construct(this, SalesUpdate::All);
        #    salesTotals.prepareBalanceCalculation();
        #    salesTotals.prepareCostValueCalculation();
        #    salesTotals.calc();
        #
        #    contributionMargin   = Currency::mstAmount(salesTotals.totalBalance() - salesTotals.totalEndDisc(), this.CurrencyCode);
        #    contributionMargin  -= salesTotals.totalCostValue();
        #
        #    return contributionMargin;
        #}
      ENDSOURCE
      SOURCE #convertCurrencyCode
        #server void convertCurrencyCode(CurrencyCode currencyCode, TradeCurencyConversion tradeCurencyConversion = TradeCurencyConversion::ExchRate)
        #{
        #    // <GEERU>
        #    #ISOCountryRegionCodes
        #    // </GEERU>
        #
        #    SalesLine                 salesLine;
        #    MarkupTrans               markupTrans;
        #
        #    ttsbegin;
        #
        #    while select forupdate salesLine
        #          where salesLine.SalesId   == this.SalesId
        #    {
        #        salesLine.convertCurrencyCode(currencyCode, tradeCurencyConversion);
        #        salesLine.doUpdate();
        #
        #        // <GEERU>
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]) &&
        #            isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #        {
        #            salesLine.SysExtensionSerializerMap::postUpdate();
        #        }
        #        // </GEERU>
        #
        #        if (salesLine.MatchingAgreementLine && !AgreementLine::find(salesLine.MatchingAgreementLine).isLinkValid(salesLine,false))
        #        {
        #            salesLine.unLinkAgreementLine();
        #            info(strFmt("@SYS306908", this.SalesId, salesLine.ItemId));
        #        }
        #    }
        #
        #    while select forupdate markupTrans
        #          index hint TableRecIdIdx
        #          where markupTrans.TransTableId  == this.TableId &&
        #                markupTrans.TransRecId    == this.RecId   &&
        #               !markupTrans.IsDeleted
        #    {
        #        markupTrans.convertCurrencyCode(currencyCode);
        #        markupTrans.doUpdate();
        #    }
        #
        #    CustPaymSched::deleteCustPaymSched(this.TableId, this.RecId);
        #
        #    if (this.FixedExchRate)
        #    {
        #        info(strFmt("@SYS78763", this.SalesId));
        #    }
        #
        #    this.FixedExchRate  = 0;
        #
        #    this.CurrencyCode = currencyCode;
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #copyAddressToLine
        #server void  copyAddressToLine(DialogButton    copyAddress,
        #                               SalesTable      salesTable,
        #                               DeliveryDateUpdateInLines deliveryDateUpdateInLines = DeliveryDateUpdateInLines::RevertDeliveryDateControl)
        #{
        #    SalesLine  salesLine;
        #
        #    if (copyAddress == DialogButton::Cancel)
        #    {
        #        return;
        #    }
        #
        #    ttsbegin;
        #
        #    while select forupdate salesLine
        #        where salesLine.SalesId == this.SalesId &&
        #            (copyAddress                 == DialogButton::YesToAll ||
        #             salesLine.DeliveryPostalAddress == salesTable.orig().DeliveryPostalAddress)
        #    {
        #        if (!salesLine.isDropShipmentPOLineInvoiceMatched()
        #         && !salesLine.isInterCompanyOrderLineInvoiceMatched())
        #        {
        #            salesLine.setAddressFromSalesTable(this);
        #
        #            if (salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
        #            {
        #                SalesLineDeliveryDateControlRecalculate::applyDeliveryDateControl(salesLine, deliveryDateUpdateInLines);
        #            }
        #
        #            if (#PdsMRCEnabled)
        #            {
        #                if (!salesLine.validateWrite(true))
        #                {
        #                    throw error("@PDS894");
        #                }
        #            }
        #
        #            salesLine.write();
        #        }
        #    }
        #
        #    ttscommit;
        #}
        #
      ENDSOURCE
      SOURCE #copyDimension
        #/// <summary>
        #/// Returns a dimension set that can be applied to the <c>defaultDimension</c> field on this table.
        #/// </summary>
        #/// <param name="_defaultDimension">
        #/// A dimension set that should be applied to the <c>defaultDimension</c> field on this table.
        #/// </param>
        #/// <param name="_dimensionCopy">
        #/// A <c>dimensionCopy</c> object that was previously instantiated by using the current buffer;
        #/// optional.
        #/// </param>
        #/// <returns>
        #/// A dimension set that can be applied to the <c>defaultDimension</c> field on this table.
        #/// </returns>
        #/// <remarks>
        #/// This method makes sure that potential linked dimensions are not overwritten.
        #/// </remarks>
        #
        #public DimensionDefault copyDimension(
        #    DimensionDefault _defaultDimension,
        #    DimensionCopy    _dimensionCopy = DimensionCopy::newFromTable(this,
        #                                                                  this.companyInfo().RecId
        #                                                                  )
        #    )
        #{
        #    return _dimensionCopy.copy(_defaultDimension);
        #}
      ENDSOURCE
      SOURCE #copyPaymentSched
        #server void copyPaymentSched(CustInvoiceJour custInvoiceJour)
        #{
        #    CustPaymSched       custPaymSched;
        #    CustVendPaymSched   custVendPaymSched;
        #
        #    ttsbegin;
        #
        #    select custPaymSched
        #    where custPaymSched.ExtTableId       == this.TableId &&
        #          custPaymSched.ExtRecId         == this.RecId;
        #
        #    if (custPaymSched.RecId)
        #    {
        #        custVendPaymSched = CustVendPaymSched::construct(SysModule::Cust, custInvoiceJour);
        #        custVendPaymSched.copyCustVendPaymSched(custPaymSched);
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #copyRMALines
        #/// <summary>
        #/// Copies the lines from a return order to a sales order.
        #/// </summary>
        #/// <param name="_returnTable">
        #/// A <c>SalesTable</c> record.
        #/// </param>
        #/// <param name="_copyRMALines">
        #/// A Boolean value that indicates whether the lines should be copied.
        #/// </param>
        #void copyRMALines(SalesTable _returnTable, NoYes _copyRMALines = NoYes::No)
        #{
        #    SalesLine       salesLine;
        #    SalesLine       replacementLine;
        #    SalesTable      returnTable = SalesTable::findRecId(_returnTable.RecId, true);
        #    InventDim       inventDim;
        #    SalesLine       origSalesLine;
        #    SalesLine_BR    salesLine_BR;
        #    SalesTableLinks     salesTableLinks;
        #    MCRReturnSalesTable mcrReturnSalesTable;
        #    MCRReturnSalesTable mcrReturnSalesTableLocal;
        #    boolean mcrCallCenterEnabled = isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter));
        #
        #    ttsbegin;
        #    if (mcrCallCenterEnabled)
        #    {
        #        returnTable.ReturnReplacementId = this.SalesId;
        #        if (RetailMCRChannelTable::mcrEnableOrderCompletion(_returnTable))
        #        {
        #            // Support credit being applied to the exchange and linking records.
        #            mcrReturnSalesTable = returnTable.mcrReturnSalesTable();
        #            mcrReturnSalesTable.ApplyCreditToExchange = NoYes::Yes;
        #            mcrReturnSalesTable.AdvanceExchange = MCRAdvanceExchange::DoNotRelease;
        #            mcrReturnSalesTable.AdvanceCredit = NoYes::No;
        #            returnTable.mcrPackMCRReturnSalesTable(mcrReturnSalesTable);
        #        }
        #
        #        if(this.ReturnReplacementId)
        #        {
        #            mcrReturnSalesTableLocal = this.mcrReturnSalesTable();
        #            salesTableLinks.MainSalesId = mcrReturnSalesTableLocal.OriginalSalesId;
        #            salesTableLinks.SubSalesId = this.ReturnReplacementId;
        #
        #            salesTableLinks.insert();
        #        }
        #
        #        returnTable.update();
        #    }
        #
        #    if (_copyRMALines == NoYes::Yes && returnTable.returnItem())
        #    {
        #        while select forupdate salesLine
        #            where salesLine.SalesId         == returnTable.SalesId
        #                && salesLine.StockedProduct == true
        #                && salesLine.ReturnStatus   != ReturnStatusLine::Canceled
        #        {
        #            replacementLine.clear();
        #
        #            replacementLine.SalesType = SalesType::Sales;
        #
        #            if (BrazilParameters::isEnabled())
        #            {
        #                // For BR returned orders the fiscal information needs to be retrieved from
        #                // the original sales order line.
        #                origSalesLine = null;
        #                origSalesLine = SalesLine::findInventTransId(salesLine.InventTransIdReturn);
        #                if (origSalesLine)
        #                {
        #                    salesLine_BR = salesLine.salesLine_BR();
        #                    salesLine_BR.TaxServiceCode_BR     = origSalesLine.salesLine_BR().TaxServiceCode_BR;
        #                    salesLine_BR.DeliveryCFOPTable_BR  = origSalesLine.salesLine_BR().DeliveryCFOPTable_BR;
        #                    salesLine.packSalesLine_BR(salesLine_BR);
        #
        #                    salesLine.type().updateFiscalDocumentText_BR(FiscalDocumentTextType_BR::CFOP);
        #                }
        #            }
        #
        #
        #            // copy from return line
        #            replacementLine.initFromSalesLine(salesLine);
        #
        #            //This call is to utilize the alternative-item functionallity
        #            replacementLine.createAlternativeItem(replacementLine.inventDim(), replacementLine);
        #
        #            // update with replacement sales order information
        #            replacementLine.initFromSalesTable(this);
        #
        #            replacementLine.DefaultDimension = replacementLine.copyDimension(salesLine.DefaultDimension);
        #
        #            if (replacementLine.isStocked())
        #            {
        #                inventDim = replacementLine.inventDim();
        #                replacementLine.setDeliveryDateControlType(inventDim.InventDimId);
        #                replacementLine.initBarcode(inventDim);
        #                replacementLine.calcPackingUnit(inventDim);
        #                replacementLine.calcPackingUnitQty(inventDim);
        #            }
        #
        #            replacementLine.PdsCWQty    = -salesLine.PdsCWExpectedRetQty;
        #
        #            replacementLine.SalesQty    = -salesLine.ExpectedRetQty;
        #            replacementLine.SalesPrice  = Currency::curPrice2CurPrice(replacementLine.SalesPrice, salesLine.CurrencyCode, replacementLine.CurrencyCode);
        #            replacementLine.LineAmount  = -Currency::curAmount2CurAmount(replacementLine.LineAmount, salesLine.CurrencyCode, replacementLine.CurrencyCode);
        #
        #            SalesCalcAvailableDlvDates::initDateFields(replacementLine);
        #
        #            replacementLine.LineAmount  = replacementLine.calcLineAmount();
        #
        #            replacementLine.createLine(true, false, false, true, true, false, this.Reservation == ItemReservation::Automatic, true
        #                , ''                // _oldInventTransId
        #                , false             // _ignoreSalesTableInventDim
        #                , true              // _setLineNum
        #                , true              // _searchAgreementLine
        #                , null              // _smaServiceOrderTable
        #                , 0                 // _oldAgreementLineRecId
        #                , salesLine.InventTransId); // _mcrExchangeInventRefTransId
        #        }
        #    }
        #
        #    returnTable.ReturnReplacementId = this.SalesId;
        #    returnTable.update();
        #
        #    ttscommit;
        #}
        #
        #
      ENDSOURCE
      SOURCE #copyThirdPartyAddressFromCust
        #/// <summary>
        #/// Copies address to the <c>SalesTable</c> buffer.
        #/// </summary>
        #/// <remarks>
        #/// When the customer has third-party information, the user is prompted whether to copy to sales order.
        #/// </remarks>
        #void copyThirdPartyAddressFromCust()
        #{
        #    CustTable       fromCustTable;
        #    SalesLine       toSalesLine;
        #
        #    LogisticsPostalAddress address;
        #    LogisticsLocationDefault defaultLocation;
        #    LogisticsLocationRole thirdPartyShipRole;
        #    Addressing      oldThirdPartyBillingAddr;
        #
        #    ShipCarrierAddress shipCarrierAddress;
        #    LogisticsLocationEntity fromTpLocation;
        #
        #    fromCustTable = this.custTable_CustAccount();
        #
        #    address = LogisticsPostalAddress::findRecId(this.ShipCarrierPostalAddress);
        #    oldThirdPartyBillingAddr = address.Address;
        #
        #    if (this.ShipCarrierPostalAddress)
        #    {
        #        ttsbegin;
        #
        #        // Update the sales lines delivery information
        #        toSalesLine.skipDataMethods(true);
        #        update_recordset toSalesLine setting
        #            DeliveryName = fromCustTable.name(),
        #            ShipCarrierAccount = fromCustTable.ShipCarrierAccount,
        #            ShipCarrierAccountCode = fromCustTable.ShipCarrierAccountCode,
        #            ShipCarrierId = fromCustTable.ShipCarrierId,
        #            DlvMode = fromCustTable.DlvMode
        #            where toSalesLine.SalesId == this.SalesId;
        #
        #        ttscommit;
        #    }
        #
        #    fromTpLocation = LogisticsLocationEntity::findLocation(fromCustTable, LogisticsLocationRoleType::ShipCarrierThirdPartyShipping);
        #
        #    if (!(fromTpLocation && fromTpLocation.parmLocationRecId()))
        #    {
        #        return;
        #    }
        #
        #    ttsbegin;
        #
        #    defaultLocation = LogisticsLocationDefault::construct(fromCustTable);
        #    thirdPartyShipRole = LogisticsLocationRole::findBytype(LogisticsLocationRoleType::ShipCarrierThirdPartyShipping);
        #    if (defaultLocation.defaultExists(thirdPartyShipRole))
        #    {
        #        address = LogisticsPostalAddress::findByLocation(defaultLocation.getDefaultLocation(thirdPartyShipRole).RecId);
        #        this.ShipCarrierPostalAddress = address.RecId;
        #    }
        #
        #    if (address)
        #    {
        #        shipCarrierAddress = ShipCarrierAddress::findByCustomerLocation(fromCustTable.AccountNum, address.Location);
        #    }
        #    else if (thirdPartyShipRole)
        #    {
        #        shipCarrierAddress = ShipCarrierAddress::findByCustomerLocation(fromCustTable.AccountNum, fromTpLocation.parmLocationRecId());
        #    }
        #
        #    this.ShipCarrierAccount = shipCarrierAddress.ShipCarrierAccount;
        #    this.ShipCarrierAccountCode = shipCarrierAddress.ShipCarrierAccountCode;
        #    this.ShipCarrierId = shipCarrierAddress.ShipCarrierId;
        #    if (shipCarrierAddress.DlvTermId == '')
        #    {
        #        this.DlvTerm = fromCustTable.DlvTerm;
        #    }
        #    else
        #    {
        #        this.DlvTerm = shipCarrierAddress.DlvTermId;
        #    }
        #
        #    if (shipCarrierAddress.DlvModeId == '')
        #    {
        #        this.DlvMode = fromCustTable.DlvMode;
        #    }
        #    else
        #    {
        #        this.DlvMode = shipCarrierAddress.DlvModeId;
        #    }
        #    this.ShipCarrierBlindShipment = shipCarrierAddress.ShipCarrierBlindShipment;
        #    this.ShipCarrierFuelSurcharge = fromCustTable.ShipCarrierFuelSurcharge;
        #    this.ShipCarrierResidential = shipCarrierAddress.ShipCarrierResidentialDest;
        #
        #    if (this.RecId)
        #    {
        #        this.update();
        #    }
        #    ttscommit;
        #
        #    if (this.tpAddress() != oldThirdPartyBillingAddr && SalesLine::exist(this.SalesId))
        #    {
        #        if (SalesTable::promptCopyThirdPartyBillingAddress() == DialogButton::Yes)
        #        {
        #            this.copyThirdPartyBillingAddressToLine();
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #copyThirdPartyBillingAddressToLine
        #server void  copyThirdPartyBillingAddressToLine()
        #{
        #    SalesLine               salesLine;
        #    ShipCarrierAddress      shipCarrierAddress;
        #    LogisticsLocation       carrierLocation = LogisticsLocation::find(LogisticsPostalAddress::findRecId(this.ShipCarrierPostalAddress).Location);
        #    DlvModeId               custDlvModeId = this.custTable_CustAccount().DlvMode;
        #
        #    ttsbegin;
        #
        #    select firstonly ShipCarrierAccount,
        #                     ShipCarrierAccountCode,
        #                     ShipCarrierId,
        #                     DlvModeId
        #        from shipCarrierAddress
        #        where shipCarrierAddress.Location == carrierLocation.RecId;
        #
        #    while select forupdate salesLine
        #        where salesLine.SalesId == this.SalesId
        #    {
        #        if (!salesLine.isDropShipmentPOLineInvoiceMatched()
        #            && !salesLine.isInterCompanyOrderLineInvoiceMatched())
        #        {
        #            salesLine.SalesShipCarrierMap::setShipCarrierFromLogisticsLocation(
        #                carrierLocation,
        #                this.ShipCarrierPostalAddress,
        #                shipCarrierAddress);
        #            salesLine.update();
        #        }
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #createCarrierInfoAndThirdPartyAddress
        #/// <summary>
        #/// Initializes third-party shipping address and carrier information.
        #/// </summary>
        #void createCarrierInfoAndThirdPartyAddress()
        #{
        #    CustTable               custTable;
        #    DlvMode                 dlvMode;
        #    LogisticsLocation       location;
        #    LogisticsLocationEntity locationEntity;
        #
        #    ttsbegin;
        #    if (isConfigurationkeyEnabled(configurationKeyNum(ShipCarrier)) &&
        #        !this.ShipCarrierPostalAddress)
        #    {
        #        custTable = CustTable::find(this.CustAccount);
        #
        #        location = LogisticsLocationDefault::findSimpleDefault(custTable, LogisticsLocationRole::findBytype(
        #            LogisticsLocationRoleType::ShipCarrierThirdPartyShipping));
        #        locationEntity = LogisticsLocationEntity::constructFromLocationRecId(location.RecId);
        #
        #        //if the delivery mode has not been changed in create form,
        #        //and the customer has those info, copy from custTable
        #        if (this.DlvMode == custTable.DlvMode && location)
        #        {
        #            this.selectForUpdate(true);
        #            this.ShipCarrierPostalAddress = locationEntity.getPostalAddress().RecId;
        #            this.update();
        #        }
        #        //otherwise, copy carrierID from dlvMode
        #        else
        #        {
        #            dlvMode = DlvMode::find(this.DlvMode);
        #            if (dlvMode && dlvMode.ShipCarrierId)
        #            {
        #                this.selectForUpdate(true);
        #                this.ShipCarrierPostalAddress = locationEntity.getPostalAddress().RecId;
        #                this.update();
        #            }
        #        }
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #createCustTrans_BR
        #/// <summary>
        #/// Returns if the invoice will create customer transactions based on <c>SalesPurchOperationTye_BR</c> configuration.
        #/// </summary>
        #/// <returns>
        #/// Returns true is operation type is not set on <c>salesTable</c> or the operation type is configured to create customer transactions.
        #/// </returns>
        #public boolean createCustTrans_BR()
        #{
        #    return BrazilParameters::isEnabled() == false
        #        || this.salesTable_BR().SalesPurchOperationType_BR == 0
        #        || SalesPurchOperationType_BR::find(this.salesTable_BR().SalesPurchOperationType_BR).CreateFinancialTrans;
        #}
      ENDSOURCE
      SOURCE #createDate
        #/// <summary>
        #/// Retrieves the creation date of the current record.
        #/// </summary>
        #/// <returns>
        #/// The creation date of the current record.
        #/// </returns>
        #/// <remarks>
        #/// Retrieves the date only. Used in fact boxes.
        #/// </remarks>
        #display CreationDate  createDate()
        #{
        #    return DateTimeUtil::date(this.CreatedDateTime);
        #}
      ENDSOURCE
      SOURCE #createInventTrans_BR
        #/// <summary>
        #/// Returns if the invoice will create inventory transactions based on <c>SalesPurchOperationTye_BR</c> configuration.
        #/// </summary>
        #/// <returns>
        #/// Returns true is operation type is not set on <c>salesTable</c> or the operation type is configured to inventory transactions.
        #/// </returns>
        #public boolean createInventTrans_BR()
        #{
        #    return BrazilParameters::isEnabled() == false
        #        || this.salesTable_BR().SalesPurchOperationType_BR == false
        #        || SalesPurchOperationType_BR::find(this.salesTable_BR().SalesPurchOperationType_BR).CreateInventTrans;
        #}
      ENDSOURCE
      SOURCE #createMarkupTrans
        #/// <summary>
        #/// Creates markups for the sales order.
        #/// </summary>
        #/// <param name="_deleteExistingMarkupTrans">
        #/// Determines whether to delete existing markups before creating the new.
        #/// </param>
        #/// <param name="_createTieredMarkups">
        #/// Determines whether to create tiered markups. If this parameter is true then _deleteExistingMarkupTrans will be reset to false.
        #/// In this case only existing tiered markups will be deleted before creating the new.
        #/// </param>
        #server public void createMarkupTrans(boolean _deleteExistingMarkupTrans = true,
        #                                     boolean _createTieredMarkups = false)
        #{
        #    Amount  totalLineAmount;
        #    boolean deleteMarkups = _deleteExistingMarkupTrans;
        #    NoYes   mcrReturnValue;
        #
        #    if (this.markupAllowed())
        #    {
        #        if (this.SalesType == SalesType::ReturnItem)
        #        {
        #            mcrReturnValue = true;
        #        }
        #        else
        #        {
        #            mcrReturnValue = false;
        #        }
        #
        #        ttsbegin;
        #
        #        if (_createTieredMarkups)
        #        {
        #            totalLineAmount = this.getTotalLineAmount();
        #            MarkupTrans::deleteTieredCharges(this.TableId, this.RecId);
        #            deleteMarkups = false;
        #        }
        #
        #        if (!_createTieredMarkups || totalLineAmount > 0)
        #        {
        #            Markup::insertMarkupTrans(HeadingLine::Heading,
        #                                      MarkupModuleType::Cust,
        #                                      this,
        #                                      this.CustAccount,
        #                                      this.MarkupGroup,
        #                                      this.CurrencyCode,
        #                                      this.LanguageId,
        #                                      '',
        #                                      this.MarkupGroup,
        #                                      false,
        #                                      deleteMarkups,
        #                                      this.DlvMode,
        #                                      DlvMode::find(this.DlvMode).MarkupGroup,
        #                                      totalLineAmount,
        #                                      mcrReturnValue
        #                                     );
        #
        #            if (this.DlvMode)
        #            {
        #                // Handle delivery charges
        #                Markup::insertMarkupTrans(HeadingLine::Heading,
        #                                        MarkupModuleType::Delivery,
        #                                        this,
        #                                        this.CustAccount,
        #                                        this.MarkupGroup,
        #                                        this.CurrencyCode,
        #                                        this.LanguageId,
        #                                        '',
        #                                        this.MarkupGroup,
        #                                        false,
        #                                        false,
        #                                        this.DlvMode,
        #                                        DlvMode::find(this.DlvMode).MarkupGroup,
        #                                        totalLineAmount
        #                                    );
        #            }
        #
        #            if (this.isInterCompanyOrder())
        #            {
        #                Markup::setMarkupKeepForIntercompany(this);
        #            }
        #        }
        #
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #createOneTimeAccount
        #client server void createOneTimeAccount()
        #{
        #    boolean resetTmpCustomerName;
        #
        #    if (!this.DeliveryName)
        #    {//DeliveryName is used as customer name and is mandatory.
        #     //The customer name is updated again in transferToOnetimeCustomer which is called as soon as the sales order is being created.
        #        this.DeliveryName = "@SYS23011";
        #        resetTmpCustomerName = true;
        #    }
        #
        #    this.CustAccount = CustTable::createOneTimeAccount(this);
        #    this.initFromCustTable();
        #
        #    if (resetTmpCustomerName)
        #    {
        #        this.DeliveryName = '';
        #        this.SalesName = '';
        #    }
        #
        #    if (!this.InvoiceAccount)
        #    {
        #        this.InvoiceAccount = this.CustAccount;
        #    }
        #}
      ENDSOURCE
      SOURCE #createPaymentSched
        #server void createPaymentSched()
        #{
        #    CustVendPaymSched   custVendPaymSched;
        #    SalesTotals         salesTotals = SalesTotals::construct(this, SalesUpdate::All);
        #
        #    salesTotals.prepareTotalAmountCalculation();
        #    salesTotals.calc();
        #
        #    custVendPaymSched = CustVendPaymSched::construct(SysModule::Cust,this);
        #    custVendPaymSched.setSalesTotals(salesTotals);
        #    custVendPaymSched.createPaymSched(PaymSched::find(this.PaymentSched));
        #}
      ENDSOURCE
      SOURCE #createReplacementOrderAllowed
        #public boolean createReplacementOrderAllowed(SalesLine _salesLine = null)
        #{
        #    boolean ret = false;
        #    SalesLine localSalesLine = _salesLine as SalesLine;
        #
        #    if (this.isInterCompanyOrder()
        #    &&  this.InterCompanyDirectDeliveryOrig)
        #    {
        #        ret = false;
        #    }
        #    else if (this.ReturnStatus == ReturnStatusHeader::Created
        #         && !this.ReturnReplacementId
        #         && !this.interCompanyReplacementRegistered())
        #    {
        #        if (!localSalesLine.isStocked())
        #        {
        #            select firstonly localSalesLine
        #                where localSalesLine.SalesId == this.SalesId
        #                    && localSalesLine.StockedProduct;
        #
        #            ret = localSalesLine.RecId;
        #        }
        #        else
        #        {
        #            ret = true;
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #createReturnMarkupTrans
        #server void createReturnMarkupTrans()
        #{
        #    if (this.markupAllowed())
        #    {
        #       Markup::insertReturnMarkupTrans(HeadingLine::Heading,
        #                                       MarkupModuleType::Cust,
        #                                       this,
        #                                       this.CustAccount,
        #                                       this.MarkupGroup,
        #                                       this.LanguageId);
        #    }
        #}
      ENDSOURCE
      SOURCE #creditCardAuthorizationCode
        #/// <summary>
        #/// Returns the authorization code that came from the credit card processor.
        #/// </summary>
        #/// <returns>
        #/// The authorization code returned by the credit card processor.
        #/// </returns>
        #[SysClientCacheDataMethodAttribute(true)]
        #public display CreditCardAuthorization creditCardAuthorizationCode()
        #{
        #    return CreditCardAuthTrans::findValidPreApproval(this.SalesId).Authorization;
        #}
      ENDSOURCE
      SOURCE #creditCardBypassCreditLimit
        #boolean creditCardBypassCreditLimit()
        #{
        #    return (RetailParameters::isRetailEnabledAndInUse() && this.isRetailSale()) || this.payment().CreditCardCreditCheck == CreditCardCreditCheck::ByPass;
        #}
      ENDSOURCE
      SOURCE #creditCardDoPreAuthorize
        #/// <summary>
        #/// Authorizes a credit card for a sales order.
        #/// </summary>
        #/// <param name="_presentExtraMsg">
        #/// true to display extra messages; otherwise, false.
        #/// </param>
        #/// <returns>
        #/// true if the authorization process was sucessful or not needed; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #/// Authorization is required for a sales order if:
        #/// 1) the credit cards feature is configured,
        #/// 2) the payment type of the sales order is card card and
        #/// 3) credit card processing is configured to require authorization.
        #/// </remarks>
        #public boolean creditCardDoPreAuthorize(boolean _presentExtraMsg = true)
        #{
        #    // Only pre-authorization credit card when needed
        #    if (this.isCreditCardPaymentType() && CustParameters::find().CreditCardPreAuthorization)
        #    {
        #        return CreditCardProcess::doPreAuth(this, _presentExtraMsg);
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #creditCardPreauthorizationAmount
        #/// <summary>
        #/// Returns the preauthorization amount charged to the credit card.
        #/// </summary>
        #/// <returns>
        #/// The preauthorization amount for the credit card.
        #/// </returns>
        #[SysClientCacheDataMethodAttribute(true)]
        #public display CreditCardPreauthorizationAmount creditCardPreauthorizationAmount()
        #{
        #    return CreditCardAuthTrans::findValidPreApproval(this.SalesId).ApprovalAmountCur;
        #}
      ENDSOURCE
      SOURCE #customerEmail
        #display Email customerEmail()
        #{
        #    return this.custTable_CustAccount().email();
        #}
      ENDSOURCE
      SOURCE #customerName
        #display CustName customerName()
        #{
        #    return this.partyTable_CustAccount().Name;
        #}
      ENDSOURCE
      SOURCE #customerPhone
        #display Phone customerPhone()
        #{
        #    return this.custTable_CustAccount().phone();
        #}
      ENDSOURCE
      SOURCE #custTable_CustAccount
        #CustTable custTable_CustAccount(boolean _forUpdate = false)
        #{
        #    return CustTable::find(this.CustAccount, _forUpdate) as CustTable;
        #}
      ENDSOURCE
      SOURCE #custTable_InvoiceAccount
        #CustTable  custTable_InvoiceAccount(boolean  _forUpdate = false)
        #{
        #    return CustTable::find(this.InvoiceAccount, _forUpdate);
        #}
      ENDSOURCE
      SOURCE #delete
        #public void  delete()
        #{
        #    // <GIN>
        #    #ISOCountryRegionCodes
        #    // </GIN>
        #    SalesTableType salesTableType;
        #    boolean unlinkLinesToo = true;
        #
        #    // Before deletion of release order, remove agreement links
        #    this.unlinkAgreement(unlinkLinesToo);
        #
        #    salesTableType = this.type();
        #    salesTableType.delete();
        #
        #    TradeBLWIJournalPurposeCodes::deleteRecord(this.RecId, TradeBLWITypeOfForm::SalesTable);
        #
        #    // Update the CRM transaction log
        #    smmTransLog::initTrans(this, smmLogAction::delete);
        #
        #    // <GIN>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
        #    {
        #        this.TransitDocumentTransactionMap_IN::deleteTransitDocuments();
        #    }
        #    // </GIN>
        #}
      ENDSOURCE
      SOURCE #deliveryAddress
        #LogisticsPostalAddress deliveryAddress()
        #{
        #    return LogisticsPostalAddress::findRecId(this.DeliveryPostalAddress);
        #}
      ENDSOURCE
      SOURCE #deliveryAddressing
        #display LogisticsAddressing deliveryAddressing()
        #{
        #    return this.deliveryAddress().Address;
        #}
      ENDSOURCE
      SOURCE #deliveryCFOPTable_BR
        #/// <summary>
        #/// Retrieves the delivery cfop code of the sales order.
        #/// </summary>
        #/// <returns>
        #/// The delivery cfop code of the sales order.
        #/// </returns>
        #public RecId deliveryCFOPTable_BR()
        #{
        #    SalesLine salesLine;
        #    SalesLine_BR salesLine_BR;
        #
        #    select DeliveryCFOPTable_BR from salesLine_BR
        #        where salesLine_BR.DeliveryCFOPTable_BR != 0
        #        exists join salesLine
        #        where  salesLine.RecId == salesLine_BR.SalesLine
        #            && salesLine.SalesId == this.SalesId;
        #
        #    return salesLine_BR.DeliveryCFOPTable_BR;
        #}
      ENDSOURCE
      SOURCE #deliveryCNPJCPFNUM_BR
        #/// <summary>
        #/// Returns the delivery CNPJ or CPF for the current record.
        #/// </summary>
        #/// <returns>
        #/// Returns the CNPJ or CPF of the customer if the adddress is a primary address.
        #/// Returns the CNPJ or CPF related to delivery <c>logisticsPostalAddress</c> if the adddress is not a primary address.
        #/// </returns>
        #public display CNPJCPFNum_BR deliveryCNPJCPFNUM_BR()
        #{
        #    DirPartyLocation dirPartyLocation;
        #
        #    if (!BrazilParameters::isEnabled())
        #        return '';
        #
        #    dirPartyLocation = DirPartyLocation::findByPartyLocation(this.custTable_CustAccount().Party, this.deliveryLocation());
        #
        #    if (!dirPartyLocation.RecId ||  dirPartyLocation.IsPrimary)
        #    {
        #        return this.custTable_CustAccount().cnpjcpfNum_BR;
        #    }
        #    else
        #    {
        #        return (select cnpjcpfNum_BR from logisticsLocationExt
        #            where logisticsLocationExt.Location == this.deliveryLocation()).cnpjcpfNum_BR;
        #    }
        #}
      ENDSOURCE
      SOURCE #deliveryDateDisplay
        #display DlvDate deliveryDateDisplay(DlvDate _blankDate = dateNull())
        #{
        #    if (this.ShippingDateConfirmed || this.ShippingDateRequested)
        #    {
        #        return this.ShippingDateConfirmed ? this.ShippingDateConfirmed : this.ShippingDateRequested;
        #    }
        #
        #    if (prmisDefault(_blankDate))
        #    {
        #        return InventOrderEntryDeadlineTable::effectiveOrderDate(this.InventSiteId,CustTable::find(this.CustAccount).OrderEntryDeadlineGroupId);
        #    }
        #    return _blankDate;
        #}
      ENDSOURCE
      SOURCE #deliveryIENum_BR
        #/// <summary>
        #/// Returns the delivery IE for the current record.
        #/// </summary>
        #/// <returns>
        #/// Returns the IE of the customer if the adddress is a primary address.
        #/// Returns the IE related to delivery <c>logisticsPostalAddress</c> if the adddress is not a primary address.
        #/// </returns>
        #public display IENum_BR deliveryIENum_BR()
        #{
        #    DirPartyLocation dirPartyLocation;
        #
        #    if (!BrazilParameters::isEnabled())
        #        return '';
        #
        #    dirPartyLocation = DirPartyLocation::findByPartyLocation(this.custTable_CustAccount().Party, this.deliveryLocation());
        #
        #    if (!dirPartyLocation.RecId ||  dirPartyLocation.IsPrimary)
        #    {
        #        return this.custTable_CustAccount().ieNum_BR;
        #    }
        #    else
        #    {
        #        return (select ieNum_BR from logisticsLocationExt
        #            where logisticsLocationExt.Location == this.deliveryLocation()).ieNum_BR;
        #    }
        #}
      ENDSOURCE
      SOURCE #deliveryLocation
        #public LogisticsLocationRecId deliveryLocation()
        #{
        #    return LogisticsPostalAddress::getLocation(this.DeliveryPostalAddress);
        #}
      ENDSOURCE
      SOURCE #deliveryPhone
        #/// <summary>
        #/// Gets the telephone number that is associated with the delivery of a sales order.
        #/// </summary>
        #/// <returns>
        #/// The telephone number that is associated with the delivery of a sales order; otherwise, an empty
        #/// string.
        #/// </returns>
        #public Phone deliveryPhone()
        #{
        #    Phone                       phone;
        #    LogisticsLocationRecId      locationRecId;
        #    LogisticsLocation           locationChild;
        #    LogisticsElectronicAddress  logisticsElectronicAddress;
        #
        #    // First see if a contact person phone number is available
        #    if (this.ContactPersonId)
        #    {
        #        phone = this.contactPerson().phone();
        #        if (phone)
        #        {
        #            return phone;
        #        }
        #    }
        #
        #    // See if a phone number associated with the delivery location is available
        #    locationRecId = this.deliveryLocation();
        #    if (locationRecId)
        #    { // Find a phone number associated with the postal delivery location
        #        select firstonly TableId from locationChild
        #            where locationChild.ParentLocation  == locationRecId
        #                && locationChild.IsPostalAddress == NoYes::No
        #            join Locator from logisticsElectronicAddress
        #            where logisticsElectronicAddress.Location   == locationChild.RecId
        #                &&   logisticsElectronicAddress.Type       == LogisticsElectronicAddressMethodType::Phone
        #                &&   logisticsElectronicAddress.Locator    != '';
        #        phone = logisticsElectronicAddress.Locator;
        #        if (phone)
        #        {
        #            return phone;
        #        }
        #    }
        #
        #    return this.customerPhone();
        #}
      ENDSOURCE
      SOURCE #deliveryTransDateTime
        #TransDateTime deliveryTransDateTime()
        #{
        #    return DateTimeUtil::newDateTime(this.DeliveryDate,0,DateTimeUtil::getCompanyTimeZone());
        #}
      ENDSOURCE
      SOURCE #dispLastConsDate_JP
        #/// <summary>
        #/// Displays the latest consolidation date for this sales order.
        #/// </summary>
        #/// <returns>
        #/// Consolidation date.
        #/// </returns>
        #//BP Deviation documented
        #public display CustVendConsDate_JP dispLastConsDate_JP()
        #{
        #    return this.SalesPurchTable::getLastConsDate_JP();
        #}
        #
      ENDSOURCE
      SOURCE #dispLastConsId_JP
        #/// <summary>
        #/// Gets latest consolidation invoice Id for this purchase order.
        #/// </summary>
        #/// <returns>
        #/// Consolidation invoice Id.
        #/// </returns>
        #//BP Deviation documented
        #public display CustConsId_JP dispLastConsId_JP()
        #{
        #    return this.SalesPurchTable::getLastConsId_JP();
        #}
        #
      ENDSOURCE
      SOURCE #displayBankDocumentInfo
        #/// <summary>
        #/// Sets the title on top of the preview pane on the <c>BankLCExportListPage </c>form.
        #/// </summary>
        #/// <returns>
        #/// The title field of the preview pane.
        #/// </returns>
        #public display Caption displayBankDocumentInfo()
        #{
        #    return strFmt("@SYS327590", this.SalesId, this.BankDocumentType);
        #}
      ENDSOURCE
      SOURCE #displayProformaAmountForBankLC
        #/// <summary>
        #/// The display method to display the total proforma invoice amount of the sales order.
        #/// </summary>
        #/// <returns>
        #/// The total proforma invoice amount.
        #/// </returns>
        #display AmountCur displayProformaAmountForBankLC()
        #{
        #    return BankLCExport::amountProformaTotalInclTax(this.SalesId);
        #}
      ENDSOURCE
      SOURCE #dlvModeMandatory
        #boolean dlvModeMandatory()
        #{
        #    return this.type().dlvModeMandatory();
        #}
      ENDSOURCE
      SOURCE #editContactPersonName
        #client server edit ContactPersonName  editContactPersonName(boolean _set, ContactPersonName _name)
        #{
        #    ContactPersonName   name = _name;
        #    ContactPerson       contactPerson;
        #    DirPartyTable       partyTable;
        #    ContactPersonId     contactPersonId;
        #
        #    if (_set)
        #    {
        #        if (name)
        #        {
        #            contactPersonId = this.ContactPersonId;
        #            contactPerson = ContactPerson::find(_name);
        #            this.ContactPersonId = contactPerson.ContactPersonId;
        #            if (this.ContactPersonId)
        #            {
        #                name = contactPerson.personName();
        #            }
        #            else
        #            {
        #                select contactPerson
        #                        where contactPerson.CustAccount ==   this.CustAccount
        #                    join Name from partyTable
        #                        where partyTable.RecId == contactPerson.Party &&
        #                              partyTable.Name        like name;
        #                if (contactPerson)
        #                {
        #                    this.ContactPersonId=contactPerson.ContactPersonId;
        #                    name=partyTable.Name;
        #                }
        #            }
        #            if (contactPersonId != this.ContactPersonId)
        #            {
        #                if (this.checkContactPerson())
        #                {
        #                    this.initFromContactInfo();
        #                    if (this.dataSource())
        #                    {
        #                        this.dataSource().refresh();
        #                    }
        #                }
        #                else
        #                {
        #                    this.ContactPersonId = contactPersonId;
        #                }
        #
        #            }
        #        }
        #        else
        #        {
        #            this.ContactPersonId='';
        #        }
        #    }
        #    else
        #    {
        #        name = this.contactPersonName();
        #    }
        #
        #    return name;
        #}
      ENDSOURCE
      SOURCE #editCreditCard
        #// NOTE: The value in parameter _creditCardNumber is not a credit card number
        #// (EDT CreditCardNumber, type string) but rather the value of CreditCardCust.RecId converted
        #// to a string by the lookup form (CreditCardLookup) for the form field.
        #// There are two reasons for this:
        #// 1) Becuase this is an edit method, it must have a certain signature, RecId is not allowed.
        #// 2) We do not want to pass the real credit card number around on the client.
        #// The lookup for the credit card number field on a form returns the RecId and this
        #// method uses that value to lookup the CreditCardCust record.  Using that (non-HBI)
        #// record we then get the obscured credit card number (leading asterisks and last 4
        #// digits) and display that string.
        #[SysClientCacheDataMethodAttribute(true)]
        #client server edit CreditCardNumber editCreditCard(boolean _set, CreditCardNumber _creditCardNumber)
        #{
        #    RecId recId = str2int64(strRTrim(strLTrim(_creditCardNumber)));
        #    CreditCardNumber creditCardNumber;
        #    CreditCardCust creditCardCust;
        #
        #    boolean okToChange(RefRecId _creditCard)
        #    {
        #        if (this.CreditCardCustRefId == _creditCard) // same CC?
        #        {
        #            return true; // Yes, same one, no change
        #        }
        #        return this.cancelPreAuthorization(); // Yes, see if we need to cancel the PreAuth
        #    }
        #
        #    if (_set)
        #    {
        #        if (okToChange(recId))
        #        {
        #            if (recId)
        #            {
        #                creditCardCust = CreditCardCust::find(recId);
        #                if (creditCardCust.RecId && this.InvoiceAccount == creditCardCust.CustAccount)
        #                {
        #                    this.CreditCardCustRefId = creditCardCust.RecId;
        #                }
        #                else
        #                {
        #                    this.CreditCardCustRefId = 0;
        #                }
        #            }
        #            else
        #            {
        #                this.CreditCardCustRefId = 0;
        #            }
        #
        #            this.validateField(fieldNum(SalesTable, CreditCardCustRefId));
        #
        #            // ensure the credit card number is blanked out if its reference was cleared during
        #            // field validation
        #            if(this.CreditCardCustRefId == 0)
        #            {
        #                creditCardNumber = '';
        #            }
        #            else
        #            {
        #                creditCardNumber = CreditCard::creditCardNumber(this.CreditCardCustRefId);
        #            }
        #
        #            return creditCardNumber;
        #        }
        #    }
        #
        #    // Double check to make sure the record hasn't been deleted
        #    if (this.CreditCardCustRefId && CreditCardCust::exist(this.CreditCardCustRefId))
        #    {
        #        creditCardNumber = CreditCard::creditCardNumber(this.CreditCardCustRefId);
        #    }
        #    else
        #    {
        #        this.CreditCardCustRefId = 0;
        #    }
        #
        #    return creditCardNumber;
        #}
      ENDSOURCE
      SOURCE #editExportSales_PL
        #/// <summary>
        #/// Edits the export sales value for the sales order.
        #/// </summary>
        #/// <param name="_set">
        #/// A Boolean value that indicates whether the value has been modified.
        #/// </param>
        #/// <param name="_value">
        #/// The new export sales value.
        #/// </param>
        #/// <returns>
        #/// The export sales value.
        #/// </returns>
        #public edit PlExportSales editExportSales_PL(boolean _set, PlExportSales _value)
        #{
        #    #ISOCountryRegionCodes
        #    boolean isExportSalesOrder;
        #
        #    if (isConfigurationkeyEnabled(configurationKeyNum(LedgerBasicSalesTax)) &&
        #        SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
        #    {
        #        if (_set)
        #        {
        #            if (!ExportSalesOrder::existSalesOrder(this.SalesId))
        #            {
        #                if (_value)
        #                {
        #                    ExportSalesOrder::createFromSalesOrder(this.SalesId);
        #                }
        #            }
        #            else
        #            {
        #                if (!_value)
        #                {
        #                    ExportSalesOrder::deleteBySalesOrder(this.SalesId);
        #                }
        #            }
        #
        #            isExportSalesOrder = _value;
        #        }
        #        else
        #        {
        #            isExportSalesOrder = ExportSalesOrder::existSalesOrder(this.SalesId);
        #        }
        #    }
        #
        #    return isExportSalesOrder;
        #}
      ENDSOURCE
      SOURCE #editFixedExchRate
        #public edit SalesFixedExchRate editFixedExchRate(boolean set, SalesFixedExchRate _exchRate)
        #{
        #    ExchangeRateHelper exchangeRateHelper = ExchangeRateHelper::newCurrency(Ledger::primaryLedger(CompanyInfo::findDataArea(curext()).RecId), this.CurrencyCode);
        #
        #    if (set)
        #    {
        #        this.FixedExchRate = exchangeRateHelper.prepareExchangeRateForStorage(_exchRate);
        #    }
        #    else
        #    {
        #        _exchRate = exchangeRateHelper.displayStoredExchangeRate(this.FixedExchRate);
        #    }
        #
        #    return _exchRate;
        #}
      ENDSOURCE
      SOURCE #editReasonCode
        #/// <summary>
        #/// Gets and sets the reason code.
        #/// </summary>
        #/// <param name="_set">
        #/// A Boolean value that indicates whether the reason code is set.
        #/// </param>
        #/// <param name="_reasonCode">
        #/// The new reason code when the <paramref name="set" /> value is true.
        #/// </param>
        #/// <returns>
        #/// The reason code of the record in the <c>ReasonTableRef</c> table.
        #/// </returns>
        #//BP Deviation Documented
        #public edit ReasonCode editReasonCode(boolean _set, ReasonCode _reasonCode)
        #{
        #    ReasonCode      reasonCode = strLRTrim(_reasonCode);
        #    RefRecId        originalReasonRefRecId;
        #    FormDataSource  formSalesTable;
        #
        #    if (_set)
        #    {
        #        if (this.CreditNoteReasonCode == 0)
        #        {
        #            this.CreditNoteReasonCode = ReasonTableRef::createFromCode(reasonCode);
        #        }
        #        else
        #        {
        #            if (reasonCode)
        #            {
        #                //The reasonCode value is not blank.
        #                // Save the current ReasonRefRecID for comparision.
        #                originalReasonRefRecId = this.CreditNoteReasonCode;
        #                this.CreditNoteReasonCode = ReasonTableRef::updateCode(reasonCode, this.CreditNoteReasonCode);
        #
        #                if (this.CreditNoteReasonCode == originalReasonRefRecId)
        #                {
        #                    // The reason code has changed but the referenced record ID has not.
        #                    // Get the current FormDataSource and set forceWrite() to true so that
        #                    // data validation (validateWrite()) is performed on the updated reason code.
        #                    formSalesTable = this.dataSource();
        #                    if (formSalesTable)
        #                    {
        #                        formSalesTable.forceWrite(true);
        #                    }
        #                }
        #            }
        #            else
        #            {
        #                // The reasonCode is blank.
        #                this.CreditNoteReasonCode = ReasonTableRef::updateCode(reasonCode, this.CreditNoteReasonCode);
        #            }
        #        }
        #
        #        // Update the reason comment with the default comment value for the updated reason code.
        #        // A blank reasonCode will result in a blank comment because a blank reasonCode
        #        // will return an empty reasonTable buffer.
        #
        #        this.editReasonComment(true, ReasonTable::find(_reasonCode).Description);
        #    }
        #    else
        #    {
        #        reasonCode = ReasonTableRef::find(this.CreditNoteReasonCode).Reason;
        #    }
        #
        #    return reasonCode;
        #}
      ENDSOURCE
      SOURCE #editReasonCodeTH
        #/// <summary>
        #///     Gets and sets the reason code.
        #/// </summary>
        #/// <param name="set">
        #///     true if the reason code is set; otherwise, set to false.
        #/// </param>
        #/// <param name="_reasonCode">
        #///     The new reason code when <paramref name="set" /> is true.
        #/// </param>
        #/// <returns>
        #///     The reason code of the record in the <c>ReasonTableRef</c> table.
        #/// </returns>
        #public edit ReasonCode editReasonCodeTH(boolean set, ReasonCode _reasonCode)
        #{
        #    return this.salesTableExtensionTH().editReasonCode(set, _reasonCode);
        #}
      ENDSOURCE
      SOURCE #editReasonComment
        #/// <summary>
        #/// Gets and sets the reason comment.
        #/// </summary>
        #/// <param name="set">
        #/// A Boolean value that indicates whether the reason code is set.
        #/// </param>
        #/// <param name="_reasonComment">
        #/// The new reason comment when the <paramref name="set" /> value is true.
        #/// </param>
        #/// <returns>
        #/// The reason comment of the record in the <c>ReasonTableRef</c> table.
        #/// </returns>
        #//BP Deviation Documented
        #public edit ReasonComment editReasonComment(boolean set, ReasonComment _reasonComment)
        #{
        #    ReasonComment   reasonComment = _reasonComment;
        #
        #    if (set)
        #    {
        #        // If the ReasonRefRecID is 0, then create a new ReasonTableRef record
        #        // otherwise, update the existing record.
        #        if (this.CreditNoteReasonCode == 0)
        #        {
        #            this.CreditNoteReasonCode = ReasonTableRef::createFromComment(reasonComment);
        #        }
        #        else
        #        {
        #            this.CreditNoteReasonCode = ReasonTableRef::updateComment(reasonComment, this.CreditNoteReasonCode);
        #        }
        #    }
        #    else
        #    {
        #        reasonComment = ReasonTableRef::find(this.CreditNoteReasonCode).ReasonComment;
        #    }
        #
        #    return reasonComment;
        #}
      ENDSOURCE
      SOURCE #euroTriangulation
        #EUROTriangulation euroTriangulation(date _date = systemDateGet())
        #{
        #    if (this.SettleVoucher == SettlementType::SelectedTransact && SalesParameters::find().UseSettleExchRate)
        #    {
        #        if (this.settleExchRate())
        #        {
        #            return NoYes::No;
        #        }
        #    }
        #
        #    if (this.FixedExchRate)
        #    {
        #        return NoYes::No;
        #    }
        #
        #    return Currency::triangulation(this.CurrencyCode, _date);
        #}
      ENDSOURCE
      SOURCE #evaluateAddTmsChargeToRetailOrder
        #/// <summary>
        #/// Evaluates whether transportation charges can be added to the retail sales order
        #/// based on the <c>TMSDlvTerm</c> setup.
        #/// </summary>
        #/// <returns>
        #/// <c>NoYes::Yes</c> if the transportation charge can be added; <c>NoYes::No</c> otherwise.
        #/// </returns>
        #public NoYes evaluateAddTmsChargeToRetailOrder()
        #{
        #    NoYes ret;
        #
        #    if (this.isRetailSale())
        #    {
        #        ret = TMSDlvTerm::find(this.DlvTerm).AddChargeToRetailOrderPolicy;
        #    }
        #    else
        #    {
        #        ret = NoYes::Yes;
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #evaluateAddTmsChargeToSalesOrder
        #/// <summary>
        #/// Evaluates whether transportation charges can be added to the sales order based on
        #/// the <c>TMSDlvTerm</c> setup.
        #/// </summary>
        #/// <returns>
        #/// <c>NoYes::Yes</c> if the transportation charge can be added; <c>NoYes::No</c> otherwise.
        #/// </returns>
        #public NoYes evaluateAddTmsChargeToSalesOrder()
        #{
        #    return TMSDlvTerm::find(this.DlvTerm).TransferChargesToOrder
        #        && this.evaluateAddTmsChargeToRetailOrder();
        #}
      ENDSOURCE
      SOURCE #exchRate
        #CustExchRate exchRate(date _date = systemDateGet(), boolean throwOnError = false)
        #{
        #    CustExchRate    exchRate = 0;
        #
        #    if (this.SettleVoucher == SettlementType::SelectedTransact && SalesParameters::find().UseSettleExchRate)
        #    {
        #        exchRate = this.settleExchRate(throwOnError);
        #    }
        #
        #    if (!exchRate)
        #    {
        #        if (this.FixedExchRate)
        #        {
        #            exchRate = this.FixedExchRate;
        #        }
        #        else
        #        {
        #            exchRate = Currency::exchRate(this.CurrencyCode, _date);
        #        }
        #    }
        #
        #    return exchRate;
        #}
      ENDSOURCE
      SOURCE #exchRateSecondary
        #ExchrateSecondary exchRateSecondary(date _date = systemDateGet())
        #{
        #    ExchRate exchRateSecondary;
        #
        #    if (this.SettleVoucher == SettlementType::SelectedTransact &&
        #        SalesParameters::find().UseSettleExchRate &&
        #        (SpecTrans::getSpecTransCount(this.company(), this.TableId, this.RecId) > 0))
        #    {
        #        exchRateSecondary = 0;
        #    }
        #    else if (this.FixedExchRate)
        #    {
        #        exchRateSecondary = 0;
        #    }
        #    else
        #    {
        #        exchRateSecondary = Currency::exchRateSecond(this.CurrencyCode, _date);
        #    }
        #
        #    return exchRateSecondary;
        #}
      ENDSOURCE
      SOURCE #existDirectDelivery
        #boolean existDirectDelivery()
        #{
        #    SalesLine   salesLine;
        #
        #    select firstonly RecId from salesLine where
        #        salesLine.SalesId           == this.SalesId &&
        #        salesLine.InventRefId       != ''           &&
        #        salesLine.DeliveryType      == TradeLineDlvType::DropShip;
        #
        #    return salesLine.RecId != 0;
        #}
      ENDSOURCE
      SOURCE #existingJournals
        #/// <summary>
        #/// Indicates whether the journals exist for a <c>SalesTable</c> record.
        #/// </summary>
        #/// <param name="_journalTypes">
        #/// A packed set of journal types to check; optional.
        #/// </param>
        #/// <param name="_continueOnFound">
        #/// A Boolean value that indicates whether the check must continue after the first journal is found;
        #/// optional.
        #/// </param>
        #/// <returns>
        #/// A container that contains a set of Boolean values that indicate if a journal exists.
        #/// </returns>
        #server container existingJournals(
        #    container   _journalTypes    = conNull(),
        #    boolean     _continueOnFound        = true)
        #{
        #    container   existingJournalContainer;
        #    Set         journalsToCheckSet;
        #    boolean     checkQuotation;
        #    boolean     checkConfirmation;
        #    boolean     checkPickingList;
        #    boolean     checkPackingSlip;
        #    boolean     checkInvoice;
        #    boolean     found;
        #    boolean     checkInvoice4Payment;
        #    boolean     checkFacture;
        #
        #    #ISOCountryRegionCodes
        #
        #    boolean     isCountryRegion_RU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]);
        #
        #    void setExistJournal(boolean _exists, int _pos)
        #    {
        #        existingJournalContainer = conPoke(existingJournalContainer, _pos, _exists);
        #        if (_exists)
        #        {
        #            found = true;
        #        }
        #    }
        #
        #    if (_journalTypes)
        #    {
        #        journalsToCheckSet = Set::create(_journalTypes);
        #    }
        #    checkQuotation       = journalsToCheckSet ? journalsToCheckSet.in(DocumentStatus::Quotation)   : true;
        #    checkConfirmation    = journalsToCheckSet ? journalsToCheckSet.in(DocumentStatus::Confirmation): true;
        #    checkPickingList     = journalsToCheckSet ? journalsToCheckSet.in(DocumentStatus::PickingList) : true;
        #    checkPackingSlip     = journalsToCheckSet ? journalsToCheckSet.in(DocumentStatus::PackingSlip) : true;
        #    checkInvoice         = journalsToCheckSet ? journalsToCheckSet.in(DocumentStatus::Invoice)     : true;
        #    if (isCountryRegion_RU)
        #    {
        #        checkInvoice4Payment = journalsToCheckSet ? journalsToCheckSet.in(DocumentStatus::Invoice4Paym_RU) : true;
        #        checkFacture         = journalsToCheckSet ? journalsToCheckSet.in(DocumentStatus::Facture_RU)      : true;
        #
        #        existingJournalContainer = [false,
        #                                    false,
        #                                    false,
        #                                    false,
        #                                    false,
        #                                    false,
        #                                    false,
        #                                    false,
        #                                    false];
        #    }
        #    else
        #    {
        #        existingJournalContainer = [false,
        #                                    false,
        #                                    false,
        #                                    false,
        #                                    false];
        #    }
        #
        #    if (checkQuotation)
        #    {
        #        setExistJournal(this.lastQuotation() != '', SalesTableType::posQuotation());
        #    }
        #    if (checkConfirmation && (_continueOnFound || !found))
        #    {
        #        setExistJournal(this.lastConfirm() != '', SalesTableType::posConfirmation());
        #    }
        #    if (checkPickingList && (_continueOnFound || !found))
        #    {
        #        setExistJournal(this.lastPickingList() != '', SalesTableType::posPickingList());
        #    }
        #    if (checkPackingSlip && (_continueOnFound || !found))
        #    {
        #        setExistJournal(this.lastPackingSlip() != '', SalesTableType::posPackingSlip());
        #    }
        #    if (checkInvoice && (_continueOnFound || !found))
        #    {
        #        setExistJournal(this.lastInvoice() != '', SalesTableType::posInvoice());
        #    }
        #    if (isCountryRegion_RU)
        #    {
        #        if (checkInvoice4Payment && (_continueOnFound || !found))
        #        {
        #            setExistJournal(this.lastInvoice4Paym_RU() != '', SalesTableType::posInvoice4Paym_RU());
        #        }
        #        if (checkFacture && (_continueOnFound || !found))
        #        {
        #            setExistJournal(this.lastFacture_RU() != '', SalesTableType::posFacture_RU());
        #        }
        #    }
        #
        #    return existingJournalContainer;
        #}
      ENDSOURCE
      SOURCE #existInterCompanyPurch
        #boolean existInterCompanyPurch()
        #{
        #    InterCompanyPurchSalesReference interCompanyPurchSalesReference;
        #
        #    select firstonly RecId from interCompanyPurchSalesReference
        #           index hint SalesPurchIdx
        #           where interCompanyPurchSalesReference.SalesId == this.SalesId;
        #
        #    return interCompanyPurchSalesReference.RecId ? true : false;
        #}
      ENDSOURCE
      SOURCE #existInterCompanySales
        #boolean existInterCompanySales(boolean _checkOnlyOne = false)
        #{
        #    InterCompanyPurchSalesReference interCompanyPurchSalesReference;
        #    PurchTable                      purchTable;
        #
        #    select forceplaceholders firstonly RecId from interCompanyPurchSalesReference
        #           index hint SalesPurchIdx
        #           where interCompanyPurchSalesReference.SalesId == this.SalesId
        #    join RecId from purchTable
        #           index hint PurchIdx
        #           where purchTable.PurchId == interCompanyPurchSalesReference.PurchId
        #           &&    purchTable.InterCompanyOrder
        #           &&   (!_checkOnlyOne
        #             || ( _checkOnlyOne && purchTable.InterCompanyOriginalSalesId == this.SalesId));
        #
        #    return purchTable.RecId ? true : false;
        #}
      ENDSOURCE
      SOURCE #existMarkedSettlement
        #boolean existMarkedSettlement(FieldId _fieldId)
        #{
        #    if (this.SettleVoucher && SpecTrans::getSpecTransCount(this.DataAreaId, this.TableId, this.RecId))
        #    {
        #        switch(_fieldId)
        #        {
        #            case fieldNum(SalesTable, CustAccount):     error("@SYS99928");
        #                                                        break;
        #
        #            case fieldNum(SalesTable, InvoiceAccount):  error("@SYS100001");
        #                                                        break;
        #
        #            default:                                    return false;
        #        }
        #        return true;
        #    }
        #
        #    return false;
        #}
      ENDSOURCE
      SOURCE #existNonCanceledLines
        #public boolean existNonCanceledLines()
        #{
        #    SalesLine   salesLine;
        #
        #    select firstonly RecId from salesLine where salesLine.SalesId == this.SalesId && salesLine.ReturnStatus != ReturnStatusLine::Canceled;
        #
        #    return salesLine.RecId != 0;
        #}
      ENDSOURCE
      SOURCE #existRegisteredReceivedInvoicedLines
        #public boolean existRegisteredReceivedInvoicedLines()
        #{
        #    boolean                           ret;
        #    SalesLine                         salesLine;
        #    InterCompanyPurchSalesReference   interCompanyPurchSalesReference;
        #    PurchTable                        purchTable;
        #    SalesTable                        salesTable;
        #    ReturnDispositionCode             returnDispositionCode;
        #
        #    select firstonly RecId from salesLine
        #           where salesLine.SalesId      == this.SalesId
        #           &&   (salesLine.ReturnStatus == ReturnStatusLine::Registered
        #              || salesLine.ReturnStatus == ReturnStatusLine::Quarantine
        #              || salesLine.ReturnStatus == ReturnStatusLine::Received
        #              || salesLine.ReturnStatus == ReturnStatusLine::Invoiced)
        #        notexists join returnDispositionCode
        #            where returnDispositionCode.DispositionCodeId == salesLine.ReturnDispositionCodeId
        #            &&    returnDispositionCode.DispositionAction == DispositionAction::CreditOnly
        #            &&    salesLine.ReturnStatus                  == ReturnStatusLine::Received;
        #
        #    ret = salesLine.RecId != 0;
        #
        #    if (!ret)
        #    {
        #        while select RecId from interCompanyPurchSalesReference
        #              where interCompanyPurchSalesReference.SalesId == this.SalesId
        #        join InterCompanyCompanyId, InterCompanySalesId from purchTable
        #             where purchTable.PurchId == interCompanyPurchSalesReference.PurchId
        #             &&    purchTable.InterCompanyOrder
        #        {
        #            changecompany(purchTable.InterCompanyCompanyId)
        #            {
        #                salesTable = null;
        #                salesTable = SalesTable::find(purchTable.InterCompanySalesId);
        #                ret = salesTable.existRegisteredReceivedInvoicedLines();
        #            }
        #            if (ret)
        #            {
        #                break;
        #            }
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #existSalesLine
        #boolean existSalesLine()
        #{
        #    Query       query;
        #    QueryRun    queryRun;
        #    SalesLine   salesLine;
        #
        #    query = this.querySalesLine();
        #    query.dataSourceTable(tableNum(SalesLine)).firstOnly(true);
        #
        #    queryRun = new QueryRun(query);
        #    while (queryRun.next())
        #    {
        #        if (queryRun.changed(tableNum(SalesLine)))
        #        {
        #            salesLine = queryRun.get(tableNum(SalesLine)) as SalesLine;
        #            if (salesLine.RecId)
        #            {
        #                break;
        #            }
        #        }
        #    }
        #
        #    return salesLine.RecId != 0;
        #}
      ENDSOURCE
      SOURCE #existShippedNotInvoiced
        #public boolean existShippedNotInvoiced()
        #{
        #    SalesLine                   salesLine;
        #    InventTrans                 inventTrans;
        #    InventTransOriginSalesLine  inventTransOriginSalesLine;
        #
        #    select firstonly RecId from inventTrans
        #        where inventTrans.StatusIssue   == StatusIssue::Deducted
        #           || inventTrans.StatusReceipt == StatusReceipt::Received
        #        exists join inventTransOriginSalesLine
        #            where inventTransOriginSalesLine.InventTransOrigin == inventTrans.InventTransOrigin
        #            exists join salesLine
        #                where salesLine.DataAreaId    == inventTransOriginSalesLine.SalesLineDataAreaId
        #                   && salesLine.InventTransId == inventTransOriginSalesLine.SalesLineInventTransId
        #                   && salesLine.SalesId       == this.SalesId;
        #
        #    return (inventTrans.RecId!= 0);
        #}
      ENDSOURCE
      SOURCE #factureJourSortedList_RU
        #public RecordSortedList factureJourSortedList_RU()
        #{
        #    return this.SalesPurchTable::factureJourSortedList_RU();
        #}
        #
      ENDSOURCE
      SOURCE #fieldChanged
        #boolean  fieldChanged(FieldId  fieldId)
        #{
        #    boolean  ok = false;
        #
        #    if (!this.RecId)
        #    {
        #        ok = true;
        #    }
        #
        #    if (this.orig().(fieldId) != this.(fieldId))
        #    {
        #        ok = true;
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #fixedEuroTriangulation
        #UnknownNoYes fixedEuroTriangulation()
        #{
        #    if (this.SettleVoucher == SettlementType::SelectedTransact && SalesParameters::find().UseSettleExchRate)
        #    {
        #        if (this.settleExchRate())
        #        {
        #            return UnknownNoYes::No;
        #        }
        #    }
        #
        #    if (this.FixedExchRate)
        #    {
        #        return UnknownNoYes::No;
        #    }
        #
        #    return UnknownNoYes::Unknown;
        #}
      ENDSOURCE
      SOURCE #fixedExchRate
        #CustExchRate fixedExchRate(boolean throwOnError = false)
        #{
        #    ExchRate exchRate = 0;
        #
        #    if (this.SettleVoucher == SettlementType::SelectedTransact && SalesParameters::find().UseSettleExchRate)
        #    {
        #        exchRate = this.settleExchRate(throwOnError);
        #    }
        #
        #    if (!exchRate)
        #    {
        #        exchRate = this.FixedExchRate;
        #    }
        #
        #    return exchRate;
        #}
      ENDSOURCE
      SOURCE #fixedExchRateSecondary
        #ExchrateSecondary fixedExchRateSecondary()
        #{
        #/*
        #//  Should always return zero
        #    return (this.FixedExchRate ? 0 : 0);
        #*/
        #    return (0);
        #}
      ENDSOURCE
      SOURCE #flc_validateSalesOrder
        #public boolean flc_validateSalesOrder(SalesTable _salesTable)
        #{
        #    FLC_DepositAdvanceTable flc_depAdvTable;
        #    SalesLine               flc_salesLine;
        #    boolean                 _ok = false;
        #
        #    select CustAccount, FLC_RemainingBalance, FLC_DepositAdvanceTag from flc_depAdvTable
        #        where flc_depAdvTable.CustAccount           == _salesTable.CustAccount &&
        #              flc_depAdvTable.FLC_DepositAdvanceTag == _salesTable.FLC_DepositAdvanceTag;
        #
        #    flc_salesLine = SalesLine::find(_salesTable.SalesId);
        #
        #    select sum(LineAmount) from flc_salesLine
        #        where flc_salesLine.SalesId == _salesTable.SalesId;
        #
        #
        #    if (_salesTable.FLC_OrderType != FLC_OrderType::CustomerAdvances &&
        #        _salesTable.FLC_OrderType != FLC_OrderType::CustomerDeposits &&
        #        flc_depAdvTable.CustAccount == _salesTable.CustAccount &&
        #        flc_depAdvTable.FLC_RemainingBalance < flc_salesLine.LineAmount)// ||
        #        //flc_depAdvTable.FLC_RemainingBalance < _salesTable.)
        #    {
        #        _ok = true;
        #        //checkFailed("In-sufficient remaining balance on pre-paid invoice to cover this Sales order. Additional advance/deposit payments to be received before the sales order can be processed");
        #    }
        #
        #    return _ok;
        #}
      ENDSOURCE
      SOURCE #getCountryRegionIdByDocumentStatus
        #public LogisticsAddressCountryRegionId getCountryRegionIdByDocumentStatus()
        #{
        #    switch(this.DocumentStatus)
        #    {
        #        case DocumentStatus::PackingSlip:
        #            return LogisticsPostalAddress::findRecId(this.DeliveryPostalAddress).CountryRegionId;
        #        case DocumentStatus::Invoice:
        #            return this.custTable_InvoiceAccount().postalAddress().CountryRegionId;
        #        default:
        #            return this.custTable_CustAccount().postalAddress().CountryRegionId;
        #    }
        #}
      ENDSOURCE
      SOURCE #getDeliveryEntityRecord
        #/// <summary>
        #///     Gets the delivery entity record based on the postal address.
        #/// </summary>
        #/// <returns>
        #///    A <c>CustTable</c> record.
        #/// </returns>
        #public Common getDeliveryEntityRecord()
        #{
        #    return this.TradePostalAddress::getDeliveryEntityRecord();
        #}
      ENDSOURCE
      SOURCE #getFinalDiscPriceDate
        #/// <summary>
        #/// Calculates date for which total discount should be calculated according to the price date type
        #/// setting.
        #/// </summary>
        #/// <returns>
        #/// The date for which total discount has to be calculated.
        #/// </returns>
        #/// <remarks>
        #/// The price date type can be set up to use today, the requested shipping date, or the requested
        #/// receipt date as price date.
        #/// </remarks>
        #PriceDate getFinalDiscPriceDate()
        #{
        #    SalesParameters         salesParameters;
        #    PriceDate                  priceDate;
        #    #ISOCountryRegionCodes
        #    PriceDate                  priceDate_RU;
        #    PriceAgreementDate_RU   priceAgreementDate;
        #    SalesLine               salesLine;
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        priceAgreementDate = this.SalesPurchTable::getPriceAgreementDate();
        #        if (! priceAgreementDate)
        #        {
        #            select minof(PriceAgreementDate_RU) from salesLine
        #                where salesLine.SalesId == this.SalesId;
        #
        #            priceAgreementDate = salesLine.PriceAgreementDate_RU;
        #        }
        #
        #        if (priceAgreementDate)
        #        {
        #            return priceAgreementDate;
        #        }
        #    }
        #
        #    salesParameters = SalesParameters::find();
        #
        #    switch (salesParameters.PriceDateType)
        #    {
        #        case SalesPriceDateType::ShippingDateRequested:
        #            priceDate = (select minof(ShippingDateRequested) from salesLine
        #                            where salesLine.SalesId == this.SalesId).ShippingDateRequested;
        #            break;
        #
        #        case SalesPriceDateType::ReceiptDateRequested:
        #            priceDate = (select minof(ReceiptDateRequested) from salesLine
        #                            where salesLine.SalesId == this.SalesId).ReceiptDateRequested;
        #            break;
        #
        #        default:
        #            priceDate = systemDateGet();
        #            break;
        #    }
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        priceDate_RU = this.SalesPurchTable::priceDate_RU();
        #
        #        if (priceDate_RU != dateNull())
        #        {
        #            return priceDate_RU;
        #        }
        #    }
        #
        #    return priceDate;
        #}
      ENDSOURCE
      SOURCE #getTotalLineAmount
        #/// <summary>
        #/// Aggregates line amounts for all lines of the sales order.
        #/// </summary>
        #/// <returns>
        #/// Total amount of all lines.
        #/// </returns>
        #public Amount getTotalLineAmount()
        #{
        #    SalesLine salesLine;
        #
        #    select sum(LineAmount) from salesLine
        #        where salesLine.SalesId == this.SalesId;
        #
        #    return salesLine.LineAmount;
        #}
      ENDSOURCE
      SOURCE #getTransationEntity_RU
        #/// <summary>
        #/// Get entity of transaction.
        #/// </summary>
        #/// <param name="_roleType">
        #/// The value of <c>LogisticsLocationRoleType</c> base enum.
        #/// </param>
        #/// <returns>
        #/// Entity of transaction
        #/// </returns>
        #public Common getTransationEntity_RU(LogisticsLocationRoleType _roleType)
        #{
        #
        #    SalesTotals salesTotals;
        #    boolean     isCreditNote    = false;
        #
        #
        #    Common getLadingEntity()
        #    {
        #        if(this.InventLocationId)
        #        {
        #            return InventLocation::find(this.InventLocationId);
        #        }
        #        if(this.salesTable_RU().ConsignorAccount_RU)
        #        {
        #            return VendTable::find(this.salesTable_RU().ConsignorAccount_RU);
        #        }
        #        return CompanyInfo::find();
        #    }
        #
        #    Common getUnladingEntity()
        #    {
        #        return CustTable::find(this.salesTable_RU().ConsigneeAccount_RU ?
        #                               this.salesTable_RU().ConsigneeAccount_RU :
        #                               this.CustAccount);
        #    }
        #
        #    //check if credit note
        #
        #    salesTotals = SalesTotals::construct(this);
        #    salesTotals.calc();
        #    isCreditNote = salesTotals.totalAmount() < 0;
        #
        #    switch(_roleType)
        #    {
        #        case LogisticsLocationRoleType::Lading_W :
        #            return isCreditNote ? getUnladingEntity() : getLadingEntity();
        #
        #        case LogisticsLocationRoleType::Unlading_W :
        #            return isCreditNote ? getLadingEntity() : getUnladingEntity();
        #    }
        #
        #    return CompanyInfo::find();
        #}
      ENDSOURCE
      SOURCE #hasCODPaymentMethod
        #/// <summary>
        #/// Indicates whether the payment method of the sales order is COD.
        #/// </summary>
        #/// <returns>
        #/// true if the payment method is COD; otherwise, false.
        #/// </returns>
        #public boolean hasCODPaymentMethod()
        #{
        #    return this.payment().PaymMethod == NetCurrent::COD;
        #}
      ENDSOURCE
      SOURCE #hasIssueFiscalDocument_BR
        #/// <summary>
        #/// Determines whether issues has fiscal documents.
        #/// </summary>
        #/// <returns>
        #/// true if issues has fiscal documents; otherwise, false.
        #/// </returns>
        #public boolean hasIssueFiscalDocument_BR()
        #{
        #    if (RetailParameters::isRetailEnabledAndInUse()
        #        && this.isRetailStatement_BR())
        #    {
        #        return false;
        #    }
        #    else if (this.SalesType == SalesType::ReturnItem)
        #    {
        #        return this.custTable_CustAccount().GenerateIncomingFiscalDocument_BR;
        #    }
        #    else
        #    {
        #        return this.SalesType != SalesType::ReturnItem;
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #hasLinesWithoutRefrence_MY
        #/// <summary>
        #/// Determines whether any lines don't have original invoice.
        #/// </summary>
        #/// <returns>
        #/// true if any lines don't have original invoice; otherwise, false.
        #/// </returns>
        #public boolean hasLinesWithoutRefrence_MY()
        #{
        #    SalesLine           salesLine;
        #    SalesLine_W         salesLine_W;
        #
        #    select firstOnly salesLine
        #        where salesLine.SalesId             == this.SalesId
        #        notexists join salesLine_W
        #        where salesLine_W.SalesLine         == salesLine.RecId
        #           && salesLine_W.RefInvoiceId_MY   != "";
        #    if (salesLine)
        #    {
        #        return true;
        #    }
        #    return false;
        #}
      ENDSOURCE
      SOURCE #hasLinesWithRefrence_MY
        #/// <summary>
        #/// Determines whether any lines have original invoice.
        #/// </summary>
        #/// <returns>
        #/// true if any lines have original invoice; otherwise, false.
        #/// </returns>
        #public boolean hasLinesWithRefrence_MY()
        #{
        #    SalesLine           salesLine;
        #    SalesLine_W         salesLine_W;
        #
        #    select firstOnly salesLine
        #        where salesLine.SalesId             == this.SalesId
        #        exists join salesLine_W
        #        where salesLine_W.SalesLine         == salesLine.RecId
        #           && salesLine_W.RefInvoiceId_MY   != "";
        #    if (salesLine)
        #    {
        #        return true;
        #    }
        #
        #    return false;
        #}
      ENDSOURCE
      SOURCE #hasPriceDiscChangePolicy
        #/// <summary>
        #/// Indicates whether price discount policies exist for a specified record.
        #/// </summary>
        #/// <returns>
        #/// true if price discount policies exist; otherwise, false.
        #/// </returns>
        #public boolean hasPriceDiscChangePolicy()
        #{
        #    return this.type().hasPriceDiscChangePolicy();
        #}
      ENDSOURCE
      SOURCE #icCheckUpdateHeaderDiscounts
        #/// <summary>
        #///     Determines if prices and disounts can be updated in the context of intercompany.
        #/// </summary>
        #/// <returns>
        #///     true if the context is not intercompany or if the context is intercompany and prices and discounts can be updated; otherwise, false.
        #/// </returns>
        #public boolean icCheckUpdateHeaderDiscounts()
        #{
        #    return !this.isInterCompanyOrder()
        #        || (this.SalesType != SalesType::ReturnItem
        #            && !this.isInterCompanyPOInvoiceMatched()
        #            && this.interCompanyEndpointActionPolicy().PriceDiscountSearch);
        #}
      ENDSOURCE
      SOURCE #initBankAccounts_LV
        #public void initBankAccounts_LV()
        #{
        ##isoCountryRegionCodes
        #
        #    CurrencyCode standardCurrency;
        #    BankAccountID bankAccount;
        #    BankAccountID curBankAcc;
        #
        #    if(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLV]))
        #    {
        #        this.CustBankAccount_LV = CustBankAccount::findDefault_LV(this.InvoiceAccount, this.CurrencyCode).AccountID;
        #    }
        #
        #    if(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ, #isoEE, #isoHU, #isoLT, #isoLV, #isoPL]))
        #    {
        #        standardCurrency = CompanyInfo::standardCurrency();
        #        bankAccount = BankAccountTable::findDefault_LV(standardCurrency).AccountID;
        #        curBankAcc = BankAccountTable::findDefault_LV(this.CurrencyCode).AccountID;
        #
        #        if(curBankAcc || BankParameters::checkCurrCodeControl_W())
        #        {
        #            this.CurBankAccount_LV = standardCurrency != this.CurrencyCode ? curBankAcc : '';
        #        }
        #
        #        this.BankAccount_LV = bankAccount ? bankAccount : CompanyInfo::find().Bank;
        #    }
        #}
      ENDSOURCE
      SOURCE #initDefaultReturnAddress
        #public void initDefaultReturnAddress()
        #{
        #    CompanyInfo companyInfo = CompanyInfo::find();
        #    LogisticsLocationRecId locationRecId;
        #
        #    this.DeliveryName = companyInfo.Name;
        #
        #    locationRecId = LogisticsLocationDefault::warehouseSiteDefaultLocation(LogisticsLocationRoleType::Delivery,
        #        this.InventLocationId, this.InventSiteId);
        #    if (locationRecId)
        #    {
        #        this.setLocation(locationRecId);
        #    }
        #    else
        #    {
        #        // Warehouse and site didn't have location, use company location
        #        companyInfo = CompanyInfo::find();
        #        locationRecId = LogisticsLocationDefault::findSimpleDefault(companyInfo,
        #            LogisticsLocationRole::findBytype(LogisticsLocationRoleType::Delivery)).RecId;
        #
        #        this.DeliveryPostalAddress  = LogisticsPostalAddress::addressRecIdFromLocationRecId(locationRecId);
        #        this.AddressRefRecId        = companyInfo.RecId;
        #        this.AddressRefTableId      = companyInfo.TableId;
        #        this.setDeliveryName();
        #    }
        #}
      ENDSOURCE
      SOURCE #initFromContactInfo
        #void initFromContactInfo()
        #{
        #    ContactPerson contactPerson = this.contactPerson();
        #
        #    if (contactPerson)
        #    {
        #        this.url = contactPerson.url();
        #        this.Email = contactPerson.email();
        #    }
        #}
      ENDSOURCE
      SOURCE #initFromCustConfirmJour
        #void  initFromCustConfirmJour(CustConfirmJour  custConfirmJour)
        #{
        #    this.DlvTerm                = custConfirmJour.DlvTerm;
        #    this.DlvMode                = custConfirmJour.DlvMode;
        #    this.LanguageId             = custConfirmJour.LanguageId;
        #    this.Payment                = custConfirmJour.Payment;
        #    this.CashDisc               = custConfirmJour.CashDiscCode;
        #    this.CurrencyCode           = custConfirmJour.CurrencyCode;
        #    this.DefaultDimension       =  this.copyDimension(custConfirmJour.DefaultDimension);
        #    this.InclTax                = custConfirmJour.InclTax;
        #}
      ENDSOURCE
      SOURCE #initFromCustInvoiceJour
        #void initFromCustInvoiceJour(CustInvoiceJour custInvoiceJour)
        #{
        #    MCRReturnSalesTable mcrReturnSalesTable;
        #    #ISOCountryRegionCodes
        #
        #    SalesTable_BR salesTable_BR;
        #
        #    this.LanguageId                 = custInvoiceJour.LanguageId;
        #    this.Payment                    = custInvoiceJour.Payment;
        #    this.NumberSequenceGroup        = custInvoiceJour.NumberSequenceGroup;
        #    this.CashDisc                   = custInvoiceJour.CashDiscCode;
        #
        #    if (TaxParameters::find().CashDiscOnInvoice)
        #    {
        #        this.CashDiscPercent        = custInvoiceJour.CashDiscPercent;
        #    }
        #
        #    this.CurrencyCode               = custInvoiceJour.CurrencyCode;
        #    this.DlvTerm                    = custInvoiceJour.DlvTerm;
        #    this.DlvMode                    = custInvoiceJour.DlvMode;
        #    this.DefaultDimension           = this.copyDimension(custInvoiceJour.DefaultDimension);
        #    this.InclTax                    = custInvoiceJour.InclTax;
        #    this.SalesOriginId              = custInvoiceJour.SalesOriginId;
        #    this.setShipCarrierInformation(null, null, custInvoiceJour);
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLV]))
        #    {
        #        this.IntrastatAddValue_LV       = custInvoiceJour.custInvoiceJour_W().IntrastatAddValue_LV;
        #    }
        #
        #    if (BrazilParameters::isEnabled())
        #    {
        #        salesTable_BR = this.salesTable_BR();
        #        salesTable_BR.ServiceCodeOnDlvAddress_BR    = custInvoiceJour.custInvoiceJour_BR().ServiceCodeOnDlvAddress_BR;
        #        salesTable_BR.SalesPurchOperationType_BR    = custInvoiceJour.custInvoiceJour_BR().SalesPurchOperationType_BR;
        #        salesTable_BR.cfpsId_BR                     = custInvoiceJour.fiscalDocument_BR().cfpsId;
        #        salesTable_BR.CustFinalUser_BR              = custInvoiceJour.custInvoiceJour_BR().CustFinalUser_BR;
        #        salesTable_BR.PresenceType                  = custInvoiceJour.custTable_InvoiceAccount().PresenceType_BR;
        #        this.packSalesTable_BR(salesTable_BR);
        #    }
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #        if(this.SalesType == SalesType::ReturnItem)
        #        {
        #            mcrReturnSalesTable = this.mcrReturnSalesTable();
        #            mcrReturnSalesTable.OriginalSalesId = custInvoiceJour.SalesId;
        #            this.mcrPackMCRReturnSalesTable(mcrReturnSalesTable);
        #        }
        #    }
        #}
        #
        #
      ENDSOURCE
      SOURCE #initFromCustPackingSlipJour
        #void  initFromCustPackingSlipJour(CustPackingSlipJour custPackingSlipJour)
        #{
        #    this.LanguageId                 = custPackingSlipJour.LanguageId;
        #    this.DlvTerm                    = custPackingSlipJour.DlvTerm;
        #    this.DlvMode                    = custPackingSlipJour.DlvMode;
        #    this.DlvReason                  = custPackingSlipJour.DlvReason;
        #    this.DefaultDimension           = this.copyDimension(custPackingSlipJour.DefaultDimension);
        #    this.setShipCarrierInformation(null, custPackingSlipJour);
        #}
      ENDSOURCE
      SOURCE #initFromCustQuotationJour
        #void  initFromCustQuotationJour(CustQuotationJour  custQuotationJour)
        #{
        #    this.DlvTerm                = custQuotationJour.DlvTerm;
        #    this.DlvMode                = custQuotationJour.DlvMode;
        #    this.LanguageId             = custQuotationJour.LanguageId;
        #    this.Payment                = custQuotationJour.Payment;
        #    this.CashDisc               = custQuotationJour.CashDiscCode;
        #    this.CurrencyCode           = custQuotationJour.CurrencyCode;
        #    this.DefaultDimension       = this.copyDimension(custQuotationJour.DefaultDimension);
        #    this.InclTax                = custQuotationJour.InclTax;
        #}
      ENDSOURCE
      SOURCE #initFromCustTable
        #server void initFromCustTable()
        #{
        #    #isoCountryRegionCodes
        #
        #    container salesTableContainer;
        #    CustTable custTable;
        #
        #    // pack the raw RU values from the form data source into the
        #    // extension container to ensure the latest values are sent to IL
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        this.packSalesTable_RU(this.salesTable_RU().data());
        #    }
        #
        #    if (BrazilParameters::isEnabled())
        #    {
        #        this.packSalesTable_BR(this.salesTable_BR().data());
        #    }
        #
        #    if (SalesTable_W::isLegalEntityInCountryRegion())
        #    {
        #        this.packSalesTable_W(this.salesTable_W().data());
        #    }
        #
        #    salesTableContainer  = SalesTable::initFromCustTableServer(buf2Con(this, true));
        #
        #    this.con2buf(salesTableContainer);
        #
        #    // copy the raw RU fields using this.data().salesTable_RU() from the
        #    // extension to the buffer instance using this.salesTable_RU().data(<input>)
        #    // because packing and unpacking causes a disconnect
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        this.salesTable_RU().data(this.data().salesTable_RU());
        #    }
        #
        #    if (BrazilParameters::isEnabled())
        #    {
        #        this.salesTable_BR().data(this.data().salesTable_BR());
        #    }
        #
        #    if (SalesTable_W::isLegalEntityInCountryRegion())
        #    {
        #        this.salesTable_W().data(this.data().salesTable_W());
        #    }
        #
        #    if (#PdsRebateEnabled)
        #    {
        #        custTable = this.custTable_CustAccount();
        #
        #        this.PdsRebateProgramTMAGroup = custTable.PdsRebateTMAGroup;
        #        this.PdsCustRebateGroupId     = custTable.PdsCustRebateGroupId;
        #    }
        #}
      ENDSOURCE
      SOURCE #initFromCustTableMandatoryFields
        #server void  initFromCustTableMandatoryFields()
        #{
        #    CustTable               custTable  = this.custTable_CustAccount();
        #    DirPartyTable           partyTable = this.partyTable_CustAccount();
        #    LogisticsLocation       location;
        #    LogisticsLocationEntity locationEntity;
        #
        #    this.CustGroup                  = custTable.CustGroup;
        #
        #    location = LogisticsLocationDefault::findSimpleDefault(custTable, LogisticsLocationRole::findBytype(
        #        LogisticsLocationRoleType::Delivery));
        #    if (location.RecId)
        #    {
        #        locationEntity = LogisticsLocationEntity::constructFromLocationRecId(location.RecId);
        #        this.DeliveryPostalAddress  = locationEntity.getPostalAddress().RecId;
        #        this.AddressRefRecId        = custTable.RecId;
        #        this.AddressRefTableId      = custTable.TableId;
        #
        #        this.setDeliveryName();
        #
        #        LogisticsLocationSelectForm_SalesTable::construct(this).copyShipCarrierInfo(location);
        #    }
        #}
      ENDSOURCE
      SOURCE #initFromPayment
        #void initFromPayment()
        #{
        #    // Use the installment plan payment schedule if an installment plan exists.
        #    if ((!isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #        || (!MCRInstallmentPlanSalesTable::existSalesId(this.SalesId)))
        #    {
        #        this.PaymentSched = this.payment().PaymSched;
        #    }
        #
        #    this.FixedDueDate = dateNull();
        #}
      ENDSOURCE
      SOURCE #initFromProjInvoiceJour
        #void initFromProjInvoiceJour(ProjInvoiceJour projInvoiceJour)
        #{
        #    this.LanguageId                 = projInvoiceJour.LanguageId;
        #    this.Payment                    = projInvoiceJour.Payment;
        #    this.NumberSequenceGroup        = projInvoiceJour.NumberSequenceGroupId;
        #    this.CashDisc                   = projInvoiceJour.CashDiscCode;
        #
        #    if (TaxParameters::find().CashDiscOnInvoice)
        #    {
        #        this.CashDiscPercent        = projInvoiceJour.CashDiscPercent;
        #    }
        #    this.CurrencyCode               = projInvoiceJour.CurrencyId;
        #    this.DlvTerm                    = projInvoiceJour.DlvTerm ? projInvoiceJour.DlvTerm : this.DlvTerm;
        #    this.DlvMode                    = projInvoiceJour.DlvMode ? projInvoiceJour.DlvMode : this.DlvMode;
        #    this.DefaultDimension           = this.copyDimension(projInvoiceJour.DefaultDimension);
        #}
      ENDSOURCE
      SOURCE #initFromProjInvoiceTable
        #void initFromProjInvoiceTable()
        #{
        #    ProjTable           projTable;
        #    ProjInvoiceTable    projInvoiceTable;
        #    #ISOCountryRegionCodes
        #
        #    projTable               = this.projTable();
        #    projInvoiceTable        = projTable.projInvoice();
        #
        #    this.TransactionCode    = projInvoiceTable.TransactionCodeId;
        #    if (this.Listcode == Listcode::IncludeNot)
        #    {
        #        this.Listcode = projInvoiceTable.ListCodeId;
        #    }
        #    this.DefaultDimension   = this.copyDimension(projTable.DefaultDimension);
        #    this.Payment            = projInvoiceTable.Payment;
        #
        #    this.FixedExchRate = ProjInvoiceCurrency::find(projInvoiceTable.ProjInvoiceProjId,this.CurrencyCode).ExchRate;
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoNO]))
        #    {
        #        this.BankCentralBankPurposeCode = projInvoiceTable.BankCentralBankPurposeCode;
        #        this.BankCentralBankPurposeText = projInvoiceTable.BankcentralBankPurposeText;
        #    }
        #}
        #
        #
      ENDSOURCE
      SOURCE #initFromProjTable
        #void initFromProjTable(ProjTable _projTable)
        #{
        #    LogisticsLocationEntity location;
        #    ProjPriceGroupID        projPriceGroupID;
        #
        #    if (_projTable.RecId)
        #    {
        #        this.ProjId             = _projTable.ProjId;
        #        this.CustAccount        = _projTable.type().custAccount();
        #
        #        this.initFromCustTable();
        #
        #        this.InvoiceAccount     = _projTable.type().invoiceAccount();
        #        this.initInvoiceAccount();
        #        this.CurrencyCode               = _projTable.currencyId();
        #
        #        this.initFromProjInvoiceTable();
        #
        #        this.InclTax                    = NoYes::No;
        #
        #        location = LogisticsLocationEntity::constructFromLocationRecId(_projTable.DeliveryLocation);
        #
        #        this.DeliveryName = location.getPostalAddress().displayLocationDescription();
        #        this.DeliveryPostalAddress = location.getPostalAddress().RecId;
        #
        #        projPriceGroupID = ProjTable::findPriceGroup(this.ProjId);
        #        if (projPriceGroupID)
        #        {
        #            this.PriceGroupId = projPriceGroupID;
        #        }
        #
        #        if (BrazilParameters::isEnabled())
        #        {
        #            this.salesTable_BR().data(this.data().salesTable_BR());
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #initFromSalesAgreementHeader
        #/// <summary>
        #/// Initiates a <c>SalesTable</c> record with values that are based on <c>SalesAgreementHeader</c>
        #/// record.
        #/// </summary>
        #/// <param name="_salesAgreementHeader">
        #/// Record of <c>SalesAgreementHeader</c> to copy initial values from
        #/// </param>
        #/// <param name="_copyDeliveryLocation">
        #/// When set to true delivery location is copyed from <c>SalesAgreementHeader</c> Default is true.
        #/// </param>
        #public void initFromSalesAgreementHeader( SalesAgreementHeader  _salesAgreementHeader, boolean _copyDeliveryLocation = true)
        #{
        #    AgreementHeaderDefault          agreementHeaderDefault;
        #    SalesAgreementHeaderDefault     salesAgreementHeaderDefault;
        #    CashDisc                        cashDisc;
        #    #ISOCountryRegionCodes
        #    SalesAgreementHeaderExt_RU      salesAgreementHeaderExt;
        #    SalesTable_RU                   salesTableRU;
        #    SalesTable_W                    salesTable_W;
        #
        #    select firstonly DeliveryMode
        #                    ,DeliveryTerm
        #                    ,DeliveryName
        #                    ,DeliveryPostalAddress
        #                    ,PaymentTerms
        #                    ,PaymentSchedule
        #                    ,CashDiscountCode
        #                    ,ContactPerson
        #                    ,MiscChargeGroup
        #                    ,Project
        #                    ,ExternalReference
        #        from agreementHeaderDefault
        #        where agreementHeaderDefault.AgreementHeader == _salesAgreementHeader.RecId
        #        outer join firstonly CustomerInvoiceAccount
        #                      ,Campaign
        #                      ,SalesUnit
        #                      ,SalesPool
        #                      ,WorkerSalesResponsible
        #                      ,CommissionSalesGroup
        #                      ,CommissionCustomerGroup
        #                      ,FixedExchangeRate
        #                      ,CustomerMethodOfPayment
        #                      ,CustomerPaymentSpec
        #                      ,CustomerRequisitionNumber
        #                      ,EntryCertificateRequired_W
        #                      ,IssueOwnEntryCertificate_W
        #            from  salesAgreementHeaderDefault
        #            where salesAgreementHeaderDefault.SalesAgreementHeader == _salesAgreementHeader.RecId
        #        outer join firstonly RecId,
        #                             InventProfileType,
        #                             InventProfileId,
        #                             CustPostingProfile,
        #                             SalesInvoicePostingType
        #            from salesAgreementHeaderExt
        #            where salesAgreementHeaderExt.AgreementHeader == _salesAgreementHeader.RecId
        #            ;
        #
        #    if (agreementHeaderDefault.CashDiscountCode)
        #    {
        #        // When CashDiscountCode is set for agreement header, query cash discount record to set proper cashDiscPercent value
        #        cashDisc = CashDisc::find(agreementHeaderDefault.CashDiscountCode);
        #    }
        #
        #    this.MatchingAgreement = _salesAgreementHeader.RecId;
        #
        #    this.DefaultDimension = this.mergeDimension(_salesAgreementHeader.DefaultDimension, this.DefaultDimension);
        #
        #    if (_copyDeliveryLocation)
        #    {
        #        this.DeliveryName = agreementHeaderDefault.DeliveryName;
        #        this.DeliveryPostalAddress = agreementHeaderDefault.DeliveryPostalAddress;
        #    }
        #
        #    this.CurrencyCode   = _salesAgreementHeader.Currency;
        #    this.LanguageId     = _salesAgreementHeader.Language;
        #
        #    this.DlvMode         = agreementHeaderDefault.DeliveryMode;
        #    this.DlvTerm         = agreementHeaderDefault.DeliveryTerm;
        #    this.Payment         = agreementHeaderDefault.PaymentTerms;
        #    this.PaymentSched    = agreementHeaderDefault.PaymentSchedule;
        #    this.MarkupGroup     = agreementHeaderDefault.MiscChargeGroup;
        #    this.ProjId          = agreementHeaderDefault.Project;
        #    this.CustomerRef     = agreementHeaderDefault.ExternalReference;
        #    this.CashDisc        = agreementHeaderDefault.CashDiscountCode;
        #    this.CashDiscPercent = (cashDisc.RecId) ? cashDisc.Percent : 0.0;
        #    this.ContactPersonId = agreementHeaderDefault.ContactPerson;
        #
        #    this.SmmCampaignId      = salesAgreementHeaderDefault.Campaign;
        #    this.SalesUnitId        = salesAgreementHeaderDefault.SalesUnit;
        #    this.SalesPoolId        = salesAgreementHeaderDefault.SalesPool;
        #    this.WorkerSalesResponsible = salesAgreementHeaderDefault.WorkerSalesResponsible;
        #    this.SalesGroup         = salesAgreementHeaderDefault.CommissionSalesGroup;
        #    this.CommissionGroup    = salesAgreementHeaderDefault.CommissionCustomerGroup;
        #    this.FixedExchRate      = salesAgreementHeaderDefault.FixedExchangeRate;
        #    this.PaymMode           = salesAgreementHeaderDefault.CustomerMethodOfPayment;
        #    this.PaymSpec           = salesAgreementHeaderDefault.CustomerPaymentSpec;
        #    this.PurchOrderFormNum  = salesAgreementHeaderDefault.CustomerRequisitionNumber;
        #
        #    if (salesAgreementHeaderDefault.CustomerInvoiceAccount)
        #    {
        #        // Copy CustomerInvoiceAccount ONLY when it is not-empty in Agreement!
        #        this.InvoiceAccount     = salesAgreementHeaderDefault.CustomerInvoiceAccount;
        #    }
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        salesTableRU = this.salesTable_RU();
        #
        #        salesTableRU.AgreementHeaderExt_RU = salesAgreementHeaderExt.RecId;
        #
        #        this.DefaultDimension = this.copyDimension(_salesAgreementHeader.DefaultDimension);
        #
        #        if (salesAgreementHeaderExt.InventProfileType || salesAgreementHeaderExt.InventProfileId)
        #        {
        #            salesTableRU.InventProfileType_RU = salesAgreementHeaderExt.InventProfileType;
        #            salesTableRU.InventProfileId_RU   = salesAgreementHeaderExt.InventProfileId;
        #        }
        #
        #        if (salesAgreementHeaderExt.CustPostingProfile)
        #        {
        #            this.PostingProfile = salesAgreementHeaderExt.CustPostingProfile;
        #        }
        #
        #        salesTableRU.initInvoicePostingType_RU(_salesAgreementHeader.custTable(), salesAgreementHeaderExt);
        #
        #        this.packSalesTable_RU(salesTableRU);
        #    }
        #
        #    if (SalesTable_W::isLegalEntityInCountryRegion())
        #    {
        #        salesTable_W = this.salesTable_W();
        #        salesTable_W.EntryCertificateRequired_W = salesAgreementHeaderDefault.EntryCertificateRequired_W;
        #        salesTable_W.IssueOwnEntryCertificate_W = salesAgreementHeaderDefault.IssueOwnEntryCertificate_W;
        #        this.packSalesTable_W(salesTable_W);
        #    }
        #
        #    TMSSalesTable::initFromTMSSalesAgreement(this.SalesId, _salesAgreementHeader.RecId);
        #}
      ENDSOURCE
      SOURCE #initFromSalesBasket
        #void initFromSalesBasket(SalesBasket salesBasket)
        #{
        #    this.ContactPersonId        = salesBasket.ContactPersonId;
        #
        #    this.DeliveryDateControlType = SalesDeliveryDateControlType::None;
        #    this.ShippingDateRequested   = salesBasket.DeliveryDate;
        #    this.ReceiptDateRequested    = salesBasket.DeliveryDate;
        #}
      ENDSOURCE
      SOURCE #initFromSalesQuotationTable
        #/// <summary>
        #/// Initializes a record in the <c>SalesTable</c> table from a record in the <c>SalesQuotationTable</c>
        #/// table.
        #/// </summary>
        #/// <param name="_salesQuotationTable">
        #/// The record in the <c>SalesQuotationTable</c> table from which to initialize.
        #/// </param>
        #void initFromSalesQuotationTable(SalesQuotationTable    _salesQuotationTable)
        #{
        #    SalesTable_BR           salesTable_BR;
        #    MCRSalesTable           mcrSalesTable;
        #    MCRSalesQuotationTable  mcrSalesQuotationTable;
        #    RetailSalesQuotationTable retailQuotation;
        #    RetailSalesTable          retailSales;
        #
        #    this.QuotationId                = _salesQuotationTable.QuotationId;
        #
        #    this.CustAccount                = _salesQuotationTable.CustAccount;
        #    this.initFromCustTable();
        #
        #    this.CurrencyCode               = _salesQuotationTable.CurrencyCode;
        #
        #    if (_salesQuotationTable.InvoiceAccount)
        #    {
        #        this.InvoiceAccount         =  _salesQuotationTable.InvoiceAccount;
        #    }
        #
        #    this.SmmCampaignId              = _salesQuotationTable.CampaignId;
        #
        #    this.SalesName                  = _salesQuotationTable.QuotationName;
        #    this.DeliveryDate               = _salesQuotationTable.ShippingDateRequested;
        #    this.Deadline                   = _salesQuotationTable.QuotationExpiryDate;
        #
        #    this.ContactPersonId            = _salesQuotationTable.ContactPersonId;
        #    this.CustomerRef                = _salesQuotationTable.CustomerRef;
        #    this.PurchOrderFormNum          = _salesQuotationTable.CustPurchaseOrder;
        #    this.DefaultDimension           = this.copyDimension(_salesQuotationTable.DefaultDimension);
        #    this.DeliveryName               = _salesQuotationTable.DeliveryName;
        #
        #    this.TransactionCode            = _salesQuotationTable.TransactionCode;
        #    this.Transport                  = _salesQuotationTable.Transport;
        #    this.Port                       = _salesQuotationTable.Port;
        #    this.StatProcId                 = _salesQuotationTable.StatProcId;
        #    this.Listcode                   = _salesQuotationTable.Listcode;
        #    this.CountyOrigDest             = _salesQuotationTable.CountyOrigDest;
        #    //<<Maria_PracticeProject_NOV_06_2017
        #    this.Maria_PhoneNumber          = _salesQuotationTable.Maria_PhoneNumber;
        #    this.Maria_FaxNumber            = _salesQuotationTable.Maria_FaxNumber;
        #    //>>Maria_PracticeProject_NOV_06_2017
        #
        #    if (_salesQuotationTable.DeliveryPostalAddress)
        #    {
        #        this.DeliveryPostalAddress  = _salesQuotationTable.DeliveryPostalAddress;
        #        this.AddressRefRecId        = _salesQuotationTable.AddressRefRecId;
        #        this.AddressRefTableId      = _salesQuotationTable.AddressRefTableId;
        #    }
        #
        #    this.vatNum                     = _salesQuotationTable.vatNum;
        #    this.TaxGroup                   = _salesQuotationTable.TaxGroup;
        #    this.InclTax                    = _salesQuotationTable.InclTax;
        #
        #    this.CashDisc                   = _salesQuotationTable.CashDisc;
        #
        #    this.CashDiscPercent            = _salesQuotationTable.CashDiscPercent;
        #
        #    this.DiscPercent                = _salesQuotationTable.DiscPercent;
        #    this.EndDisc                    = _salesQuotationTable.EndDisc;
        #    this.LineDisc                   = _salesQuotationTable.LineDisc;
        #    this.MultiLineDisc              = _salesQuotationTable.MultiLineDisc;
        #    this.CommissionGroup            = _salesQuotationTable.CommissionGroup;
        #
        #    this.DlvMode                    = _salesQuotationTable.DlvMode;
        #    this.DlvTerm                    = _salesQuotationTable.DlvTerm;
        #    this.DlvReason                  = _salesQuotationTable.DlvReason;
        #
        #    this.SalesGroup                 = _salesQuotationTable.SalesGroup;
        #    this.PriceGroupId               = _salesQuotationTable.PriceGroupId;
        #    this.LanguageId                 = _salesQuotationTable.LanguageId;
        #    this.MarkupGroup                = _salesQuotationTable.MarkupGroup;
        #    this.Payment                    = _salesQuotationTable.Payment;
        #    if(_salesQuotationTable.Payment)
        #    {
        #        this.PaymentSched           = _salesQuotationTable.payment().PaymSched;
        #    }
        #
        #    this.PostingProfile             = _salesQuotationTable.PostingProfile;
        #    this.WorkerSalesResponsible     = _salesQuotationTable.WorkerSalesResponsible;
        #    this.WorkerSalesTaker           = _salesQuotationTable.WorkerSalesTaker;
        #    this.SalesUnitId                = _salesQuotationTable.SalesUnitId;
        #    this.SalesOriginId              = _salesQuotationTable.SalesOriginId;
        #
        #    this.ShippingDateRequested      = _salesQuotationTable.ShippingDateRequested;
        #    this.ReceiptDateRequested       = _salesQuotationTable.ReceiptDateRequested;
        #    this.InventLocationId           = _salesQuotationTable.InventLocationId;
        #    this.setInventSiteId(_salesQuotationTable.InventSiteId);
        #
        #    if (BrazilParameters::isEnabled())
        #    {
        #        salesTable_BR = this.salesTable_BR();
        #        salesTable_BR.CustFinalUser_BR              = _salesQuotationTable.CustFinalUser_BR;
        #        salesTable_BR.SalesPurchOperationType_BR    = _salesQuotationTable.SalesPurchOperationType_BR;
        #        salesTable_BR.FineCode_BR                   = _salesQuotationTable.FineCode_BR;
        #        salesTable_BR.InterestCode_BR               = _salesQuotationTable.InterestCode_BR;
        #        this.packSalesTable_BR(salesTable_BR);
        #    }
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #        mcrSalesTable = this.mcrSalesTable();
        #        mcrSalesQuotationTable           = _salesQuotationTable.mcrSalesQuotationTable();
        #        // Copy the source code.
        #
        #        if (mcrSalesTable.SourceId != mcrSalesQuotationTable.SourceId)
        #        {
        #            mcrSalesTable.SourceId = mcrSalesQuotationTable.SourceId;
        #            this.mcrPackMCRSalesTable(mcrSalesTable);
        #        }
        #    }
        #
        #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
        #    {
        #        retailQuotation = _salesQuotationTable.retailSalesQuotationTable();
        #        if (retailQuotation && retailQuotation.RetailChannel)
        #        {
        #            retailSales = this.retailSalesTable();
        #            retailSales.RetailChannel = retailQuotation.RetailChannel;
        #            retailSales.TotalManualDiscountAmount = retailQuotation.TotalManualDiscountAmount;
        #            retailSales.TotalManualDiscountPercentage = retailQuotation.TotalManualDiscountPercentage;
        #            retailSales.RetailLoyaltyCard = retailQuotation.RetailLoyaltyCard;
        #
        #            this.retailPackRetailSalesTable(retailSales);
        #        }
        #    }
        #}
        #
        #
      ENDSOURCE
      SOURCE #initFromSalesTable
        #void initFromSalesTable(SalesTable salesTable)
        #{
        #    SalesTable_BR           salesTable_BR;
        #    MCRSalesTableShipping   mcrSalesTableShippingLocal;
        #    MCRSalesTableShipping   mcrSalesTableShipping;
        #    MCRSalesTable           mcrSalesTableLocal;
        #    MCRSalesTable           mcrSalesTable;
        #
        #    RetailSalesTable retailSalesTable;
        #    #ISOCountryRegionCodes
        #
        #    this.Payment                    = salesTable.Payment;
        #    this.PaymMode                   = salesTable.PaymMode;
        #    this.PaymSpec                   = salesTable.PaymSpec;
        #    this.NumberSequenceGroup        = salesTable.NumberSequenceGroup;
        #    this.CashDisc                   = salesTable.CashDisc;
        #    this.CashDiscBaseDays           = salesTable.CashDiscBaseDays;
        #    this.CashDiscBaseDate           = salesTable.CashDiscBaseDate;
        #    this.CashDiscPercent            = salesTable.CashDiscPercent;
        #    this.CurrencyCode               = salesTable.CurrencyCode;
        #    this.DlvTerm                    = salesTable.DlvTerm;
        #    this.DlvMode                    = salesTable.DlvMode;
        #    this.DlvReason                  = salesTable.DlvReason;
        #    this.DefaultDimension           = this.copyDimension(salesTable.DefaultDimension);
        #    this.setTaxGroup(salesTable.TaxGroup);
        #    this.InclTax                    = salesTable.InclTax;
        #    this.Transport                  = salesTable.Transport;
        #    this.Port                       = salesTable.Port;
        #    this.StatProcId                 = salesTable.StatProcId;
        #    this.DiscPercent                = salesTable.DiscPercent;
        #    this.DeliveryName               = salesTable.DeliveryName;
        #
        #    if (this.CustAccount == salesTable.CustAccount)
        #    {
        #        this.DeliveryPostalAddress = salesTable.DeliveryPostalAddress;
        #    }
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        if (salesTable.salesTable_RU().AgreementHeaderExt_RU)
        #        {
        #            this.DefaultDimension = AgreementHeaderExt_RU::clearAgreementDimension(this.DefaultDimension);
        #        }
        #    }
        #
        #    if (RetailParameters::isRetailEnabledAndInUse())
        #    {
        #        retailSalesTable = this.retailSalesTable();
        #        retailSalesTable.RetailLoyaltyCard    = salesTable.retailSalesTable().RetailLoyaltyCard;
        #        this.packRetailSalesTable(retailSalesTable);
        #    }
        #    this.AddressRefRecId            = salesTable.AddressRefRecId;
        #    this.AddressRefTableId          = salesTable.AddressRefTableId;
        #    this.setShipCarrierInformation(salesTable);
        #
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #        mcrSalesTableShippingLocal  = this.mcrSalesTableShipping();
        #        mcrSalesTableShipping       = salesTable.mcrSalesTableShipping();
        #        mcrSalesTableLocal          = this.mcrSalesTable();
        #        mcrSalesTable               = salesTable.mcrSalesTable();
        #
        #        this.DeliveryPostalAddress               = salesTable.DeliveryPostalAddress;
        #        this.DeliveryName                        = salesTable.DeliveryName;
        #
        #        if (mcrSalesTableShippingLocal.Expedite != mcrSalesTableShipping.Expedite
        #            || mcrSalesTableShippingLocal.ShipComplete != mcrSalesTableShipping.ShipComplete)
        #        {
        #            mcrSalesTableShippingLocal.Expedite      = mcrSalesTableShipping.Expedite;
        #            mcrSalesTableShippingLocal.ShipComplete  = mcrSalesTableShipping.ShipComplete;
        #            this.mcrPackMCRSalesTableShipping(mcrSalesTableShippingLocal);
        #        }
        #
        #        if (mcrSalesTableLocal.PostageGroupID != mcrSalesTable.PostageGroupID)
        #        {
        #            mcrSalesTableLocal.PostageGroupID        = mcrSalesTable.PostageGroupID;
        #            this.mcrPackMCRSalesTable(mcrSalesTableLocal);
        #        }
        #    }
        #    if (BrazilParameters::isEnabled())
        #    {
        #        salesTable_BR = this.salesTable_BR();
        #        salesTable_BR.SalesPurchOperationType_BR    = salesTable.salesTable_BR().SalesPurchOperationType_BR;
        #        salesTable_BR.ServiceCodeOnDlvAddress_BR    = salesTable.salesTable_BR().ServiceCodeOnDlvAddress_BR;
        #        salesTable_BR.CustFinalUser_BR              = salesTable.salesTable_BR().CustFinalUser_BR;
        #        salesTable_BR.PresenceType                  = this.custTable_CustAccount().PresenceType_BR;
        #        this.packSalesTable_BR(salesTable_BR);
        #    }
        #
        #    if (this.InvoiceAccount == salesTable.InvoiceAccount)
        #    {
        #        this.DirectDebitMandate = salesTable.DirectDebitMandate;
        #    }
        #}
      ENDSOURCE
      SOURCE #initInvoiceAccount
        #void  initInvoiceAccount()
        #{
        #    CustTable      custTable;
        #    #ISOCountryRegionCodes
        #
        #    custTable = this.custTable_InvoiceAccount();
        #
        #    this.NumberSequenceGroup    = custTable.NumberSequenceGroup;
        #    this.Payment                = custTable.PaymTermId;
        #    this.initFromPayment();
        #    if (custTable.PaymSched)
        #    {
        #        this.PaymentSched   = custTable.PaymSched;
        #    }
        #    if (RetailMCRChannelTable::mcrEnableOrderCompletion(this))
        #    {
        #        // Clearing base payment fields, use attached payment record logic instead.
        #        this.PaymMode               = '';
        #        this.PaymSpec               = '';
        #    }
        #    else
        #    {
        #        this.PaymMode               = custTable.PaymMode;
        #        this.PaymSpec               = custTable.PaymSpec;
        #    }
        #    this.CashDisc               = custTable.CashDisc;
        #    this.CashDiscBaseDays       = custTable.CashDiscBaseDays;
        #    this.setListCode();
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLV, #isoLT]))
        #    {
        #        this.InvoiceRegister_LT         = LtInvoiceAutoNumberingGroups::autoNumberingForSalesInvoice(this.InvoiceAccount);
        #        this.PackingSlipRegister_LT     = LtInvoiceAutoNumberingGroups::autoNumberingForSalesPackingSlip(this.InvoiceAccount);
        #    }
        #}
      ENDSOURCE
      SOURCE #initReturnFromSalesTable
        #void initReturnFromSalesTable(SalesTable _other)
        #{
        #    this.CustAccount        = _other.CustAccount;
        #    this.CustGroup          = _other.CustGroup;
        #    this.InvoiceAccount     = _other.InvoiceAccount;
        #
        #    this.initFromCustTable();
        #    this.initFromSalesTable(_other);
        #
        #    this.DeliveryDateControlType = SalesDeliveryDateControlType::None;
        #    this.ShippingDateRequested   = _other.DeliveryDate;
        #    this.ReceiptDateRequested    = _other.DeliveryDate;
        #
        #    this.SalesId            = NumberSeq::newGetNum(SalesParameters::numRefSalesId()).num();
        #    this.ReturnItemNum      = NumberSeq::newGetNum(SalesParameters::numRefReturnItemNum()).num();
        #
        #    this.SalesType          = SalesType::ReturnItem;
        #    this.ReturnStatus       = ReturnStatusHeader::Created;
        #}
      ENDSOURCE
      SOURCE #initTaxDefaultsFromInvoiceAccount
        #/// <summary>
        #/// Copies fiscal data fields from the invoice account.
        #/// </summary>
        #private void initTaxDefaultsFromInvoiceAccount()
        #{
        #    CustTable      custTable;
        #    CustParameters custParameters;
        #
        #    custTable = this.custTable_InvoiceAccount();
        #
        #    this.vatNum = custTable.vatNum;
        #    this.setTaxGroup(TaxSales::custTaxGroup(custTable.DlvTerm, custTable.TaxGroup));
        #    custParameters = CustParameters::find();
        #    if (custParameters.CustNameFromVATNum)
        #    {
        #        this.setNameUsingVATNum(custTable.vatNum,
        #                                this.payerPostalAddress().CountryRegionId,
        #                                custTable.name(),
        #                                custParameters);
        #    }
        #    else
        #    {
        #        this.SalesName = custTable.name();
        #    }
        #}
      ENDSOURCE
      SOURCE #initValue
        #void initValue(SalesType _salesType = SalesParameters::find().OrderType)
        #{
        #    this.SalesType = _salesType;
        #
        #    super();
        #
        #    this.initValue_Server();
        #}
      ENDSOURCE
      SOURCE #initValue_Server
        #server void initValue_Server()
        #{
        #    SalesTableType salesTableType;
        #
        #    salesTableType = this.type();
        #    salesTableType.initValue();
        #
        #    if (smmLicense::crm())
        #    {
        #        this.WorkerSalesResponsible   = currentWorker();
        #        this.SalesUnitId              = smmUtility::getCurrentSalesUnit();
        #    }
        #    this.WorkerSalesTaker   = currentWorker();
        #
        #    //Add for Connector integration
        #    if(!this.daxIntegrationID)
        #    {
        #        this.daxIntegrationID = newGuid();
        #    }
        #}
      ENDSOURCE
      SOURCE #insert
        #void insert(boolean _skipMarkup = false)
        #{
        #    SalesTableType salesTableType;
        #    #ISOCountryRegionCodes
        #
        #    if (!this.SalesId)
        #    {
        #        throw(error(strFmt("@SYS26332", fieldId2pname(tableNum(SalesTable), fieldNum(SalesTable, SalesId)))));
        #    }
        #
        #    ttsbegin;
        #
        #    salesTableType = this.type();
        #    salesTableType.insert(_skipMarkup);
        #
        #    this.SysExtensionSerializerMap::postInsert();
        #
        #    TradeBLWIJournalPurposeCodes::createRecord(TradeBLWICustVend::Customer, this.RecId, this.CustAccount, TradeBLWITypeOfForm::SalesTable);
        #    if (isConfigurationkeyEnabled(configurationKeyNum(LedgerBasicSalesTax)) &&
        #        SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
        #    {
        #        if (CustTable::find(this.CustAccount).ExportSales_PL)
        #        {
        #            ExportSalesOrder::createFromSalesOrder(this.SalesId);
        #        }
        #    }
        #    ttscommit;
        #
        #    RetailEventNotificationAction::InsertRetailOENAction(
        #                    RetailEventNotificationType::OrderCreation,
        #                    this.RecId,
        #                    this);
        #
        #    //<catalina.leonte_LCE_SalesBCarrierInformationModification_26.09.2019
        #    this.LCE_insertCarrierInformation();
        #    //>catalina.leonte_LCE_SalesBCarrierInformationModification_26.09.2019
        #}
      ENDSOURCE
      SOURCE #interCompanyAllowIndirectCreationOrig
        #public InterCompanyAllowIndirectCreationTxt interCompanyAllowIndirectCreationOrig()
        #{
        #    InterCompanyAllowIndirectCreationTxt interCompanyAllowIndirectCreationTxt;
        #
        #    if (this.InterCompanyDirectDeliveryOrig
        #    && !this.InterCompanyAllowIndirectCreationOrig)
        #    {
        #        interCompanyAllowIndirectCreationTxt = "@SYS95179";
        #    }
        #    return interCompanyAllowIndirectCreationTxt;
        #}
      ENDSOURCE
      SOURCE #interCompanyAllowIndirectCreationTxt
        #display InterCompanyAllowIndirectCreationTxt interCompanyAllowIndirectCreationTxt()
        #{
        #    return this.interCompanyAllowIndirectCreationOrig();
        #}
      ENDSOURCE
      SOURCE #interCompanyCheckCurrency
        #boolean interCompanyCheckCurrency()
        #{
        #    MarkupTrans     markupTrans;
        #
        #    if (this.isInterCompanyOrder()
        #    &&  this.CurrencyCode != this.orig().CurrencyCode)
        #    {
        #        if (SalesLine::exist(this.SalesId))
        #        {
        #            return checkFailed(strFmt("@SYS105402"));
        #        }
        #
        #        select firstonly markupTrans
        #               index hint TableRecIdIdx
        #               where markupTrans.TransTableId == this.TableId
        #               &&    markupTrans.TransRecId   == this.RecId
        #               &&   !markupTrans.IsDeleted;
        #        if (markupTrans)
        #        {
        #            return checkFailed(strFmt("@SYS105402"));
        #        }
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #interCompanyDirectDeliveryReturn
        #/// <summary>
        #///    Sets the InterCompanyAutoCreateOrders and InterCompanyAllowIndirectCreate fieldsto the value of the
        #///    InterCompanyDirectDelivery field.
        #/// </summary>
        #/// <remarks>
        #///    This method is used, when the InterCompanyDirectDelivery field is changed for a return order.
        #/// </remarks>
        #public void interCompanyDirectDeliveryReturn()
        #{
        #    this.InterCompanyAutoCreateOrders      = this.InterCompanyDirectDelivery;
        #    this.InterCompanyAllowIndirectCreation = this.InterCompanyDirectDelivery;
        #}
      ENDSOURCE
      SOURCE #interCompanyEndpointActionPolicy
        #/// <summary>
        #/// Gets the intercompany trading policy for the current <c>SalesTable</c> table record.
        #/// </summary>
        #/// <param name="_forUpdate">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A record in the <c>InterCompanyEndpointActionPolicy</c> table; otherwise, an empty record.
        #/// </returns>
        #public InterCompanyEndpointActionPolicy interCompanyEndpointActionPolicy(boolean   _forUpdate = false)
        #{
        #    InterCompanyEndpointActionPolicy    interCompanyEndpointActionPolicy;
        #
        #    changecompany (
        #                   this.company()
        #                   )
        #    {
        #        interCompanyEndpointActionPolicy = CustTable::find(this.CustAccount).interCompanyTradingPartner().interCompanyEndpointActionPolicy(_forUpdate);
        #    }
        #    return interCompanyEndpointActionPolicy;
        #}
      ENDSOURCE
      SOURCE #interCompanyNonICExist
        #public boolean interCompanyNonICExist()
        #{
        #    SalesLine   salesLine;
        #    PurchLine   purchLine;
        #
        #    select firstonly RecId from salesLine
        #           where salesLine.SalesId == this.SalesId
        #           &&   (salesLine.InventRefType != InventRefType::Purch
        #             || (salesLine.InventRefType == InventRefType::Purch
        #              && salesLine.InventRefTransId))
        #    notexists join purchLine
        #         where (purchLine.ItemRefType       == InventRefType::Sales
        #         &&    !purchLine.IsDeleted
        #         &&     purchLine.InventTransId     == salesLine.InventRefTransId
        #         &&     purchLine.InterCompanyInventTransId);
        #
        #    return salesLine.RecId ? true : false;
        #}
      ENDSOURCE
      SOURCE #interCompanyOriginalSalesInfo
        #public server container interCompanyOriginalSalesInfo()
        #{
        #    InterCompanySalesType   salesType;
        #    SalesTable              salesTable;
        #    SalesStatus             salesStatus = SalesStatus::None;
        #    PurchTable              purchTable;
        #    PurchStatus             purchStatus = PurchStatus::None;
        #
        #    if (this.InterCompanyOrder
        #    &&  this.InterCompanyCompanyId)
        #    {
        #        changecompany(this.InterCompanyCompanyId)
        #        {
        #            if (this.InterCompanyOriginalSalesId)
        #            {
        #                select SalesType, SalesStatus from salesTable
        #                       index hint SalesIdx
        #                       where salesTable.SalesId == this.InterCompanyOriginalSalesId;
        #                salesType   = enum2str(salesTable.SalesType);
        #                salesStatus = salesTable.SalesStatus;
        #            }
        #
        #            select PurchStatus from purchTable
        #                   index hint PurchIdx
        #                   where purchTable.PurchId == this.InterCompanyPurchId;
        #            purchStatus = purchTable.PurchStatus;
        #        }
        #    }
        #    return [purchStatus,salesType,salesStatus];
        #}
      ENDSOURCE
      SOURCE #interCompanyOriginDisplay
        #display InterCompanyOriginDisplay interCompanyOriginDisplay()
        #{
        #    InterCompanyOriginDisplay   interCompanyOriginDisplay;
        #    DictEnum                    dictEnum = new DictEnum(enumNum(InterCompanyOrigin));
        #
        #    if (this.InterCompanyOrder)
        #    {
        #        interCompanyOriginDisplay = dictEnum.value2Name(this.InterCompanyOrigin);
        #    }
        #    return interCompanyOriginDisplay;
        #}
      ENDSOURCE
      SOURCE #interCompanyPurchTable
        #PurchTable  interCompanyPurchTable(boolean  _forUpdate = false)
        #{
        #    PurchTable      purchTable;
        #
        #    if (this.InterCompanyOrder
        #    &&  this.InterCompanyCompanyId
        #    &&  this.InterCompanyPurchId)
        #    {
        #        changecompany(this.InterCompanyCompanyId)
        #        {
        #            purchTable = PurchTable::find(this.InterCompanyPurchId, _forUpdate);
        #        }
        #
        #    }
        #    return purchTable;
        #}
      ENDSOURCE
      SOURCE #interCompanyReplacementRegistered
        #private boolean interCompanyReplacementRegistered()
        #{
        #    boolean                 ret;
        #    SalesLine               salesLine;
        #    ReturnDispositionCode   returnDispositionCode;
        #
        #    while select forceplaceholders salesLine
        #          where salesLine.SalesId       == this.SalesId
        #          &&    salesLine.InventRefType == InventRefType::Purch
        #          &&    salesLine.InventRefTransId
        #    join returnDispositionCode
        #         where returnDispositionCode.DispositionCodeId == salesLine.ReturnDispositionCodeId
        #    {
        #        if (salesLine.interCompanySalesLineExist()
        #        &&  returnDispositionCode.createReplacement())
        #        {
        #            ret = true;
        #            break;
        #        }
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #interCompanyTradingValueMap
        #/// <summary>
        #/// Gets the intercompany trading value mapping for the current <c>SalesTable</c> table record.
        #/// </summary>
        #/// <param name="_forUpdate">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A record in the <c>InterCompanyTradingValueMap</c> table; otherwise, an empty record.
        #/// </returns>
        #public InterCompanyTradingValueMap interCompanyTradingValueMap(boolean   _forUpdate = false)
        #{
        #    InterCompanyTradingValueMap interCompanyTradingValueMap;
        #
        #    changecompany (
        #                   this.company()
        #                   )
        #    {
        #        interCompanyTradingValueMap = CustTable::find(this.CustAccount).interCompanyTradingPartner().interCompanyTradingValueMap(_forUpdate);
        #    }
        #    return interCompanyTradingValueMap;
        #}
      ENDSOURCE
      SOURCE #interCompanyUpdateNow
        #boolean  interCompanyUpdateNow()
        #{
        #    boolean  ok;
        #    #isoCountryRegionCodes
        #    SalesTable_RU salesTableRU;
        #
        #    if (!this.RecId)
        #    {
        #        ok = true;
        #    }
        #
        #    if (this.orig().SalesType                       != this.SalesType
        #    ||  this.orig().CurrencyCode                    != this.CurrencyCode
        #    ||  this.orig().DlvTerm                         != this.DlvTerm
        #    ||  this.orig().DlvMode                         != this.DlvMode
        #    ||  this.orig().DeliveryDate                    != this.DeliveryDate
        #    ||  this.orig().ReceiptDateRequested            != this.ReceiptDateRequested
        #    ||  this.orig().ReceiptDateConfirmed            != this.ReceiptDateConfirmed
        #    ||  this.orig().ShippingDateRequested           != this.ShippingDateRequested
        #    ||  this.orig().ShippingDateConfirmed           != this.ShippingDateConfirmed
        #    ||  this.orig().DeliveryPostalAddress           != this.DeliveryPostalAddress
        #    ||  this.orig().DeliveryName                    != this.DeliveryName
        #    ||  this.orig().InterCompanyOriginalSalesId     != this.InterCompanyOriginalSalesId
        #    ||  this.orig().InterCompanyOriginalCustAccount != this.InterCompanyOriginalCustAccount
        #    ||  this.orig().InterCompanyDirectDelivery      != this.InterCompanyDirectDelivery
        #    ||  this.orig().InterCompanyDirectDeliveryOrig  != this.InterCompanyDirectDeliveryOrig
        #    ||  this.orig().PurchOrderFormNum               != this.PurchOrderFormNum
        #    ||  this.orig().CustomerRef                     != this.CustomerRef
        #    ||  this.orig().ReturnItemNum                   != this.ReturnItemNum
        #    ||  this.orig().DefaultDimension                != this.DefaultDimension
        #    ||  this.orig().DiscPercent                     != this.DiscPercent
        #    ||  this.orig().ReturnReasonCodeId              != this.ReturnReasonCodeId
        #    ||  this.orig().ReturnReplacementCreated        != this.ReturnReplacementCreated
        #    ||  this.orig().MatchingAgreement               != this.MatchingAgreement)
        #    {
        #        ok = true;
        #    }
        #    else
        #    {
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #        {
        #            salesTableRU = this.salesTable_RU();
        #            ok = salesTableRU.orig().InventProfileId_RU != salesTableRU.InventProfileId_RU;
        #        }
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #invoiceName
        #display CustName invoiceName()
        #{
        #    return this.custTable_InvoiceAccount().name();
        #}
      ENDSOURCE
      SOURCE #isBankDocumentCreated
        #/// <summary>
        #/// Checks if a bank document has been created for this order.
        #/// </summary>
        #/// <returns>
        #/// true if it a bank document has been created; otherwise, false.
        #/// </returns>
        #public boolean isBankDocumentCreated()
        #{
        #    return this.isBankLCCreated()
        #        || this.isBankLGCreated();
        #}
      ENDSOURCE
      SOURCE #isBankLCCreated
        #/// <summary>
        #/// Checks if a bank LC has been created for this order.
        #/// </summary>
        #/// <returns>
        #/// true if a bank LC has been created; otherwise, false.
        #/// </returns>
        #public boolean isBankLCCreated()
        #{
        #    boolean     ret = false;
        #
        #    if (this.isMarkedForBankLC())
        #    {
        #        ret = BankLCExport::existBySalesTable(this.SalesId);
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #isBankLGCreated
        #/// <summary>
        #/// Checks if a bank LG has been created for this order.
        #/// </summary>
        #/// <returns>
        #/// true if a bank LG has been created; otherwise, false.
        #/// </returns>
        #public boolean isBankLGCreated()
        #{
        #    boolean     ret = false;
        #
        #    if (this.isMarkedForBankLG() && this.BankLGDocumentMap::isLinkedToGuarantee())
        #    {
        #        ret = true;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #isCancellingSalesReturn_BR
        #/// <summary>
        #///     Verifies whether the sales order is for cancelling a sales return previously entered.
        #/// </summary>
        #/// <returns>
        #///     true if the sales order is for cancelling a sales return; false otherwise.
        #/// </returns>
        #public boolean isCancellingSalesReturn_BR()
        #{
        #    SalesTable_BR       salesTable_BR;
        #    FiscalDocument_BR   fiscalDocumentBeingCancelled;
        #
        #    salesTable_BR = this.salesTable_BR();
        #
        #    if (!salesTable_BR.InvoiceRefRecID_BR)
        #    {
        #        return false;
        #    }
        #
        #    fiscalDocumentBeingCancelled = FiscalDocument_BR::findByRef(tableNum(CustInvoiceJour), salesTable_BR.InvoiceRefRecID_BR);
        #
        #    if (fiscalDocumentBeingCancelled.Direction == FiscalDocDirection_BR::Incoming)
        #    {
        #        return true;
        #    }
        #
        #    return false;
        #}
        #
      ENDSOURCE
      SOURCE #isCreditCardPaymentType
        #public boolean isCreditCardPaymentType()
        #{
        #    return isConfigurationkeyEnabled(configurationKeyNum(CreditCard)) && this.payment().CreditCardPaymentType == CreditCardPaymentType::CreditCard;
        #}
      ENDSOURCE
      SOURCE #isCreditCheckEligible
        #/// <summary>
        #/// Checks to see whether the current sales order type is eligible for the credit limit check.
        #/// </summary>
        #/// <returns>
        #/// true if current sales order type is eligible fot the credit limit check; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #/// Calls to the related types overwritten method.
        #/// </remarks>
        #boolean isCreditCheckEligible()
        #{
        #    return this.type().isCreditCheckEligible();
        #}
      ENDSOURCE
      SOURCE #isCreditNote_CZ
        #/// <summary>
        #///     Checks to see if any of the lines associated with the current header is a credit note.
        #/// </summary>
        #/// <returns>
        #///     True, if at least one line is a credit note.
        #/// </returns>
        #public boolean isCreditNote_CZ()
        #{
        #    SalesLine salesLine;
        #    SalesLine salesLineRefRet;
        #
        #    select firstonly RecId from salesLine
        #        where salesLine.SalesId == this.SalesId &&
        #                salesLine.InventTransIdReturn;
        #
        #    select firstonly RecId from salesLineRefRet
        #        where salesLineRefRet.SalesId == this.SalesId &&
        #                salesLineRefRet.RefReturnInvoiceTrans_W;
        #
        #
        #    return salesLine.RecId != 0 || salesLineRefRet.RecId != 0;
        #}
        #
        #
      ENDSOURCE
      SOURCE #isCreditNote_PL
        #/// <summary>
        #///     Checks to see if any of the lines associated with the current header is a credit note.
        #/// </summary>
        #/// <returns>
        #///     True, if at least one line is a credit note.
        #/// </returns>
        #public boolean isCreditNote_PL()
        #{
        #    #ISOCountryRegionCodes
        #    SalesLine salesLine;
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL,#isoHU,#isoCZ,#isoLT,#isoLV,#isoEE]) && this.SalesId)
        #    {
        #        select firstonly RecId from salesLine
        #            where salesLine.SalesId == this.SalesId &&
        #                    salesLine.CreditNoteInternalRef_PL;
        #    }
        #
        #    return salesLine.RecId != 0;
        #}
      ENDSOURCE
      SOURCE #isExcisable_IN
        #/// <summary>
        #///     Checks to see if any of the lines associated with the current header is a excise type.
        #/// </summary>
        #/// <returns>
        #///     True, if at least one line is of excise type.
        #/// </returns>
        #// <GIN>
        #public boolean isExcisable_IN()
        #{
        #    SalesLine       salesLine;
        #    TaxOnItem       taxOnItem;
        #    TaxTable        taxTable;
        #    SalesLine_IN    salesLine_IN;
        #
        #    select firstOnly RecId, SalesId, SalesQty from salesLine
        #        where salesLine.SalesId == this.SalesId &&
        #            salesLine.SalesType == SalesType::Sales &&
        #                salesLine.SalesQty > 0
        #    exists join salesLine_IN
        #        where salesLine_IN.SalesLine == salesLine.RecId &&
        #            salesLine_IN.ExciseType_IN == ExciseType_IN::Manufacturer
        #    exists join taxOnItem
        #        where taxOnItem.TaxItemGroup == salesLine.TaxItemGroup
        #    exists join taxTable
        #        where taxTable.TaxCode == taxOnItem.TaxCode &&
        #            taxTable.TaxType_IN == TaxType_IN::Excise;
        #
        #    return salesLine.RecId;
        #}
        #// </GIN>
      ENDSOURCE
      SOURCE #isInterCompanyOrder
        #boolean  isInterCompanyOrder()
        #{
        #    return (this.InterCompanyCompanyId != ''
        #        &&  this.InterCompanyOrder
        #        && !this.SkipUpdate
        #        &&  this.SalesType != SalesType::ItemReq);
        #}
      ENDSOURCE
      SOURCE #isInterCompanyPOInvoiceMatched
        #/// <summary>
        #/// Indicates whether a related intercompany purchase order was partially or fully invoiced.
        #/// </summary>
        #/// <returns>
        #/// true if the related intercompany purchase order was partially or fully invoiced; otherwise, false.
        #/// </returns>
        #public boolean isInterCompanyPOInvoiceMatched()
        #{
        #    boolean ret;
        #
        #    if (this.isInterCompanyOrder())
        #    {
        #        ret = (select firstonly crosscompany RecId from vendInvoicePurchLink
        #                where vendInvoicePurchLink.OrigPurchId == this.InterCompanyPurchId
        #                   && vendInvoicePurchLink.DataAreaId  == this.InterCompanyCompanyId).RecId != 0;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #isMarkedForBankLC
        #/// <summary>
        #/// Indicates whether the sales order is marked for <c>Letter of Credit</c>.
        #/// </summary>
        #/// <returns>
        #/// true if the Sales order is marked for <c>Letter of Credit</c>; otherwise, false.
        #/// </returns>
        #public boolean isMarkedForBankLC()
        #{
        #    return this.BankDocumentType == BankDocumentType::LetterOfCredit
        #        || this.BankDocumentType == BankDocumentType::ImportCollection;
        #}
      ENDSOURCE
      SOURCE #isMarkedForBankLG
        #/// <summary>
        #/// Indicates whether the sales order is marked for <c>Letter of Guarantee</c>.
        #/// </summary>
        #/// <returns>
        #/// true if the sales order is marked for <c>Letter of Guarantee</c>; otherwise, false.
        #/// </returns>
        #public boolean isMarkedForBankLG()
        #{
        #    return this.BankDocumentType == BankDocumentType::LetterOfGuarantee;
        #}
      ENDSOURCE
      SOURCE #isOnlineOrder
        #private boolean isOnlineOrder()
        #{
        #    RetailOnlineChannelTable channelTable;
        #    RetailSalesTable retailSalesTable;
        #
        #    // find an online channel if this SO links to it
        #    select firstonly RecId from channelTable
        #        join SalesTable, RetailChannel from retailSalesTable
        #        where retailSalesTable.SalesTable == this.RecId
        #           && channelTable.RecId == retailSalesTable.RetailChannel;
        #
        #    return (channelTable.RecId != 0);
        #}
      ENDSOURCE
      SOURCE #isRetailSale
        #/// <summary>
        #/// Indicates whether the <c>SalesTable</c> record is a Retail sales record
        #/// </summary>
        #/// <returns>
        #/// true if the <c>SalesTable</c> record is a Retail sales record; otherwise, false.
        #/// </returns>
        #public display NoYes isRetailSale()
        #{
        #    return this.retailSalesTable().RetailOrder == NoYes::Yes;
        #}
      ENDSOURCE
      SOURCE #isRetailStatement_BR
        #/// <summary>
        #/// Indicates whether the <c>SalesTable</c> record is originated from a Retail statement
        #/// </summary>
        #/// <returns>
        #/// True if the <c>SalesTable</c> record is originated from a Retail statement; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #/// All transactions originated at the POS have terminal ID populated. Customer orders
        #/// have also channel reference ID populate, but they are not posted through statements.
        #/// </remarks>
        #public NoYes isRetailStatement_BR()
        #{
        #    return this.retailSalesTable().RetailTerminalId != ''
        #        && this.retailSalesTable().ChannelReferenceId == '';
        #}
      ENDSOURCE
      SOURCE #jumpRefIntercompanyOriginalSalesOrder
        #/// <summary>
        #/// Serves as the jump reference for the original sales order that relates to the sales order.
        #/// </summary>
        #/// <param name="_caller">
        #/// The object that is calling the <c>SalesTable.jumpRefIntercompanyOriginalSalesOrder</c> method;
        #/// optional.
        #/// </param>
        #public void jumpRefIntercompanyOriginalSalesOrder(Object _caller = null)
        #{
        #    if (this.SalesType == SalesType::ReturnItem)
        #    {
        #        TradeInterCompany::construct(this,true).formRun(formStr(ReturnTable),_caller);
        #    }
        #    else
        #    {
        #        TradeInterCompany::construct(this,true).formRun(formStr(SalesTable),_caller);
        #    }
        #}
      ENDSOURCE
      SOURCE #jumpRefIntercompanyPurchaseOrder
        #/// <summary>
        #/// Serves as the jump reference for the intercompany purchase order that relates to the sales order.
        #/// </summary>
        #/// <param name="_caller">
        #/// The object that is calling the <c>SalesTable.jumpRefIntercompanyPurchaseOrder</c> method; optional.
        #/// </param>
        #public void jumpRefIntercompanyPurchaseOrder(Object _caller = null)
        #{
        #    TradeInterCompany::construct(this).formRun(formStr(PurchTable),_caller);
        #}
      ENDSOURCE
      SOURCE #jumpRefReturnItemNum
        #void jumpRefReturnItemNum(Object object)
        #{
        #    Args            args;
        #    FormRun         formRun;
        #    SalesTable      salesTable;
        #
        #    salesTable = this.SalesType != SalesType::ReturnItem ? SalesTable::findReturnItemNum(this.ReturnItemNum) : this;
        #
        #    args = new Args(formStr(ReturnTable));
        #    args.record(salesTable);
        #    args.caller(object);
        #
        #    // Menu item info will be used by security framework, when setting access rights to form datasources
        #    args.menuItemType(MenuItemType::Display);
        #    args.menuItemName(menuitemDisplayStr(ReturnTableDetails));
        #
        #    formRun = classfactory.formRunClass(args);
        #    formRun.init();
        #    formRun.run();
        #    formRun.detach();
        #}
      ENDSOURCE
      SOURCE #lastConfirm
        #[SysClientCacheDataMethodAttribute(true)]
        #server display CustConfirmDocNum lastConfirm()
        #{
        #    CustConfirmSalesLink    custConfirmSalesLink;
        #    CustConfirmJour         custConfirmJour;
        #
        #    select firstonly TableId from custConfirmSalesLink
        #            index hint origSalesIdx
        #            order by ConfirmDate desc, ConfirmId desc
        #            where custConfirmSalesLink.OrigSalesId == this.SalesId
        #        join ConfirmDocNum from custConfirmJour
        #            where custConfirmJour.ConfirmId     == custConfirmSalesLink.ConfirmId   &&
        #                  custConfirmJour.ConfirmDate   == custConfirmSalesLink.ConfirmDate;
        #    return custConfirmJour.ConfirmDocNum;
        #}
      ENDSOURCE
      SOURCE #lastConfirmDate
        #[SysClientCacheDataMethodAttribute(true)]
        #server display TransDate lastConfirmDate()
        #{
        #    return (select maxof(ConfirmDate) from custConfirmSalesLink
        #                index hint origSalesIdx
        #                where custConfirmSalesLink.OrigSalesId == this.SalesId).ConfirmDate;
        #}
      ENDSOURCE
      SOURCE #lastFacture_RU
        ##define.FactureNumPosition(1)
        #public FactureExternalId_RU lastFacture_RU()
        #{
        #    return conPeek(this.lastFactureNumDate_RU(), #FactureNumPosition);
        #}
      ENDSOURCE
      SOURCE #lastFactureNumDate_RU
        #private container lastFactureNumDate_RU()
        #{
        #    FactureJour_RU       jour;
        #    RecordSortedList     list = new RecordSortedList(tableNum(FactureJour_RU)),
        #                         tmpList;
        #    CustInvoiceSalesLink invoiceSalesLink;
        #    CustInvoiceJour      invoiceJour;
        #
        #    // to avoid BP warning
        #    void dummy()
        #    {
        #    }
        #    ;
        #    select firstonly RecId from jour;
        #    if(! jour.RecId)
        #        return [ "", dateNull() ];
        #
        #    list.sortOrder(fieldNum(FactureJour_RU, FactureDate),
        #                   fieldNum(FactureJour_RU, FactureId),
        #                   fieldNum(FactureJour_RU, ModifiedDateTime),
        #                   fieldNum(FactureJour_RU, RecId));
        #
        #    while select RecId from invoiceSalesLink
        #        index hint origSalesIdx
        #        where invoiceSalesLink.OrigSalesId == this.SalesId
        #    join invoiceJour
        #        where invoiceJour.SalesId          == invoiceSalesLink.SalesId   &&
        #              invoiceJour.InvoiceId        == invoiceSalesLink.InvoiceId &&
        #              invoiceJour.InvoiceDate      == invoiceSalesLink.InvoiceDate
        #    {
        #        tmpList = invoiceJour.factureJourSortedList_RU();
        #        tmpList.first(jour);
        #        if (jour)
        #        {
        #            while (tmpList.next(jour))
        #            {
        #                dummy();
        #            } // last element
        #
        #            if (! list.find(jour))
        #            {
        #                list.ins(jour);
        #            }
        #        }
        #    }
        #
        #    list.first(jour);
        #    while (list.next(jour))
        #    {
        #        dummy();
        #    }  // last element
        #
        #    return [ jour.FactureExternalId, jour.FactureDate ];
        #}
      ENDSOURCE
      SOURCE #lastInvoice
        #/// <summary>
        #/// Returns the document number of the last invoice posted for this sales order.
        #/// </summary>
        #/// <param name="_skipVendorFulfilledInvoices">
        #/// true if sales invoices that have been fulfilled by intercompany invoices should be skipped; otherwise, false.
        #/// </param>
        #/// <returns>
        #/// The document number of the last invoice posted for this sales order.
        #/// </returns>
        #[SysClientCacheDataMethodAttribute(true)]
        #server display InvoiceId lastInvoice(boolean _skipVendorFulfilledInvoices = false)
        #{
        #    ProjInvoiceItem         projInvoiceItem;
        #    CustInvoiceSalesLink    custInvoiceSalesLink;
        #    VendInvoiceJour         vendInvoiceJour;
        #    container               vendInvoiceCompany = [this.InterCompanyCompanyId];
        #    InvoiceId               firstInvoiceId;
        #
        #    if (!this.ProjId)
        #    {
        #        while select InvoiceId from custInvoiceSalesLink
        #            index hint origSalesIdx
        #            order by InvoiceDate desc, InvoiceId desc
        #               where custInvoiceSalesLink.OrigSalesId == this.SalesId
        #        {
        #            if (_skipVendorFulfilledInvoices)
        #            {
        #                // Return the most recent sales invoice without a corresponding vendor invoice
        #                select crossCompany:vendInvoiceCompany RecId from vendInvoiceJour
        #                    where vendInvoiceJour.PurchId == this.InterCompanyPurchId &&
        #                          vendInvoiceJour.InvoiceId == custInvoiceSalesLink.InvoiceId;
        #
        #                if (vendInvoiceJour.RecId == 0)
        #                {
        #                    return custInvoiceSalesLink.InvoiceId;
        #                }
        #
        #                if (firstInvoiceId == '')
        #                {
        #                    firstInvoiceId = custInvoiceSalesLink.InvoiceId;
        #                }
        #            }
        #            else
        #            {
        #                return custInvoiceSalesLink.invoiceId;
        #            }
        #        }
        #
        #        // If we didn't find any sales invoice without a corresponding vendor invoice, return the first invoice ID
        #        return firstInvoiceId;
        #    }
        #
        #    // This is invoiced from Project
        #    return (select firstonly ProjInvoiceId
        #            from projInvoiceItem
        #            index hint InvoiceIdx
        #            order by InvoiceDate desc, ProjInvoiceId desc
        #            where projInvoiceItem.SalesId == this.SalesId).ProjInvoiceId;
        #}
      ENDSOURCE
      SOURCE #lastInvoice4Paym_RU
        #//BP deviation documented
        #server display Invoice4PaymId_RU lastInvoice4Paym_RU()
        #{
        #    CustInvoice4PaymSalesLink_RU custInvoice4PaymSalesLink_RU;
        #
        #    return (select reverse firstonly Invoice4PaymId from custInvoice4PaymSalesLink_RU
        #                index hint OrigSalesIdx
        #                order by Invoice4PaymDate
        #                where custInvoice4PaymSalesLink_RU.OrigSalesId == this.SalesId).Invoice4PaymId;
        #}
      ENDSOURCE
      SOURCE #lastInvoice4PaymDate_RU
        #//BP deviation documented
        #server display TransDate lastInvoice4PaymDate_RU()
        #{
        #    CustInvoice4PaymSalesLink_RU custInvoice4PaymSalesLink_RU;
        #
        #    return (select maxof(Invoice4PaymDate) from custInvoice4PaymSalesLink_RU
        #                index hint OrigSalesIdx
        #                where custInvoice4PaymSalesLink_RU.OrigSalesId == this.SalesId).Invoice4PaymDate;
        #}
      ENDSOURCE
      SOURCE #lastInvoiceDate
        #[SysClientCacheDataMethodAttribute(true)]
        #server display TransDate lastInvoiceDate()
        #{
        #    ProjInvoiceItem projInvoiceItem;
        #
        #    if (!this.ProjId)
        #    {
        #        return (select maxof(InvoiceDate) from custInvoiceSalesLink
        #                    index hint origSalesIdx
        #                    where  custInvoiceSalesLink.OrigSalesId == this.SalesId).InvoiceDate;
        #    }
        #
        #    // This is invoiced from Project
        #    return (select maxof(InvoiceDate)
        #            from projInvoiceItem
        #            where projInvoiceItem.SalesId==this.SalesId).InvoiceDate;
        #}
      ENDSOURCE
      SOURCE #lastJournals
        #server container lastJournals()
        #{
        #    #ISOCountryRegionCodes
        #
        #    container  c;
        #
        #    c = conIns(c, SalesTableType::posQuotation(),       [this.lastQuotation(),      this.lastQuotationDate()]);
        #    c = conIns(c, SalesTableType::posConfirmation(),    [this.lastConfirm(),        this.lastConfirmDate()]);
        #    c = conIns(c, SalesTableType::posPickingList(),     [this.lastPickingList(),    this.lastPickingListDate()]);
        #    c = conIns(c, SalesTableType::posPackingSlip(),     [this.lastPackingSlip(),    this.lastPackingSlipDate()]);
        #    c = conIns(c, SalesTableType::posInvoice(),         [this.lastInvoice(),        this.lastInvoiceDate()]);
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        c += ["", dateNull()];
        #        c += ["", dateNull()];
        #        c = conIns(c, SalesTableType::posInvoice4Paym_RU(), [this.lastInvoice4Paym_RU(),this.lastInvoice4PaymDate_RU()]);
        #        c = conIns(c, SalesTableType::posFacture_RU(),      this.lastFactureNumDate_RU());
        #    }
        #
        #    return c;
        #}
      ENDSOURCE
      SOURCE #lastPackingSlip
        #[SysClientCacheDataMethodAttribute(true)]
        #server display PackingSlipId lastPackingSlip()
        #{
        #    return (select firstonly PackingSlipId from custPackingSlipSalesLink
        #                index hint origSalesIdx
        #                order by DeliveryDate desc, PackingSlipId desc
        #                where custPackingSlipSalesLink.OrigSalesId  == this.SalesId).PackingSlipId;
        #}
      ENDSOURCE
      SOURCE #lastPackingSlipDate
        #[SysClientCacheDataMethodAttribute(true)]
        #server display TransDate  lastPackingSlipDate()
        #{
        #    return (select maxof(DeliveryDate) from custPackingSlipSalesLink
        #                index hint origSalesIdx
        #                where custPackingSlipSalesLink.OrigSalesId  == this.SalesId).DeliveryDate;
        #}
      ENDSOURCE
      SOURCE #lastPickingList
        #[SysClientCacheDataMethodAttribute(true)]
        #server display WMSPickingRouteID  lastPickingList()
        #{
        #    return (select firstonly PickingRouteId from wmsPickingRouteLink
        #                order by ActivationDateTime desc, PickingRouteId desc
        #                where wmsPickingRouteLink.OrigInventTransRefId == this.SalesId).PickingRouteId;
        #}
      ENDSOURCE
      SOURCE #lastPickingListDate
        #[SysClientCacheDataMethodAttribute(true)]
        #server display TransDate  lastPickingListDate()
        #{
        #    WMSPickingRoute     wmsPickingRoute;
        #    WMSPickingRouteLink wmsPickingRouteLink;
        #    utcdatetime         dateTime;
        #
        #    select maxof(ActivationDateTime) from wmsPickingRouteLink
        #        where wmsPickingRouteLink.OrigInventTransRefId == this.SalesId;
        #
        #    dateTime = wmsPickingRouteLink.ActivationDateTime;
        #
        #    if (!dateTime)
        #    {
        #        select maxof(EndDateTime) from wmsPickingRoute
        #            exists join wmsPickingRouteLink
        #                where wmsPickingRouteLink.PickingRouteId        == wmsPickingRoute.PickingRouteID
        #                &&    wmsPickingRouteLink.ActivationDateTime    == wmsPickingRoute.ActivationDateTime
        #                &&    wmsPickingRouteLink.OrigInventTransRefId  == this.SalesId;
        #
        #        dateTime = wmsPickingRoute.EndDateTime;
        #    }
        #
        #    dateTime = DateTimeUtil::applyTimeZoneOffset(dateTime,DateTimeUtil::getUserPreferredTimeZone());
        #    return DateTimeUtil::date(dateTime);
        #}
      ENDSOURCE
      SOURCE #lastQuotation
        #[SysClientCacheDataMethodAttribute(true)]
        #client server display QuotationDocNum lastQuotation()
        #{
        #    CustQuotationConfirmSalesLink   custQuotationConfirmSalesLink;
        #    CustQuotationConfirmJour        custQuotationConfirmJour;
        #
        #    if (this.QuotationId)
        #    {
        #        select firstonly TableId from custQuotationConfirmSalesLink
        #                order by QuotationDate desc, QuotationConfirmId desc
        #                where custQuotationConfirmSalesLink.OrigQuotationId == this.QuotationId
        #            join QuotationDocNum from custQuotationConfirmJour
        #                where custQuotationConfirmJour.QuotationConfirmId   == custQuotationConfirmSalesLink.QuotationConfirmId   &&
        #                      custQuotationConfirmJour.QuotationDate        == custQuotationConfirmSalesLink.QuotationDate &&
        #                      custQuotationConfirmJour.QuotationType        == QuotationType::Sales;
        #    }
        #    return custQuotationConfirmJour.QuotationDocNum;
        #}
      ENDSOURCE
      SOURCE #lastQuotationDate
        #[SysClientCacheDataMethodAttribute(true)]
        #client server display TransDate lastQuotationDate()
        #{
        #    TransDate   lastQuotationDate;
        #
        #    if (this.QuotationId)
        #    {
        #        lastQuotationDate = (select maxof(QuotationDate) from custQuotationConfirmSalesLink
        #                where custQuotationConfirmSalesLink.OrigQuotationId == this.QuotationId).QuotationDate;
        #    }
        #    return lastQuotationDate;
        #}
      ENDSOURCE
      SOURCE #LCE_displaySalesAgreementId
        #//LCE_DisplaySalesAgreementId by catalina.leonte on 23/05/2019
        #
        #public display SalesAgreementId LCE_displaySalesAgreementId()
        #{
        #    SalesAgreementHeader salesAgreementHeader;
        #    AgreementHeader agreementHeader;
        #
        #    select firstOnly SalesNumberSequence from salesAgreementHeader
        #        join RecId from agreementHeader
        #        where salesAgreementHeader.RecId == agreementHeader.RecId
        #            && agreementHeader.RecId == this.MatchingAgreement;
        #
        #    return salesAgreementHeader.SalesNumberSequence;
        #}
      ENDSOURCE
      SOURCE #LCE_DlvModeTxt
        #display Description LCE_DlvModeTxt()
        #{
        #    return DlvMode::find(this.DlvMode).Txt;
        #}
      ENDSOURCE
      SOURCE #LCE_insertCarrierInformation
        #//catalina.leonte_LCE_SalesBCarrierInformationModification_25.09.2019
        #void LCE_insertCarrierInformation()
        #{
        #    LCE_CarrierInfoSalesOrder           carrierInfoSalesOrder;
        #    LogisticsElectronicAddress          logisticsElectronicAddress;
        #    LogisticsElectronicAddressRole      logisticsElectronicAddressRole;
        #    LogisticsLocationRole               logisticsLocationRole;
        #    LogisticsLocationRoleTranslation    logisticsLocationRoleTranslation;
        #    DirPartyTable                       dirPartyTable;
        #    DirPartyLocation                    dirPartyLocation;
        #    CustTable                           custTable;
        #
        #    //dirPartyTable = DirPartyTable::findRec(CustTable::find(this.CustAccount).Party);
        #    custTable = CustTable::find(this.CustAccount);
        #
        #    while select dirPartyLocation
        #        where dirPartyLocation.Party == custTable.Party
        #    {
        #        while select logisticsElectronicAddress
        #            where logisticsElectronicAddress.Location == dirPartyLocation.Location
        #            join logisticsElectronicAddressRole
        #                where logisticsElectronicAddressRole.ElectronicAddress  == logisticsElectronicAddress.RecId
        #                 join logisticsLocationRole
        #                    where logisticsElectronicAddressRole.LocationRole == logisticsLocationRole.RecId
        #        {
        #            carrierInfoSalesOrder.SalesId               = this.SalesId;
        #            carrierInfoSalesOrder.CountryRegionCode     = logisticsElectronicAddress.CountryRegionCode;
        #            carrierInfoSalesOrder.Description           = logisticsElectronicAddress.Description;
        #            carrierInfoSalesOrder.IsInstantMessage      = logisticsElectronicAddress.IsInstantMessage;
        #            carrierInfoSalesOrder.IsMobilePhone         = logisticsElectronicAddress.IsMobilePhone;
        #            carrierInfoSalesOrder.IsPrimary             = logisticsElectronicAddress.IsPrimary;
        #            carrierInfoSalesOrder.IsPrivate             = logisticsElectronicAddress.IsPrivate;
        #            carrierInfoSalesOrder.Location              = logisticsElectronicAddress.Location;
        #            carrierInfoSalesOrder.Locator               = logisticsElectronicAddress.Locator;
        #            carrierInfoSalesOrder.LocatorExtension      = logisticsElectronicAddress.LocatorExtension;
        #            carrierInfoSalesOrder.PrivateForParty       = logisticsElectronicAddress.PrivateForParty;
        #            carrierInfoSalesOrder.Type                  = logisticsElectronicAddress.Type;
        #
        #            carrierInfoSalesOrder.insert();
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #LCE_NoOfSOPerCustomer
        #public display NumberOfRecords LCE_NoOfSOPerCustomer()
        #{
        #    SalesTable salesTable;
        #
        #    select count(RecId) from salesTable
        #        where salesTable.CustAccount == this.CustAccount;
        #
        #    return salesTable.RecId;
        #}
      ENDSOURCE
      SOURCE #LCE_SalesTotals
        #public display AmountCur LCE_SalesTotals()
        #{
        #    SalesTotals salesTotals;
        #    SalesTable salesTable;
        #    AmountCur sumTotalAmount = 0;
        #
        #    while select * from salesTable
        #        where salesTable.CustAccount == this.CustAccount
        #    {
        #        salesTotals = SalesTotals::construct(salesTable);
        #        sumTotalAmount = salesTotals.totalAmount();
        #    }
        #
        #    return sumTotalAmount;
        #}
      ENDSOURCE
      SOURCE #lineMapping
        #/// <summary>
        #/// Retrieves the table ID of the table considered the line table in the current header-line
        #/// relationship.
        #/// </summary>
        #/// <returns>
        #/// ID of the <c>SalesLine</c> table.
        #/// </returns>
        #public RefTableId lineMapping()
        #{
        #    return tableNum(SalesLine);
        #}
      ENDSOURCE
      SOURCE #lineNumForCreditNote
        #/// <summary>
        #/// Gets the line number of the sales credit note line.
        #/// </summary>
        #/// <returns>
        #/// The line number.
        #/// </returns>
        #public server LineNum lineNumForCreditNote()
        #{
        #    SalesLine   tmpSalesLine;
        #    LineNum     lineCount = 0;
        #
        #    select RecId from tmpSalesLine
        #        where tmpSalesLine.SalesId == this.SalesId &&
        #            tmpSalesLine.CreditNoteInternalRef_PL != 0;
        #
        #    if (tmpSalesLine.RecId)
        #    {
        #        // Force the new line to have the last LineNum
        #        select count (LineNum) from tmpSalesLine
        #            where tmpSalesLine.SalesId == this.SalesId;
        #
        #        lineCount = tmpSalesLine.LineNum;
        #    }
        #
        #    return lineCount;
        #}
      ENDSOURCE
      SOURCE #markupAllowed
        #public boolean markupAllowed()
        #{
        #    return this.type().markupAllowed();
        #}
      ENDSOURCE
      SOURCE #mayBankDocumentTypeBeBankLCExport
        #/// <summary>
        #/// Checks whether the Bank document type can be set to the types of Bank LC Export.
        #/// </summary>
        #/// <returns>
        #/// true if it is allowed; otherwise, false.
        #/// </returns>
        #public boolean mayBankDocumentTypeBeBankLCExport()
        #{
        #    return this.SalesType           == SalesType::Sales
        #        && this.SalesStatus         == SalesStatus::Backorder
        #        && this.InterCompanyOrder   == NoYes::No;
        #}
      ENDSOURCE
      SOURCE #mayBankDocumentTypeBeBankLG
        #/// <summary>
        #/// Indicates whether the <c>Bank</c> document type can be set to the types of <c>Bank LG</c>.
        #/// </summary>
        #/// <returns>
        #/// true if the document type can be set to the specified types; otherwise, false.
        #/// </returns>
        #public boolean mayBankDocumentTypeBeBankLG()
        #{
        #    // It is not allowed to create LG on sales order if
        #    // the related project's bank document type is set to LG.
        #    return !(this.ProjId && ProjTable::find(this.ProjId).isMarkedForBankLG());
        #}
      ENDSOURCE
      SOURCE #mayConfirmationBeUpdated
        #boolean mayConfirmationBeUpdated()
        #{
        #    return this.type().mayConfirmationBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mayInvoice4PaymBeUpdated_RU
        #public boolean mayInvoice4PaymBeUpdated_RU()
        #{
        #    return this.type().mayInvoice4PaymBeUpdated_RU();
        #}
        #
      ENDSOURCE
      SOURCE #mayInvoiceBeUpdated
        #boolean mayInvoiceBeUpdated()
        #{
        #    return this.type().mayInvoiceBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mayPackingSlipBeUpdated
        #boolean mayPackingSlipBeUpdated()
        #{
        #    return this.type().mayPackingSlipBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mayPickingListBeRegistered
        #boolean mayPickingListBeRegistered()
        #{
        #    return this.type().mayPickingListBeRegistered();
        #}
      ENDSOURCE
      SOURCE #mayPickingListBeUpdated
        #boolean mayPickingListBeUpdated()
        #{
        #    return this.type().mayPickingListBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mayProjectPackingSlipBeUpdated
        #boolean mayProjectPackingSlipBeUpdated()
        #{
        #    return this.type().mayProjectPackingSlipBeUpdated();
        #}
      ENDSOURCE
      SOURCE #mb_allowEmail
        #public void mb_allowEmail(InventSiteId _inventSiteId)
        #{
        #    InventSite          mb_InventSite = InventSite::find(_inventSiteId);
        #    SysUserInfo         mb_sysUserInfo = SysUserInfo::find(curuserId());
        #
        #    if(mb_InventSite.mb_allowEmail == NoYes::Yes)
        #    {
        #        this.mb_emailTemplate(mb_sysUserInfo.Email);
        #    }
        #}
      ENDSOURCE
      SOURCE #mb_emailTemplate
        #public void mb_emailTemplate(Email _mb_sysEmailId)
        #{
        #    CustTable           mb_custTable;
        #    Map                 mb_mapping;
        #    SysEmailId          mb_sysEmailId;
        #    SysUserInfo         mb_sysUserInfo          = SysUserInfo::find();
        #    smmParametersTable  mb_smmParametersTable   = smmParametersTable::find();
        #    SysEmailTable       mb_sysEmailTable        = SysEmailTable::find(mb_smmParametersTable.mb_emailTemplate);
        #
        #    mb_sysEmailId   = mb_smmParametersTable.mb_emailTemplate;
        #    mb_custTable    = CustTable::find(this.CustAccount);
        #
        #    mb_mapping      = new Map(Types::String, Types::String);
        #    mb_mapping.insert('CustomerName', mb_custTable.name());
        #    mb_mapping.insert('SalesId', this.SalesId);
        #
        #    SysEmailTable::sendMail(
        #            mb_sysEmailTable.EmailId,
        #            SysEmailTable::find(mb_sysEmailTable.EmailId).DefaultLanguage,
        #            _mb_sysEmailId,
        #            mb_mapping,
        #            '',
        #            '',
        #            true,
        #            curUserId(),
        #            true);
        #}
      ENDSOURCE
      SOURCE #mb_FullRefundEmail
        #public void mb_FullRefundEmail(Email _mb_sysEmailId, CustInvoiceJour _custInvoiceJour)
        #{
        #    SysUserInfo         mb_sysUserInfo      = SysUserInfo::find();
        #    SalesParameters     mb_salesParameters  = SalesParameters::find();
        #    SysEmailTable       mb_sysEmailTable    = SysEmailTable::find(mb_salesParameters.mb_FullRefundEmail);
        #    SalesLine           mb_salesLine        = SalesLine::find(this.SalesId);
        #    CustTable           mb_custTable        = CustTable::find(this.CustAccount);
        #    utcDateTime         currentDateTime     = DateTimeUtil::getSystemDateTime();
        #    CaseDetailBase      mb_caseDetailBase   ;//= CaseDetailBase::findRec(this.RecId);
        #    Map                 mb_mapping;
        #    SysEmailId          mb_sysEmailId;
        #
        #    mb_sysEmailId   = mb_salesParameters.mb_FullRefundEmail;
        #
        #    mb_mapping      = new Map(Types::String, Types::String);
        #    mb_mapping.insert('DateTime', currentDateTime);
        #    mb_mapping.insert('CustomerName', mb_custTable.name());
        #    mb_mapping.insert('Currency', mb_custTable.Currency);
        #    mb_mapping.insert('Value', _custInvoiceJour.InvoiceAmount);
        #    mb_mapping.insert('CaseId', mb_caseDetailBase.CaseId);
        #
        #    SysEmailTable::sendMail(
        #            mb_sysEmailTable.EmailId,
        #            SysEmailTable::find(mb_sysEmailTable.EmailId).DefaultLanguage,
        #            _mb_sysEmailId,
        #            mb_mapping,
        #            '',
        #            '',
        #            true,
        #            curUserId(),
        #            true);
        #}
      ENDSOURCE
      SOURCE #mb_PartialRefundEmail
        #public void mb_PartialRefundEmail(Email _mb_sysEmailId, CustInvoiceJour _custInvoiceJour)
        #{
        #    SysUserInfo         mb_sysUserInfo      = SysUserInfo::find();
        #    SalesParameters     mb_salesParameters  = SalesParameters::find();
        #    SysEmailTable       mb_sysEmailTable    = SysEmailTable::find(mb_salesParameters.mb_PartialRefundEmail);
        #    SalesLine           mb_salesLine        = SalesLine::find(this.SalesId);
        #    CustTable           mb_custTable        = CustTable::find(this.CustAccount);
        #    MarkupTrans         mb_markupTransLine  = MarkupTrans::findValue(this.TableId, this.RecId);
        #    MarkupTrans         mb_markupTransTable = MarkupTrans::findValue(mb_salesLine.TableId, mb_salesLine.RecId);
        #    utcDateTime         currentDateTime     = DateTimeUtil::getSystemDateTime();
        #    CaseAssociation     mb_CaseAssociation  = CaseAssociation::findCaseRecId(this.RecId);
        #    CaseDetailBase      mb_caseDetailBase   = CaseDetailBase::findRec(mb_CaseAssociation.CaseRecId);
        #    Map                 mb_mapping;
        #    SysEmailId          mb_sysEmailId;
        #
        #    mb_sysEmailId   = mb_salesParameters.mb_PartialRefundEmail;
        #
        #    mb_mapping      = new Map(Types::String, Types::String);
        #    mb_mapping.insert('ChargesValue', mb_markupTransTable.Value + mb_markupTransLine.Value);
        #    mb_mapping.insert('DateTime', currentDateTime);
        #    mb_mapping.insert('CustomerName', mb_custTable.name());
        #    mb_mapping.insert('Currency', mb_custTable.Currency);
        #    mb_mapping.insert('Value', _custInvoiceJour.InvoiceAmount);
        #    mb_mapping.insert('CaseId', mb_caseDetailBase.CaseId);
        #
        #    SysEmailTable::sendMail(
        #            mb_sysEmailTable.EmailId,
        #            SysEmailTable::find(mb_sysEmailTable.EmailId).DefaultLanguage,
        #            _mb_sysEmailId,
        #            mb_mapping,
        #            '',
        #            '',
        #            true,
        #            curUserId(),
        #            true);
        #}
      ENDSOURCE
      SOURCE #mcrAllowOpenOrder
        #/// <summary>
        #/// Determines if the sales order is allowed to remain in the open order
        #/// status.
        #/// </summary>
        #/// <returns>
        #/// true if the sales order is allowed to remain in the open order status; otherwise, false.
        #/// </returns>
        #boolean mcrAllowOpenOrder()
        #{
        #    return this.type().mcrAllowOpenOrder();
        #}
      ENDSOURCE
      SOURCE #mcrAllowStatusRollback
        #/// <summary>
        #///     Validates if the sales order status can be rolled back or not.
        #/// </summary>
        #/// <returns>
        #///     true if the sales order status can be rolled back; otherwise, false.
        #/// </returns>
        #public server boolean mcrAllowStatusRollback()
        #{
        #    boolean ok = true;
        #    SalesLine salesLineLocal;
        #    MCRSalesLineDropShipment mcrSalesLineDropShipmentLocal;
        #
        #    if (this.SalesStatus != SalesStatus::Backorder)
        #    {
        #        // If the order is a return and the status is no longer open,
        #        // don't allow the user to rollback which also makes it so the modify button is disabled.
        #        if (this.SalesType == SalesType::ReturnItem)
        #        {
        #            ok = false;
        #        }
        #        else
        #        {
        #            select firstonly RecId from salesLineLocal
        #                where salesLineLocal.SalesId == this.SalesId
        #                    && salesLineLocal.SalesStatus == SalesStatus::Canceled;
        #            if (salesLineLocal)
        #            {
        #                ok = false;
        #            }
        #            else
        #            {
        #                // Allow changes as long as PO has not been released to the vendor.
        #                // If any line is a drop ship and released to the customer, do not allow rollback
        #                select firstonly RecId from salesLineLocal
        #                    where salesLineLocal.SalesId == this.SalesId
        #                        exists join mcrSalesLineDropShipmentLocal
        #                            where mcrSalesLineDropShipmentLocal.DropShipment == NoYes::Yes
        #                                && mcrSalesLineDropShipmentLocal.DropShipStatus != MCRDropShipStatus::ToBeDropShipped
        #                                && mcrSalesLineDropShipmentLocal.SalesLine == salesLineLocal.RecId;
        #                if (salesLineLocal)
        #                {
        #                    ok = false;
        #                }
        #            }
        #        }
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #mcrAnySalesLinesNegative
        #/// <summary>
        #/// Checks if any <c>SalesLine</c> records have a negative quantity.
        #/// </summary>
        #/// <returns>
        #/// true if there are any <c>SalesLine</c> records that have a negative quantity; otherwise, false.
        #/// </returns>
        #boolean mcrAnySalesLinesNegative()
        #{
        #    SalesLine salesLine;
        #    boolean   ret = false;
        #
        #    select firstonly RecId from salesLine
        #        where salesLine.SalesId == this.SalesId
        #            && salesLine.LineDeliveryType  != LineDeliveryType::OrderLineWithMultipleDeliveries
        #            && salesLine.SalesStatus       != SalesStatus::Canceled && salesLine.SalesQty          <  0;
        #
        #    if (salesLine.RecId)
        #    {
        #        ret = true;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #mcrApplyPostageDisc
        #/// <summary>
        #/// Calculates and applies any postage discounts to the postage of an order.
        #/// </summary>
        #/// <param name="_totalPostageValue">
        #/// Current value of postage for a sales order.
        #/// </param>
        #/// <param name="_orderTotal">
        #/// Total order value for a sales order.
        #/// </param>
        #/// <returns>
        #/// The amount the postage value was discounted.
        #/// </returns>
        #public AmountCur mcrApplyPostageDisc(AmountCur _totalPostageValue, AmountCur _orderTotal)
        #{
        #    AmountCur   discAmount;
        #    AmountCur   discPercent;
        #    AmountCur   discountedAmount;
        #
        #    if (_totalPostageValue)
        #    {
        #        [discAmount, discPercent] = PriceDisc::mcrFindPostageDisc(this, _orderTotal);
        #
        #        //Customization can be made to reduce postage amount by postage discount.
        #    }
        #
        #    return discountedAmount;
        #}
      ENDSOURCE
      SOURCE #mcrCheckShipComplete
        #/// <summary>
        #/// Determines whether the sales order should be shipped as a whole
        #/// </summary>
        #/// <returns>
        #/// true if the order should be shipped as a whole; otherwise, false.
        #/// </returns>
        #public boolean mcrCheckShipComplete()
        #{
        #    InventTrans         inventTrans;
        #    SalesLine           salesLine;
        #    boolean             ret = false;
        #    InventTransOrigin   inventTransOrigin;
        #    MCRSalesLine        mcrSalesLine;
        #
        #    if (!this.mcrSalesTableShipping().ShipComplete)
        #    {
        #        // If ship complete flag not on then check passes.
        #        ret = true;
        #    }
        #    else
        #    {
        #        // If there is an open quantity on any lines, the order is not going to ship complete.
        #        select firstonly RecId from inventTrans
        #            where (inventTrans.StatusIssue == StatusIssue::OnOrder
        #                || inventTrans.StatusIssue == StatusIssue::ReservOrdered)
        #            join RecId from inventTransOrigin
        #            join RecId from salesLine
        #            where inventTrans.InventTransOrigin == inventTransOrigin.RecId
        #                && inventTransOrigin.InventTransId == salesLine.InventTransId
        #                && salesLine.SalesId == this.SalesId
        #                && salesLine.LineDeliveryType != LineDeliveryType::OrderLineWithMultipleDeliveries
        #            outer join RecId from mcrSalesLine
        #            where mcrSalesLine.SalesLine == salesLine.RecId
        #                && !mcrSalesLine.ContinuityScheduleId;
        #
        #        if (!inventTrans.RecId)
        #        {
        #            ret = true;
        #        }
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #mcrCreateExchangeHeader
        #/// <summary>
        #/// Creates an exchange sales order.
        #/// </summary>
        #/// <param name="_salesTableOriginal">
        #/// The original <c>SalesTable</c> record for which this method is creating an exchange; optional.
        #/// </param>
        #/// <param name="_salesParameters">
        #/// The <c>SalesParameters</c> record used in the creation of the exchange order.
        #/// </param>
        #/// <returns>
        #/// The newly created <c>SalesTable</c> record for the exchange order.
        #/// </returns>
        #public SalesTable mcrCreateExchangeHeader(SalesTable _salesTableOriginal = null, SalesParameters _salesParameters = null)
        #{
        #    NumberSeq           numberSeq;
        #    SalesTable          salesTableCopy;
        #    SalesTable          salesTableExchange;
        #    SalesTable          salesTableOriginal;
        #    SalesParameters     salesParameters;
        #    SalesTableLinks     salesTableLinks;
        #    MCROrderParameters  mcrOrderParameters = MCROrderParameters::find();
        #    Catalog             catalog;
        #    MCRReturnSalesTable mcrReturnSalesTable;
        #    MCRReturnSalesTable mcrReturnSalesTableLocal;
        #    MCRSalesTable       mcrSalesTable, mcrSalesTableOriginal;
        #
        #    if (this.ReturnReplacementId)
        #    {
        #        return this.mcrSalesTableExchange();
        #    }
        #
        #    try
        #    {
        #        ttsbegin;
        #
        #        if (_salesTableOriginal)
        #        {
        #            salesTableOriginal = _salesTableOriginal;
        #        }
        #        else
        #        {
        #            salesTableOriginal = this.mcrSalesTableOriginal();
        #        }
        #
        #        if (_salesParameters)
        #        {
        #            salesParameters = _salesParameters;
        #        }
        #        else
        #        {
        #            salesParameters = SalesParameters::find();
        #        }
        #
        #        // load exchange header.
        #        numberSeq = NumberSeq::newGetNum(SalesParameters::numRefSalesId(), false, true);
        #        mcrSalesTable = salesTableExchange.mcrSalesTable();
        #        mcrSalesTableOriginal = salesTableOriginal.mcrSalesTable();
        #        salesTableExchange.SalesId = numberSeq.num();
        #        salesTableExchange.SalesType = SalesType::Sales;
        #        salesTableExchange.SalesStatus = SalesStatus::Backorder;
        #
        #        if (mcrOrderParameters.mcrExchangeSourceCode == MCRExchangeSourceCode::Original)
        #        {
        #            mcrSalesTable.SourceId = mcrSalesTableOriginal.SourceId;
        #
        #            // If the original source code is not valid, use the default one specified in sales parameters.
        #            catalog = Catalog::find(MCRSourceCodeSetup::find(mcrSalesTable.SourceId).Catalog);
        #
        #            if (!mcrOrderParameters.mcrAllowExpiredSourceCode
        #                && (catalog.ValidFrom > systemDateGet()
        #                || catalog.ValidTo < systemDateGet()) )
        #            {
        #                mcrSalesTable.SourceId = mcrOrderParameters.mcrDefaultExchangeSourceID;
        #            }
        #        }
        #        else if (mcrOrderParameters.mcrExchangeSourceCode == MCRExchangeSourceCode::DefaultSourceCode)
        #        {
        #            mcrSalesTable.SourceId = mcrOrderParameters.mcrDefaultExchangeSourceID;
        #        }
        #
        #        // Default to the original sales order.
        #        salesTableExchange.DlvMode = salesTableOriginal.DlvMode;
        #
        #        salesTableExchange.CustAccount = this.CustAccount;
        #        salesTableExchange.initFromCustTable();
        #
        #        if (salesTableOriginal.InvoiceAccount)
        #        {
        #            salesTableExchange.InvoiceAccount = salesTableOriginal.InvoiceAccount;
        #        }
        #        mcrReturnSalesTable = salesTableExchange.mcrReturnSalesTable();
        #        mcrReturnSalesTable.IsExchange = NoYes::Yes;
        #        salesTableExchange.mcrPackMCRReturnSalesTable(mcrReturnSalesTable);
        #        SalesCalcAvailableDlvDates::initDateFields(salesTableExchange);
        #
        #        salesTableExchange.SmmCampaignId = salesTableOriginal.SmmCampaignId;
        #        salesTableExchange.ContactPersonId = salesTableOriginal.ContactPersonId;
        #        mcrSalesTable.SmmTMCallListId = mcrSalesTableOriginal.SmmTMCallListId;
        #        salesTableExchange.mcrPackMCRSalesTable(mcrSalesTable);
        #
        #        // Default to the original sales order.
        #        if (salesTableOriginal.DlvMode)
        #        {
        #            salesTableExchange.DlvMode = salesTableOriginal.DlvMode;
        #        }
        #
        #        if (salesTableExchange.validateWrite())
        #        {
        #            salesTableExchange.insert();
        #
        #            // Link exchange order to return.
        #            salesTableCopy.data(this);
        #            this.selectForUpdate(true);
        #            this.reread();
        #            this.data(salesTableCopy);
        #            this.ReturnReplacementId = salesTableExchange.SalesId;
        #            this.ReturnReplacementCreated = NoYes::Yes;
        #
        #            if (RetailMCRChannelTable::mcrEnableOrderCompletion(_salesTableOriginal))
        #            {
        #                mcrReturnSalesTableLocal = this.mcrReturnSalesTable();
        #                mcrReturnSalesTableLocal.ApplyCreditToExchange = NoYes::Yes;
        #                mcrReturnSalesTableLocal.AdvanceExchange = MCRAdvanceExchange::DoNotRelease;
        #                mcrReturnSalesTableLocal.AdvanceCredit = NoYes::No;
        #                this.mcrPackMCRReturnSalesTable(mcrReturnSalesTableLocal);
        #            }
        #            this.doUpdate();
        #
        #            if (this.ReturnReplacementId)
        #            {
        #                salesTableLinks.MainSalesId = this.mcrReturnSalesTable().OriginalSalesId;
        #                salesTableLinks.SubSalesId = this.ReturnReplacementId;
        #
        #                if (salesTableLinks.validateWrite())
        #                {
        #                    salesTableLinks.insert();
        #                }
        #                else
        #                {
        #                    throw error("@SYS104318");
        #                }
        #            }
        #        }
        #
        #        ttscommit;
        #    }
        #    catch (Exception::Deadlock)
        #    {
        #        retry;
        #    }
        #    catch (Exception::Error)
        #    {
        #        ttsabort;
        #        throw error("@SYS93835");
        #    }
        #
        #    return salesTableExchange;
        #}
      ENDSOURCE
      SOURCE #mcrDeliveryInfo
        #/// <summary>
        #/// Gets the customer's default delivery address.
        #/// </summary>
        #/// <returns>
        #/// The delivery information for the customer's default delivery address.
        #/// </returns>
        #public display MCRString100 mcrDeliveryInfo()
        #{
        #    str deliveryInfo;
        #
        #    if (this.DeliveryName)
        #    {
        #        deliveryInfo = this.DeliveryName;
        #    }
        #    if (this.deliveryAddress())
        #    {
        #       deliveryInfo = deliveryInfo + '\n' + this.deliveryAddress().Address + " ";
        #    }
        #    return deliveryInfo;
        #}
      ENDSOURCE
      SOURCE #mcrDisplayCustCreditMax
        #/// <summary>
        #/// Displays the maximum credit allowed for the specified customer.
        #/// </summary>
        #/// <returns>
        #/// The maximum credit allowed for the specified customer.
        #/// </returns>
        #public display CustCreditMaxMST mcrDisplayCustCreditMax()
        #{
        #    return CustTable::find(this.CustAccount).CreditMax;
        #}
      ENDSOURCE
      SOURCE #mcrDisplayDeliveryName
        #/// <summary>
        #///  Displays the delivery name from the <c>SalesTable</c> unless the order lines
        #///  ship to a different address.
        #/// </summary>
        #/// <returns>
        #/// The delivery name on the <c>SalesTable</c> if the order lines have the same ship to address;
        #/// otherwise, a message saying to check the line delivery information.
        #/// </returns>
        #public display CustName mcrDisplayDeliveryName()
        #{
        #    if (this.mcrLineHasDifferentAddress())
        #    {
        #        return "@MCR12684";
        #    }
        #    else
        #    {
        #        return this.DeliveryName;
        #    }
        #
        #}
        #
      ENDSOURCE
      SOURCE #mcrDisplayLastShipDate
        #/// <summary>
        #/// Displays the last date something was shipped on the order.
        #/// </summary>
        #/// <returns>
        #/// The last date something was shipped on the order.
        #/// </returns>
        #public display TransDate mcrDisplayLastShipDate()
        #{
        #    CustPackingSlipJour custPackingSlipJour;
        #    TransDate           dateCreated = dateNull();
        #
        #    select maxof(CreatedDateTime) from custPackingSlipJour
        #        where   custPackingSlipJour.RefNum == RefNum::SalesOrder
        #            && custPackingSlipJour.SalesId == this.SalesId;
        #
        #    if (custPackingSlipJour)
        #    {
        #        dateCreated = DateTimeUtil::date(custPackingSlipJour.CreatedDateTime);
        #    }
        #    return dateCreated;
        #}
      ENDSOURCE
      SOURCE #mcrDisplayMiscChargesTotal
        #/// <summary>
        #/// Displays the total amount of miscellaneous charges.
        #/// </summary>
        #/// <returns>
        #/// The total amount of miscellaneous charges.
        #/// </returns>
        #public display MarkupSumSales mcrDisplayMiscChargesTotal()
        #{
        #    MCRSalesOrderTotals  mcrSalesOrderTotals;
        #
        #    mcrSalesOrderTotals = new MCRSalesOrderTotals(this);
        #
        #    return mcrSalesOrderTotals.getTotalMarkup();
        #}
      ENDSOURCE
      SOURCE #mcrDisplayOnHold
        #/// <summary>
        #/// Displays the image for a held order.
        #/// </summary>
        #/// <returns>
        #/// The image for a held order.
        #/// </returns>
        #[SysClientCacheDataMethodAttribute(true)]
        #public display MCRResourceNum mcrDisplayOnHold()
        #{
        #    #MCRresAppl
        #    int image = 0;
        #
        #    if (this.mcrOrderStopped
        #        && MCRHoldCodeTrans::findActiveOrderHolds(this.SalesId))
        #    {
        #        image = #MCRImage_OnHold;
        #    }
        #    return image;
        #}
        #
      ENDSOURCE
      SOURCE #mcrDisplayOrderNotes
        #/// <summary>
        #/// Collects all of the order notes into one string and display them.
        #/// </summary>
        #/// <returns>
        #/// A string of all of the order notes.
        #/// </returns>
        #public display Notes mcrDisplayOrderNotes()
        #{
        #    DocuRef             docuRef;
        #    MCROrderParameters  mcrOrderParameters;
        #    TextBuffer          textBuffer = new TextBuffer();
        #    SelectableDataArea  refCompanyID = curext();
        #    TransDate           dateCreated;
        #    SalesParameters     salesParameters = SalesParameters::find();
        #
        #    mcrOrderParameters = MCROrderParameters::find();
        #
        #    // Don't show fraud or hold code notes because these are shown on other tabs.
        #    while select docuRef order by RecId desc
        #        where   docuRef.RefCompanyId == refCompanyID
        #            && docuRef.RefTableId == tableNum(SalesTable)
        #            && docuRef.RefRecId == this.RecId
        #            && docuRef.TypeId != salesParameters.mcrHoldCodeNoteType
        #            && docuRef.TypeId != mcrOrderParameters.mcrFraudCommentTypeId
        #    {
        #        textBuffer.appendText("@MCR28844");
        #        textBuffer.appendText(' ');
        #        textBuffer.appendText(docuRef.CreatedBy);
        #        textBuffer.appendText(' ');
        #        textBuffer.appendText("@MCR31247");
        #        textBuffer.appendText(' ');
        #        dateCreated = DateTimeUtil::date(docuRef.CreatedDateTime);
        #        textBuffer.appendText(date2StrUsr(dateCreated, DateFlags::FormatAll));
        #        textBuffer.appendText(' ');
        #        textBuffer.appendText("@SYS77038");
        #        textBuffer.appendText(' ');
        #        textBuffer.appendText(docuRef.Notes);
        #        textBuffer.appendText('\n\n');
        #    }
        #    return textBuffer.getText();
        #}
      ENDSOURCE
      SOURCE #mcrDisplayOrderTotal
        #/// <summary>
        #/// Displays the total amount of the sales order.
        #/// </summary>
        #/// <returns>
        #/// The total amount of the sales order.
        #/// </returns>
        #public display AmountCur mcrDisplayOrderTotal()
        #{
        #    MCRSalesOrderTotals  mcrSalesOrderTotals;
        #
        #    if (this.RecId)
        #    {
        #        mcrSalesOrderTotals = new MCRSalesOrderTotals(this);
        #        return mcrSalesOrderTotals.getTotalOrder();
        #    }
        #    else
        #    {
        #        return 0;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrDisplayOrderTotalLessTax
        #/// <summary>
        #///  Gets the order total less tax.
        #/// </summary>
        #/// <returns>
        #/// The order total less tax.
        #/// </returns>
        #public display AmountCur mcrDisplayOrderTotalLessTax()
        #{
        #    MCRSalesOrderTotals     mcrSalesOrderTotals;
        #    AmountCur               totalWithoutTax;
        #
        #    mcrSalesOrderTotals = new MCRSalesOrderTotals(this);
        #    totalWithoutTax = mcrSalesOrderTotals.getTotalOrder() - mcrSalesOrderTotals.getTotalTax();
        #
        #    return totalWithoutTax;
        #}
      ENDSOURCE
      SOURCE #mcrDisplayOverallOldestOverUnderpaidDate
        #/// <summary>
        #/// Gets the oldest order payment created date that is over the customers credit limit.
        #/// </summary>
        #/// <returns>
        #/// The oldest order payment created date that is over the customers credit limit.
        #/// </returns>
        #public display TransDate mcrDisplayOverallOldestOverUnderpaidDate()
        #{
        #    MCRCustPaymTable    mcrCustPaymTable;
        #    TransDate           dateCreated = dateNull();
        #
        #    select minof(CreatedDateTime) from mcrCustPaymTable
        #        where (mcrCustPaymTable.Status == MCRCustPaymStatus::NotSubmitted);
        #
        #    if (mcrCustPaymTable)
        #    {
        #        dateCreated = DateTimeUtil::date(mcrCustPaymTable.CreatedDateTime);
        #    }
        #    return dateCreated;
        #}
      ENDSOURCE
      SOURCE #mcrDisplayOverallTotalOrders
        #/// <summary>
        #/// Gets the number of orders in the <c>MCRCustPaymTable</c> that are
        #/// over the customers credit limit.
        #/// </summary>
        #/// <returns>
        #/// The number of orders in the <c>MCRCustPaymTable</c> that are
        #/// over the customers credit limit.
        #/// </returns>
        #public display Integer mcrDisplayOverallTotalOrders()
        #{
        #    MCRCustPaymTable mcrCustPaymTable;
        #
        #    select count(RecId) from mcrCustPaymTable
        #        where (mcrCustPaymTable.Status == MCRCustPaymStatus::NotSubmitted);
        #
        #    return (any2int(mcrCustPaymTable.RecId));
        #}
      ENDSOURCE
      SOURCE #mcrDisplayPhone
        #/// <summary>
        #/// Displays the phone contact information of the customer on the sales order.
        #/// </summary>
        #/// <returns>
        #/// The phone contact information of the customer on the sales order.
        #/// </returns>
        #public display LogisticsElectronicAddressLocator mcrDisplayPhone()
        #{
        #    LogisticsLocation           logisticsLocation;
        #    LogisticsElectronicAddress  logisticsElectronicAddress;
        #
        #    select firstonly RecId, ParentLocation from logisticsLocation
        #        where logisticsLocation.ParentLocation == this.deliveryAddress().Location
        #    join Locator, Location, Type from logisticsElectronicAddress
        #        where logisticsElectronicAddress.Location == logisticsLocation.RecId
        #        && logisticsElectronicAddress.Type == LogisticsElectronicAddressMethodType::Phone;
        #
        #    return logisticsElectronicAddress.Locator;
        #}
      ENDSOURCE
      SOURCE #mcrDisplayProductTotal
        #/// <summary>
        #/// Displays the total amount of the product.
        #/// </summary>
        #/// <returns>
        #/// The total amount of the product.
        #/// </returns>
        #public display AmountCur mcrDisplayProductTotal()
        #{
        #    MCRSalesOrderTotals  mcrSalesOrderTotals;
        #
        #    mcrSalesOrderTotals = new MCRSalesOrderTotals(this);
        #
        #    return mcrSalesOrderTotals.getTotalProduct();
        #}
      ENDSOURCE
      SOURCE #mcrDisplayTaxTotal
        #/// <summary>
        #/// Displays the total tax amount for the sales order.
        #/// </summary>
        #/// <returns>
        #/// The total tax amount for the sales order.
        #/// </returns>
        #public display TaxAmountCur mcrDisplayTaxTotal()
        #{
        #    MCRSalesOrderTotals  mcrSalesOrderTotals;
        #
        #    mcrSalesOrderTotals = new MCRSalesOrderTotals(this);
        #
        #    return mcrSalesOrderTotals.getTotalTax();
        #}
      ENDSOURCE
      SOURCE #mcrDisplayTender
        #/// <summary>
        #/// Returns the tender type being used to pay for the order.
        #/// </summary>
        #/// <returns>
        #/// If only one payment then the tender used to pay for the order;
        #///     otherwise; a label indicating multiple.
        #/// </returns>
        #public display RetailTenderTypeId mcrDisplayTender()
        #{
        #    MCRCustPaymTable    mcrCustPaymTable;
        #    PaymMode            paymMethod;
        #
        #    while select TenderTypeId from mcrCustPaymTable
        #        where mcrCustPaymTable.RefTableId == this.TableId
        #        && mcrCustPaymTable.RefRecId == this.RecId
        #        && mcrCustPaymTable.Amount != 0
        #    {
        #        if (paymMethod)
        #        {
        #            return "@SYS78137";
        #        }
        #
        #        paymMethod = mcrCustPaymTable.TenderTypeId;
        #    }
        #
        #    return paymMethod;
        #}
      ENDSOURCE
      SOURCE #mcrDisplayTotalDisc
        #/// <summary>
        #/// Displays the total ending discount amount for the sales order.
        #/// </summary>
        #/// <returns>
        #/// The total ending discount amount for the sales order.
        #/// </returns>
        #public display SalesEndDiscAmount mcrDisplayTotalDisc()
        #{
        #    MCRSalesOrderTotals  mcrSalesOrderTotals;
        #
        #    mcrSalesOrderTotals = new MCRSalesOrderTotals(this);
        #
        #    return mcrSalesOrderTotals.getTotalDisc();
        #}
      ENDSOURCE
      SOURCE #mcrDlvModeModified
        #/// <summary>
        #/// Defaults the <c>MCRExpedite</c> flag based on the delivery mode.
        #/// </summary>
        #void mcrDlvModeModified()
        #{
        #    MCRExpedite             mcrExpedite;
        #    MCRSalesTableShipping   mcrSalesTableShipping = this.mcrSalesTableShipping();
        #
        #    mcrExpedite = DlvMode::find(this.DlvMode).mcrExpedite;
        #
        #    if (mcrSalesTableShipping.Expedite != mcrExpedite)
        #    {
        #        mcrSalesTableShipping.Expedite = mcrExpedite;
        #        this.mcrPackMCRSalesTableShipping(mcrSalesTableShipping);
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrEvalSalesOrderType
        #/// <summary>
        #/// Evaluates the sales order type.
        #/// </summary>
        #/// <returns>
        #/// The sales order type.
        #/// </returns>
        #/// <remarks>
        #/// A sales order based on the current MCR functionality can be of a few different types.
        #/// Regular order, that has custpaym record tie to the sales order.
        #/// Installment only  that has custpaymrecord tied custpaymsched lines and may or may not have
        #///  a record that needs to be authorized.
        #/// Continuity only that has a custpaym record tied to the continuity cust header and may or may not
        #///  a record that needs to be authorized.
        #/// Regular order and installment.If the installment has a record that needs to be authorized
        #/// Regular order and continuity.
        #/// Regular order, installment and continuity.
        #/// </remarks>
        #MCRSalesOrderType mcrEvalSalesOrderType()
        #{
        #    MCRSalesOrderTotals             mcrSalesOrderTotals;
        #    MCRSalesOrderType               mcrSalesOrderType;
        #    AmountCur                       totalOrderAmount;
        #    AmountCur                       totalOnInstallment;
        #    AmountCur                       totalContinuityAmt;
        #    AmountCur                       installmentTotal;
        #    AmountCur                       remainingOrder;
        #    AmountCur                       invoicedOrder;
        #    MCRCustPaymTable                mcrCustPaymTable;
        #    MCRSalesTable                   mcrSalesTable;
        #    boolean                         installmentExist;
        #
        #    if (this.mcrIsCallCenter())
        #    {
        #        mcrSalesTable = this.mcrSalesTable();
        #
        #        // Retrieve the custpaymtable record to ensure that some part of the order
        #        // was paid down before deciding that this order is an order and an installment.
        #        select firstonly mcrCustPaymTable
        #            where mcrCustPaymTable.RefTableId == tableNum(SalesTable)
        #            && mcrCustPaymTable.RefRecId == this.RecId
        #            && mcrCustPaymTable.Amount > 0;
        #
        #        mcrSalesOrderTotals = new MCRSalesOrderTotals(this);
        #
        #        // Assign all totals buckets from salesordertotals
        #        totalOrderAmount = mcrSalesOrderTotals.getTotalOrder();
        #        remainingOrder = mcrSalesOrderTotals.getRemainingOrder();
        #        invoicedOrder = mcrSalesOrderTotals.getInvoicedOrder();
        #
        #        if (invoicedOrder != 0)
        #        {
        #            totalOrderAmount = remainingOrder+invoicedOrder;
        #        }
        #        totalContinuityAmt = mcrSalesOrderTotals.getContinuityPayNow();
        #        totalOnInstallment = mcrSalesOrderTotals.getInstallmentEligibleRemaining();
        #        // Assign totals bucket from the installment totals if applicable.
        #        installmentTotal = mcrSalesOrderTotals.getInstallmentEligibleTotal();
        #
        #        installmentExist = MCRInstallmentPlanSalesTable::existSalesId(this.SalesId);
        #        if (!mcrSalesTable.ContinuityOrder
        #            && !installmentExist)
        #        {
        #            mcrSalesOrderType = MCRSalesOrderType::RegularOrder;
        #        }
        #        else if (mcrSalesTable.ContinuityOrder
        #            && !installmentExist)
        #        {
        #            // Determine if this is a continuity order and a regular order or
        #            // just a continuity order.
        #            if ((totalOrderAmount - totalContinuityAmt) == 0)
        #            {
        #                mcrSalesOrderType = MCRSalesOrderType::Continuityonly;
        #            }
        #            else
        #            {
        #                mcrSalesOrderType = MCRSalesOrderType::OrderAndContinuity;
        #            }
        #        }
        #        else if (!mcrSalesTable.ContinuityOrder
        #            && installmentExist)
        #        {
        #            // Set the sales order type to installment only unless
        #            // we determine otherwise.
        #            mcrSalesOrderType = MCRSalesOrderType::InstallmentOnly;
        #
        #            // For installments not only the sales order totals but the installment
        #            // totals also needs to be considered.
        #            if (installmentTotal == 0)
        #            {
        #                if (totalOrderAmount - totalOnInstallment == 0)
        #                {
        #                    mcrSalesOrderType = MCRSalesOrderType::InstallmentOnly;
        #                }
        #                else
        #                {
        #                    if (mcrCustPaymTable)
        #                    {
        #                        mcrSalesOrderType = MCRSalesOrderType::OrderAndInstallment;
        #                    }
        #                }
        #            }
        #            else
        #            {
        #                if (totalOrderAmount == installmentTotal)
        #                {
        #                    mcrSalesOrderType = MCRSalesOrderType::InstallmentOnly;
        #                }
        #                else
        #                {
        #                    if (mcrCustPaymTable)
        #                    {
        #                        mcrSalesOrderType = MCRSalesOrderType::OrderAndInstallment;
        #                    }
        #                }
        #            }
        #        }
        #        else if (mcrSalesTable.ContinuityOrder
        #            && installmentExist)
        #        {
        #            mcrSalesOrderType = MCRSalesOrderType::MixedOrder;
        #        }
        #    }
        #
        #    return mcrSalesOrderType;
        #}
      ENDSOURCE
      SOURCE #mcrExistNonOnAccountPaym
        #/// <summary>
        #/// Validates whether payments with types other than on account exist for the
        #/// sales order.
        #/// </summary>
        #/// <returns>
        #/// true if payments with types other than on account exist for the sales order;
        #/// otherwise, false.
        #/// </returns>
        #boolean mcrExistNonOnAccountPaym()
        #{
        #    MCRCustPaymTable    mcrCustPaymTable;
        #    boolean             nonOnAccountPaymentsExist = false;
        #
        #    select firstonly RecId from mcrCustPaymTable
        #        where mcrCustPaymTable.RefTableId == tableNum(SalesTable)
        #            && mcrCustPaymTable.RefRecId == this.RecId
        #            && mcrCustPaymTable.CustPaymType != MCRCustPaymType::OnAccount;
        #
        #        if (mcrCustPaymTable.RecId)
        #        {
        #            nonOnAccountPaymentsExist = true;
        #        }
        #
        #    return nonOnAccountPaymentsExist;
        #}
      ENDSOURCE
      SOURCE #mcrExistOpenReturn
        #/// <summary>
        #/// Determines whether an open return order exists for this sales order.
        #/// </summary>
        #/// <returns>
        #/// true if a return order exists; otherwise, false.
        #/// </returns>
        #public boolean mcrExistOpenReturn()
        #{
        #    SalesTable salesTable;
        #    MCRReturnSalesTable mcrReturnSalesTable;
        #
        #    select firstonly RecId from salesTable
        #        where salesTable.ReturnStatus == ReturnStatusHeader::Open
        #        exists join mcrReturnSalesTable
        #        where mcrReturnSalesTable.SalesTable == salesTable.RecId
        #            && mcrReturnSalesTable.OriginalSalesId == this.SalesId;
        #
        #    if (salesTable.RecId)
        #    {
        #        return true;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrFraudHold
        #/// <summary>
        #/// Validates whether the order has a fraud hold or not.
        #/// </summary>
        #/// <param name="_clearedHolds">
        #/// A <c>Boolean</c> value defining whether the method will check for cleared holds on the order.
        #/// </param>
        #/// <param name="_isNowOnHold">
        #/// A <c>Boolean</c> value defining whether the method will check to see if
        #/// the order is currently on hold; optional.
        #/// </param>
        #/// <returns>
        #/// A <c>Boolean</c> value defining whether the order has or has had fraud holds,
        #/// based on the passed parameters.
        #/// </returns>
        #/// <remarks>
        #/// Parameter is whether or not you want to only check cleared holds.
        #/// If <c>_clearedHolds</c> equals true:  returns true if order has fraud hold codes and has been cleared. else false
        #/// If <c>_clearedHolds</c> equals false: returns true if an order has ever had fraud hold codes. else false
        #/// If <c>_IsNowOnHold</c> equals true: returns true if an order is now on hold and hasn't been cleared yet.
        #/// </remarks>
        #boolean mcrFraudHold(boolean _clearedHolds, boolean _isNowOnHold = false)
        #{
        #    MCRHoldCodeTrans    mcrHoldCodeTrans;
        #    MCROrderParameters  mcrOrderParameters;
        #    boolean             ret = false;
        #
        #    // Go through the hold codes looking for hold codes that are fraud holds.
        #    mcrOrderParameters = MCROrderParameters::find();
        #
        #    while select mcrHoldCode, mcrCleared from mcrHoldCodeTrans
        #        where mcrHoldCodeTrans.InventRefId == this.SalesId
        #        && (mcrHoldCodeTrans.mcrHoldCode == mcrOrderParameters.mcrFraudHoldCode
        #        || mcrHoldCodeTrans.mcrHoldCode == mcrOrderParameters.mcrFraudManualHoldCode)
        #    {
        #        // If on hold but not cleared yet.
        #        if (_isNowOnHold == true)
        #        {
        #            if (mcrHoldCodeTrans.mcrCleared == NoYes::No)
        #            ret = true;
        #            break;
        #        }
        #        else
        #        {
        #
        #            if (_clearedHolds)
        #            {
        #                // If on hold but cleared
        #                if (mcrHoldCodeTrans.mcrCleared == NoYes::Yes)
        #                {
        #                    ret = true;
        #                    break;
        #                }
        #            }
        #            else
        #            {
        #                // If order has ever been on hold.
        #                ret = true;
        #                break;
        #            }
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #mcrGetDeclinedCCAuthRecords
        #/// <summary>
        #/// Builds a query to gather a list of declined credit card authorization
        #/// records attached to this sales order's payment records.
        #/// </summary>
        #/// <returns>
        #/// The <c>CustPaymTable</c> query that was built.
        #/// </returns>
        #Query mcrGetDeclinedCCAuthRecords()
        #{
        #    Query query = new Query();
        #    QueryBuildDataSource qbdsCustPaymTable, qbdsCCAuthTable;
        #
        #    qbdsCustPaymTable = query.addDataSource(tableNum(MCRCustPaymTable));
        #
        #    qbdsCustPaymTable.addRange(fieldNum(MCRCustPaymTable, RefTableId)).value(
        #                                queryValue(this.TableId));
        #    qbdsCustPaymTable.addRange(fieldNum(MCRCustPaymTable, RefRecId)).value(
        #                                queryValue(this.RecId));
        #    qbdsCustPaymTable.addRange(fieldNum(MCRCustPaymTable, CustPaymType)).value(
        #                                queryValue(MCRCustPaymType::CreditCard));
        #    qbdsCustPaymTable.addRange(fieldNum(MCRCustPaymTable, CustPaymType)).value(
        #                                queryValue(MCRCustPaymStatus::Declined));
        #
        #    qbdsCCAuthTable = qbdsCustPaymTable.addDataSource(tableNum(CreditCardAuthTrans));
        #    qbdsCCAuthTable.addLink(fieldNum(MCRCustPaymTable, RecId), fieldNum(CreditCardAuthTrans, mcrPaymRecId));
        #    qbdsCCAuthTable.addRange(fieldNum(CreditCardAuthTrans, ProcessorStatus)).value(
        #                                queryValue(CreditCardProcessorStatus::Declined));
        #
        #    return query;
        #}
      ENDSOURCE
      SOURCE #mcrGetDeliveryAddresses
        #/// <summary>
        #/// Builds a query which will get all the unique delivery addresses used on all <c>SalesLine</c> records
        #/// on this order.
        #/// </summary>
        #/// <returns>
        #/// The <c>SalesLine</c> query for delivery addresses.
        #/// </returns>
        #Query mcrGetDeliveryAddresses()
        #{
        #    Query query = new Query();
        #    QueryBuildDataSource qbdsSalesLine;
        #
        #    qbdsSalesLine = query.addDataSource(tableNum(SalesLine));
        #
        #    qbdsSalesLine.addRange(fieldNum(SalesLine, SalesId)).value(this.SalesId);
        #
        #    qbdsSalesLine.addRange(fieldNum(SalesLine, LineDeliveryType)).
        #        value(SysQuery::valueNot(LineDeliveryType::OrderLineWithMultipleDeliveries));
        #
        #    qbdsSalesLine.orderMode(OrderMode::GroupBy);
        #
        #    qbdsSalesLine.addSortField(fieldNum(SalesLine, DeliveryName));
        #
        #    return query;
        #}
      ENDSOURCE
      SOURCE #mcrGetNumExpeditedLines
        #/// <summary>
        #/// Gets the count of expedited lines on this sales order.
        #/// </summary>
        #/// <returns>
        #/// The count of expedited lines on this sales order.
        #/// </returns>
        #public int64 mcrGetNumExpeditedLines()
        #{
        #    SalesLine               salesLine;
        #    MCRSalesLine            mcrSalesLine;
        #
        #    select count(RecId) from salesLine
        #        where salesLine.SalesId == this.SalesId
        #        exists join mcrSalesLine
        #        where mcrSalesLine.SalesLine == salesLine.RecId
        #            && mcrSalesLine.Expedite;
        #
        #    return salesLine.RecId;
        #}
      ENDSOURCE
      SOURCE #mcrGetPaymStatus
        #/// <summary>
        #/// Calculates and returns the overall payment status for the sales order.
        #/// </summary>
        #/// <returns>
        #/// The overall payment status for the sales order.
        #/// </returns>
        #public display MCRCustPaymStatus mcrGetPaymStatus()
        #{
        #    MCRCustPaymStatus mcrCustPaymStatus = MCRCustPaymStatus::NotSubmitted;
        #    MCRCustPaymTotals mcrCustPaymTotals;
        #    MCRSalesTable     mcrSalesTable;
        #
        #    mcrCustPaymTotals = MCRCustPaymTotals::construct(this.TableId, this.RecId);
        #
        #    if (mcrCustPaymTotals)
        #    {
        #        mcrCustPaymStatus = mcrCustPaymTotals.getOverallPaymStatus();
        #        mcrSalesTable = MCRSalesTable::find(this.RecId);
        #        if (mcrSalesTable.ContinuityOrder
        #            && mcrSalesTable.ContinuityLineEval == MCRContinuityLineEval::PayAllLater
        #            && this.SalesStatus != SalesStatus::Canceled
        #            && mcrCustPaymStatus == MCRCustPaymStatus::NotSubmitted
        #            && mcrCustPaymTotals.existPaym())
        #        {
        #            return MCRCustPaymStatus::Authorized;
        #        }
        #    }
        #
        #    return mcrCustPaymStatus;
        #}
      ENDSOURCE
      SOURCE #mcrGetTotalPaymAmount
        #/// <summary>
        #/// Calculates and returns the sum of payment amounts for this sales order.
        #/// </summary>
        #/// <returns>
        #/// The sum of payment amounts for this sales order.
        #/// </returns>
        #public display Amount mcrGetTotalPaymAmount()
        #{
        #    MCRCustPaymTotals mcrCustPaymTotals;
        #
        #    mcrCustPaymTotals = MCRCustPaymTotals::construct(this.TableId, this.RecId);
        #
        #    if (mcrCustPaymTotals)
        #    {
        #        return mcrCustPaymTotals.getTotalPaymAmount();
        #    }
        #    else
        #    {
        #        return 0.0;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrHasExpeditedLines
        #/// <summary>
        #/// Indicates whether the order has one or more <c>SalesLine</c> records marked as expedited.
        #/// </summary>
        #/// <returns>
        #/// true if the order has one or more <c>SalesLine</c> records marked as expedited;
        #/// otherwise, false.
        #/// </returns>
        #display public MCRExpeditedOrder mcrHasExpeditedLines()
        #{
        #    SalesLine       salesLine;
        #    MCRSalesLine    mcrSalesLine;
        #
        #    select firstonly RecId from salesLine
        #        where salesLine.SalesId == this.SalesId
        #        exists join mcrSalesLine
        #        where mcrSalesLine.SalesLine == salesLine.RecId
        #            && mcrSalesLine.Expedite;
        #
        #    return (salesLine.RecId ? NoYes::Yes: NoYes::No);
        #}
      ENDSOURCE
      SOURCE #mcrHasMultipleCCPayments
        #/// <summary>
        #/// Gets the number of credit card payments associated with this order.
        #/// </summary>
        #/// <returns>
        #/// The number of credit card payments associated with this order.
        #/// </returns>
        #public display Integer mcrHasMultipleCCPayments()
        #{
        #    MCRCustPaymTable mcrCustPaymTable;
        #
        #    select count(RecId) from mcrCustPaymTable
        #        where mcrCustPaymTable.RefRecId == this.RecId
        #            && mcrCustPaymTable.RefTableId == this.TableId
        #            && mcrCustPaymTable.CustPaymType == MCRCustPaymType::CreditCard;
        #
        #    return (any2int(mcrCustPaymTable.RecId));
        #}
      ENDSOURCE
      SOURCE #mcrHasReturn
        #/// <summary>
        #/// Determines whether the sales order has a return order associated with it.
        #/// </summary>
        #/// <returns>
        #/// true if the sales order has a return order associated with it; otherwise, false.
        #/// </returns>
        #public boolean mcrHasReturn()
        #{
        #    SalesTable          salesTableReturn;
        #    MCRReturnSalesTable mcrReturnSalesTable;
        #
        #    if (this.SalesId)
        #    {
        #        select firstonly salesTableReturn
        #            exists join mcrReturnSalesTable
        #            where mcrReturnSalesTable.SalesTable == salesTableReturn.RecId
        #                && mcrReturnSalesTable.OriginalSalesId == this.SalesId;
        #    }
        #
        #    if (salesTableReturn)
        #    {
        #        return true;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrHasShipped
        #/// <summary>
        #/// Checks if any part of the order has shipped.
        #/// </summary>
        #/// <returns>
        #/// true if any part of the order has shipped; otherwise, false.
        #/// </returns>
        #boolean mcrHasShipped()
        #{
        #    SalesLine           salesLine;
        #    InventTrans         inventTrans;
        #    boolean             hasShipped;
        #    InventTransOrigin   inventTransOrigin;
        #
        #     select firstonly RecId, InventTransId from salesLine
        #        where salesLine.SalesId == this.SalesId
        #        exists join inventTrans
        #        exists join inventTransOrigin
        #            where inventTrans.InventTransOrigin == inventTransOrigin.RecId
        #            && inventTransOrigin.InventTransId == salesLine.InventTransId
        #            && (inventTrans.StatusIssue == StatusIssue::Sold
        #            || inventTrans.StatusIssue == StatusIssue::Deducted);
        #
        #    hasShipped = (salesLine.RecId == 0) ? false: true;
        #
        #    return hasShipped;
        #}
      ENDSOURCE
      SOURCE #mcrHasTender
        #/// <summary>
        #/// Determines if one or more payments using the specified tender
        #///  are associated with this sales order.
        #/// </summary>
        #/// <param name="_tenderTypeId">
        #/// The tender for which to check the sales order.
        #/// </param>
        #/// <param name="_ignoreCanceled">
        #/// A <c>Boolean</c> value that defines whether the search should take into acount
        #/// canceled orders or not; optional.
        #/// </param>
        #/// <returns>
        #/// true if one or more payments using the specified tender
        #///     are associated with this sales order; otherwise, false.
        #/// </returns>
        #boolean mcrHasTender(RetailTenderTypeId _tenderTypeId, boolean _ignoreCanceled = true)
        #{
        #    MCRCustPaymTable mcrCustPaymTable;
        #
        #    if (_ignoreCanceled)
        #    {
        #        select firstonly RecId from mcrCustPaymTable
        #            where mcrCustPaymTable.RefTableId == this.TableId
        #                && mcrCustPaymTable.RefRecId == this.RecId
        #                && mcrCustPaymTable.TenderTypeId == _tenderTypeId
        #                && (mcrCustPaymTable.PercentAmount != 0.0
        #                || mcrCustPaymTable.Amount != 0.0
        #                || mcrCustPaymTable.PostedAmount != 0);
        #    }
        #    else
        #    {
        #        select firstonly RecId from mcrCustPaymTable
        #            where mcrCustPaymTable.RefTableId == this.TableId
        #                && mcrCustPaymTable.RefRecId == this.RecId
        #                && mcrCustPaymTable.TenderTypeId == _tenderTypeId;
        #    }
        #
        #    return mcrCustPaymTable.RecId != 0;
        #}
      ENDSOURCE
      SOURCE #mcrInterCompanyAutoCreateOrders
        #/// <summary>
        #/// Generates intercompany orders.
        #/// </summary>
        #void mcrInterCompanyAutoCreateOrders()
        #{
        #    SalesLine   salesLineLocal;
        #    InventTable inventTable;
        #    VendTable   vendTable;
        #    boolean     interCompanyVendorFound;
        #
        #    if (this.InterCompanyAutoCreateOrders
        #        && (this.CreatedBy == curUserId()
        #        || this.ModifiedBy == curUserId()
        #        || !SalesTable::find(this.SalesId).InterCompanyAutoCreateOrders)
        #        && SalesTableType::construct(this).canCreatePurchOrder()
        #        && (!this.existInterCompanySales()))
        #    {
        #        while select SalesId from salesLineLocal
        #            where salesLineLocal.SalesId == this.SalesId && salesLineLocal.InventRefId == ''
        #            exists join inventTable
        #            where inventTable.ItemId == salesLineLocal.ItemId
        #            join  vendTable
        #            where vendTable.AccountNum == inventTable.PrimaryVendorId
        #        {
        #            if (vendTable.interCompanyTradingPartnerAccount())
        #            {
        #                interCompanyVendorFound = true;
        #                break;
        #            }
        #        }
        #        if (interCompanyVendorFound)
        #        {
        #            TradeInterCompany::autoCreateOrder(this);
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrInterCompanyOrigSalesId
        #/// <summary>
        #/// Finds the corresponding <c>SalesId</c> for the intercompany direct delivery sales order
        #/// transaction based on the current sales order.
        #/// </summary>
        #/// <returns>
        #/// the corresponding <c>SalesId</c> for the intercompany direct delivery sales order
        #/// transaction based on the current sales order.
        #/// </returns>
        #SalesId mcrInterCompanyOrigSalesId()
        #{
        #    PurchTable          purchTable;
        #    MCRReturnSalesTable mcrReturnSalesTable;
        #
        #    select firstonly InterCompanyOriginalSalesId, InterCompanySalesId from purchTable
        #        exists join mcrReturnSalesTable
        #        where mcrReturnSalesTable.SalesTable == this.RecId
        #        && purchTable.InterCompanyOriginalSalesId == mcrReturnSalesTable.OriginalSalesId;
        #
        #    return purchTable.InterCompanySalesId;
        #}
      ENDSOURCE
      SOURCE #mcrIsCallCenter
        #/// <summary>
        #/// Returns whether the sales order is associated with a call center or not.
        #/// </summary>
        #/// <returns>
        #/// true if the sales order is a call center order; otherwise, false.
        #/// </returns>
        #public boolean mcrIsCallCenter()
        #{
        #    if (MCROrderParameters::isCallCenterEnabledAndInUse())
        #    {
        #        return RetailMCRChannelTable::findRecId(RetailSalesTable::findSalesTable(this).RetailChannel).RecId != 0;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrIsContParentOrderBillUpFront
        #/// <summary>
        #/// Checks whether or not the continuity parent order is bill up front.
        #/// </summary>
        #/// <returns>
        #/// true if the continuity parent order is bill up front; otherwise, false.
        #/// </returns>
        #boolean mcrIsContParentOrderBillUpFront()
        #{
        #    MCRContinuityCustLine   mcrContinuityCustLine;
        #    MCRContinuityCustHeader mcrContinuityCustHeader;
        #    boolean                 ret = false;
        #    MCRSalesTable           mcrSalesTable = this.mcrSalesTable();
        #
        #    if (mcrSalesTable.ContinuityChild)
        #    {
        #        // If it is paid, it was bill up front without schedule.
        #        if (mcrSalesTable.ContinuityLineEval == MCRContinuityLineEval::Paid)
        #        {
        #            ret = true;
        #        }
        #        else
        #        {
        #            select firstonly InventTransId, RecId from mcrContinuityCustLine
        #                where mcrContinuityCustLine.SalesId == this.SalesId
        #                    && mcrContinuityCustLine.InventTransId
        #                exists join mcrContinuityCustHeader
        #                where mcrContinuityCustHeader.InventTransId == mcrContinuityCustLine.InventTransId;
        #
        #            if (mcrContinuityCustLine.RecId)
        #            {
        #                ret = true;
        #            }
        #        }
        #    }
        #
        #    return ret;
        #
        #}
      ENDSOURCE
      SOURCE #mcrIsOrderFullyReturned
        #/// <summary>
        #/// Validates whether or not all invoiced quantity on the order has been returned.
        #/// </summary>
        #/// <returns>
        #/// true if all invoiced quantity on the order has been returned; otherwise, false.
        #/// </returns>
        #boolean mcrIsOrderFullyReturned()
        #{
        #    boolean     fullyReturned = true;
        #    SalesLine   salesLine;
        #
        #    while select salesLine
        #        where salesLine.SalesId == this.SalesId
        #    {
        #        // If line is not fully returned.
        #        if (!salesLine.mcrIsLineFullyReturned())
        #        {
        #            fullyReturned = false;
        #            break;
        #        }
        #    }
        #
        #    return fullyReturned;
        #}
      ENDSOURCE
      SOURCE #mcrIsOrderInFuture
        #/// <summary>
        #/// Validates the future order processing dates.
        #/// </summary>
        #/// <returns>
        #/// true if the delivery date is greater than the number of days the user has set up on the
        #/// sales parameters form for future orders; otherwise, false.
        #/// </returns>
        #boolean mcrIsOrderInFuture()
        #{
        #    boolean             orderInFuture = false;
        #    MCRFutureOrderDays  days;
        #    MCROrderParameters  mcrOrderParameters;
        #    date                deliverydate;
        #    SalesLine           salesLine;
        #
        #    mcrOrderParameters = MCROrderParameters::find();
        #    // If future orders processing is on.
        #    if (mcrOrderParameters.mcrFutureOrder)
        #    {
        #        days = mcrOrderParameters.mcrFutureOrderDays;
        #        if (days>0)
        #        {
        #            // Obtain the erliest shipping date from the sales lines.
        #            select minof(ConfirmedDlv) from salesLine
        #                    where salesLine.SalesId == this.SalesId;
        #
        #            deliveryDate = salesLine.ConfirmedDlv;
        #            if ((deliveryDate -systemDateGet())>days)
        #            {
        #                orderInFuture = true;
        #            }
        #        }
        #    }
        #    return orderInFuture;
        #}
      ENDSOURCE
      SOURCE #mcrIsOrderInstallment
        #/// <summary>
        #/// Validates whether or not this order has an installment plan.
        #/// </summary>
        #/// <returns>
        #/// true if the order has an installment plan; otherwise, false.
        #/// </returns>
        #boolean mcrIsOrderInstallment()
        #{
        #    if (MCRInstallmentPlanSalesTable::existSalesId(this.SalesId)
        #        && !this.mcrSalesTable().ContinuityOrder)
        #    {
        #        return true;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrIsOrderOnFraudHold
        #/// <summary>
        #/// Validates whether or not the order is on fraud hold.
        #/// </summary>
        #/// <returns>
        #/// true if the order is on fraud hold; otherwise, false.
        #/// </returns>
        #boolean mcrIsOrderOnFraudHold()
        #{
        #    if (this.mcrOrderStopped == NoYes::Yes)
        #    {
        #        if (MCRHoldCodeTrans::isOrderOnFraudHold(this.SalesId))
        #        {
        #            return true;
        #        }
        #    }
        #
        #    return false;
        #}
      ENDSOURCE
      SOURCE #mcrLineHasDifferentAddress
        #/// <summary>
        #/// Checks for a different delivery address on the order lines.
        #/// </summary>
        #/// <returns>
        #/// true if there is a different delivery address on the order lines; otherwise, false.
        #/// </returns>
        #boolean mcrLineHasDifferentAddress()
        #{
        #    SalesLine   salesLine;
        #
        #    select firstonly salesLine
        #     where salesLine.SalesId == this.SalesId
        #        && salesLine.LineDeliveryType != LineDeliveryType::OrderLineWithMultipleDeliveries
        #        && salesLine.DeliveryName != this.DeliveryName;
        #
        #    if (salesLine && salesLine.deliveryAddress() == this.deliveryAddress())
        #    {
        #        return true;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #mcrLineHasNonBillAddress
        #/// <summary>
        #/// Checks the order line delivery addresses against the sold-to address on the customer.
        #/// </summary>
        #/// <returns>
        #/// true if the order line delivery addresses differs from the sold-to address on the customer;
        #/// otherwise, false.
        #/// </returns>
        #boolean mcrLineHasNonBillAddress()
        #{
        #    SalesLine   salesLine;
        #    CustTable   custTable;
        #
        #    custTable = this.custTable_CustAccount();
        #
        #    select firstonly RecId from salesLine
        #     where salesLine.SalesId == this.SalesId
        #        && salesLine.DeliveryPostalAddress != custTable.invoiceAddress().RecId
        #        && salesLine.LineDeliveryType != LineDeliveryType::OrderLineWithMultipleDeliveries;
        #
        #    if (salesLine.RecId)
        #    {
        #        return true;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #mcrOpenSalesOrder
        #/// <summary>
        #/// Updates that sales status to be that of an open order.
        #/// </summary>
        #void mcrOpenSalesOrder()
        #{
        #    MCRSalesTable           mcrSalesTable;
        #
        #    if (this.checkUpdate(false))
        #    {
        #        this.SalesStatus = SalesStatus::Backorder;
        #        if (RetailMCRChannelTable::mcrEnableOrderCompletion(this))
        #        {
        #            this.mcrOrderStopped = NoYes::Yes;
        #        }
        #
        #        // Modification of a sales order nullifies out of
        #        // balance status as well as it's release
        #        mcrSalesTable = this.mcrSalesTable();
        #        if (mcrSalesTable.PaymOutOfBalance != MCRPaymOutOfBalance::None
        #            || mcrSalesTable.OutOfBalanceReleased != MCROutOfBalanceReleaseType::None)
        #        {
        #            mcrSalesTable.PaymOutOfBalance = MCRPaymOutOfBalance::None;
        #            mcrSalesTable.OutOfBalanceReleased = MCROutOfBalanceReleaseType::None;
        #            this.mcrPackMCRSalesTable(mcrSalesTable);
        #        }
        #
        #        ttsbegin;
        #        this.update();
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrOrderProcessed
        #/// <summary>
        #/// Determines if the current order has been processed.
        #/// </summary>
        #/// <returns>
        #/// true if it has been processed; otherwise, false.
        #/// </returns>
        #public boolean mcrOrderProcessed()
        #{
        #    MCRCustPaymTotals mcrCustPaymTotals;
        #
        #    // If order completion is not enabled, skip all logic.
        #    if (RetailMCRChannelTable::mcrEnableOrderCompletion(this))
        #    {
        #        // if the status of the order being evaluated has had
        #        // its status changed to something other than backorder
        #        // or if there are payments return true
        #        if (this.SalesStatus == SalesStatus::Backorder
        #            && this.mcrOrderStopped == NoYes::Yes
        #            && !MCRHoldCodeTrans::findActiveOrderHolds(this.SalesId))
        #        {
        #            mcrCustPaymTotals = MCRCustPaymTotals::construct(this.TableId, this.RecId);
        #            if (!MCRCustPaymTable::exists(this.TableId, this.RecId)
        #                || !mcrCustPaymTotals.allPaymentsSubmitted())
        #            {
        #                return false;
        #            }
        #        }
        #    }
        #    return true;
        #}
      ENDSOURCE
      SOURCE #mcrOrderReleaseDate
        #/// <summary>
        #///  Gets the date on which a future order will be released.
        #/// </summary>
        #/// <returns>
        #/// The order realse date of the future order.
        #/// </returns>
        #public display TransDate mcrOrderReleaseDate()
        #{
        #    date                releaseDate;
        #    MCRFutureOrderDays  mcrFutureOrderDays;
        #    date                deliverydate;
        #    SalesLine           salesLine;
        #
        #    // Only if the order is in the future will the release
        #    // date need to be calculated.
        #    if (this.mcrIsOrderInFuture())
        #    {
        #        mcrFutureOrderDays = MCROrderParameters::find().mcrFutureOrderDays;
        #
        #        // Obtain the earliest shipping date from the sales lines
        #        select minof(ConfirmedDlv) from salesLine
        #                    where salesLine.SalesId == this.SalesId;
        #
        #        deliveryDate = salesLine.ConfirmedDlv;
        #
        #        releaseDate = deliveryDate-mcrFutureOrderDays;
        #    }
        #    else
        #    {
        #        releaseDate = DateTimeUtil::date(this.CreatedDateTime);
        #    }
        #
        #    return releaseDate;
        #}
      ENDSOURCE
      SOURCE #mcrPackMCRReturnSalesTable
        #/// <summary>
        #/// Packs the retail return sales table extension table into <c>MCRReturnSalesTable</c> field.
        #/// </summary>
        #/// <param name="_mcrReturnSalesTable">
        #/// Extension table to be packed.
        #/// </param>
        #public void mcrPackMCRReturnSalesTable(MCRReturnSalesTable _mcrReturnSalesTable)
        #{
        #    _mcrReturnSalesTable.SalesTable = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_mcrReturnSalesTable);
        #}
        #
      ENDSOURCE
      SOURCE #mcrPackMCRSalesTable
        #/// <summary>
        #/// Packs the retail sales table extension table into <c>MCRSalesTable</c> field.
        #/// </summary>
        #/// <param name="_mcrSalesTable">
        #/// Extension table to be packed.
        #/// </param>
        #public void mcrPackMCRSalesTable(MCRSalesTable _mcrSalesTable)
        #{
        #    _mcrSalesTable.SalesTable = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_mcrSalesTable);
        #}
        #
      ENDSOURCE
      SOURCE #mcrPackMCRSalesTableShipping
        #/// <summary>
        #/// Packs the retail sales table shipping extension table into <c>MCRSalesTableShipping</c> field.
        #/// </summary>
        #/// <param name="_mcrSalesTableShipping">
        #/// Extension table to be packed.
        #/// </param>
        #public void mcrPackMCRSalesTableShipping(MCRSalesTableShipping _mcrSalesTableShipping)
        #{
        #    _mcrSalesTableShipping.SalesTable = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_mcrSalesTableShipping);
        #}
        #
      ENDSOURCE
      SOURCE #mcrReturnSalesTable
        #/// <summary>
        #/// Recovers the retail return sales table record.
        #/// </summary>
        #/// <returns>
        #/// A record of <c>MCRReturnSalesTable</c>
        #/// </returns>
        #public MCRReturnSalesTable mcrReturnSalesTable()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(MCRReturnSalesTable));
        #}
        #
      ENDSOURCE
      SOURCE #mcrSalesManualFraudHold
        #/// <summary>
        #/// Puts a sales order on manual fraud hold.
        #/// </summary>
        #/// <returns>
        #/// The form arguments from the fraud hold form.
        #/// </returns>
        #Args mcrSalesManualFraudHold()
        #{
        #    FormRun             formRun;
        #    Args                formArgs = new Args();
        #    str                 formArgsFormStr;
        #
        #    // Pop up form for user to enter a comment
        #    // as to why the order is going on fraud hold.
        #    formArgsFormStr = formStr(MCRFraudHoldCommentDialog);
        #    formArgs.name(formArgsFormStr);
        #    formArgs.record(this);
        #    formRun = classfactory.formRunClass(formArgs);
        #    formRun.init();
        #    formRun.run();
        #    formRun.wait();
        #
        #    if (formArgs.parmEnum()) // Put order on hold.
        #    {
        #        //Even if the args().parm() is empty, meaning the user did not enter a comment
        #        //the order should still be put on hold.
        #        SalesTable::mcrInsertFraudHold(this.SalesId, formRun.args().parm());
        #    }
        #    return formArgs;
        #}
      ENDSOURCE
      SOURCE #mcrSalesOrderDetailedStatus
        #/// <summary>
        #/// Displays the order sales status.
        #/// </summary>
        #/// <returns>
        #/// The detailed order status of the sales order.
        #/// </returns>
        #public display MCRSalesOrderDetailedStatus mcrSalesOrderDetailedStatus()
        #{
        #    MCRSalesOrderDetailedStatus status;
        #
        #    status = MCRSalesDetailedStatus::salesOrderDetailedStatus(this);
        #
        #    return status;
        #}
      ENDSOURCE
      SOURCE #mcrSalesTable
        #/// <summary>
        #/// Recovers the retail sales table record.
        #/// </summary>
        #/// <param name="_packNewExtensionTable">
        #/// A Boolean value that indicates whether to pack new extension table record; optional.
        #/// </param>
        #/// <returns>
        #/// A record of <c>MCRSalesTable</c>
        #/// </returns>
        #public MCRSalesTable mcrSalesTable(boolean _packNewExtensionTable = false)
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(MCRSalesTable), _packNewExtensionTable);
        #}
        #
      ENDSOURCE
      SOURCE #mcrSalesTableExchange
        #/// <summary>
        #/// Gets the <c>SalesTable</c> record marked as an exchange for this record.
        #/// </summary>
        #/// <param name="_forUpdate">
        #/// A boolean that determines whether to select the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// The <c>SalesTable</c> record marked as an exchange for this record if one exists;
        #/// otherwise, and empty buffer.
        #/// </returns>
        #public SalesTable mcrSalesTableExchange(boolean _forUpdate = false)
        #{
        #    SalesTable  salesTableExchange;
        #
        #    salesTableExchange.selectForUpdate(_forUpdate);
        #
        #    select firstonly salesTableExchange
        #        where salesTableExchange.SalesId == this.ReturnReplacementId;
        #
        #    return salesTableExchange;
        #}
      ENDSOURCE
      SOURCE #mcrSalesTableOriginal
        #/// <summary>
        #/// Gets the original <c>SalesTable</c> record associated with this records.
        #/// </summary>
        #/// <param name="_forUpdate">
        #/// A boolean that determines whether to select the table for update; optional.
        #/// </param>
        #/// <returns>
        #/// The original <c>SalesTable</c> record associated with this record if one exists;
        #/// otherwise, an empty buffer.
        #/// </returns>
        #public SalesTable mcrSalesTableOriginal(boolean _forUpdate = false)
        #{
        #    SalesTable          salesTableOriginal;
        #    MCRReturnSalesTable mcrReturnSalesTable;
        #
        #    salesTableOriginal.selectForUpdate(_forUpdate);
        #
        #    select firstonly salesTableOriginal
        #        exists join mcrReturnSalesTable
        #        where mcrReturnSalesTable.SalesTable == this.RecId
        #            && salesTableOriginal.SalesId == mcrReturnSalesTable.OriginalSalesId;
        #
        #    return salesTableOriginal;
        #}
      ENDSOURCE
      SOURCE #mcrSalesTableShipping
        #/// <summary>
        #/// Recovers the retail sales table shipping record.
        #/// </summary>
        #/// <param name="_packNewExtensionTable">
        #/// A Boolean value that indicates whether to pack new extension table record; optional.
        #/// </param>
        #/// <returns>
        #/// A record of <c>MCRSalesTableShipping</c>
        #/// </returns>
        #public MCRSalesTableShipping mcrSalesTableShipping(boolean _packNewExtensionTable = false)
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(MCRSalesTableShipping), _packNewExtensionTable);
        #}
        #
      ENDSOURCE
      SOURCE #mcrShowNotes
        #/// <summary>
        #///  Shows the existing notes field and allows editing.
        #/// </summary>
        #void mcrShowNotes()
        #{
        #    FormRun    formRun;
        #    Args       formArgs = new Args();
        #    str        formArgsFormStr;
        #    Common     formArgsRecord;
        #
        #    formArgsRecord = this;
        #    formArgsFormStr = formStr(MCRFraudHoldCommentDialog);
        #    formArgs.name(formArgsFormStr);
        #    formArgs.record(formArgsRecord);
        #    formRun = classfactory.formRunClass(formArgs);
        #    formRun.init();
        #    formRun.run();
        #    formRun.wait();
        #}
      ENDSOURCE
      SOURCE #mergeDimension
        #/// <summary>
        #/// Retrieves a dimension set that holds the merged combination of the current <c>defaultDimension</c>
        #/// field on this table and the provided dimension set.
        #/// </summary>
        #/// <param name="_primaryDefaultDimension">
        #/// A first dimension set to merge with the current <c>defaultDimension</c> field on this table.
        #/// </param>
        #/// <param name="_secondaryDefaultDimension">
        #/// A second dimension set to merge with the current <c>defaultDimension</c> field on this table;
        #/// optional.
        #/// </param>
        #/// <param name="_dimensionMerge">
        #/// A <c>dimensionMerge</c> object that was initialized from the current buffer; optional.
        #/// </param>
        #/// <returns>
        #/// A dimension set that holds the merged combination of the current <c>defaultDimension</c> field on
        #/// this table and the provided dimension set.
        #/// </returns>
        #/// <remarks>
        #/// This method makes sure that potential linked dimensions are not overwritten when they are merged.
        #/// </remarks>
        #
        #public DimensionDefault mergeDimension(
        #    DimensionDefault _primaryDefaultDimension,
        #    DimensionDefault _secondaryDefaultDimension = 0,
        #    DimensionMerge   _dimensionMerge = DimensionMerge::newFromTable(this,
        #                                                                    this.companyInfo().RecId
        #                                                                    )
        #    )
        #{
        #    return _dimensionMerge.merge(_primaryDefaultDimension, _secondaryDefaultDimension);
        #}
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(FieldId _fieldId)
        #{
        #    SalesTableType  salesTableType;
        #
        #    super(_fieldId);
        #
        #    salesTableType = this.type();
        #    salesTableType.modifiedField(_fieldId);
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #        // Default in the MCRExpedite flag based on the delivery mode.
        #        if (_fieldId == fieldNum(SalesTable, DlvMode))
        #        {
        #            this.mcrDlvModeModified();
        #        }
        #
        #        // Refresh to update any other form controls displaying this field.
        #        if (this.isFormDataSource())
        #        {
        #            this.dataSource().refresh();
        #        }
        #    }
        #
        #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
        #    {
        #        if (_fieldId == fieldNum(SalesTable, CustAccount))
        #        {
        #            RetailLoyaltyManager::UpdateLoyaltyGroupsForCustomerOrder(this.SalesId);
        #        }
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #modifiedFieldDDC
        #/// <summary>
        #/// Processes the modified field event for delivery date control fields.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field ID for the modified field.
        #/// </param>
        #void modifiedFieldDDC(FieldId _fieldId) //Enhanced Delivery Date Control
        #{
        #    Object                      obj;
        #    SalesCalcAvailableDlvDates  calcAvailableDlvDates;
        #    container                   c;
        #
        #    if (this.DeliveryDateControlType != SalesDeliveryDateControlType::None)
        #    {
        #        calcAvailableDlvDates = SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(this,_fieldId);
        #
        #        switch (_fieldId)
        #        {
        #            case fieldNum(SalesTable, DeliveryPostalAddress):        //fall through
        #            case fieldNum(SalesTable, DlvMode):                 //fall through
        #            case fieldNum(SalesTable, InventLocationId):
        #                if (!this.RecId)
        #                {
        #                    calcAvailableDlvDates = SalesCalcAvailableDlvDates::modifiedFieldOrderEntryDeadLine(this,_fieldId);
        #                }
        #                break;
        #
        #            case fieldNum(SalesTable, DeliveryDateControlType):
        #                if (this.RecId)
        #                {
        #                    calcAvailableDlvDates.modifiedField(this);
        #                }
        #                else
        #                {
        #                    calcAvailableDlvDates = SalesCalcAvailableDlvDates::modifiedFieldOrderEntryDeadLine(this,_fieldId);
        #                }
        #                break;
        #
        #            case fieldNum(SalesTable, ReceiptDateRequested):
        #                calcAvailableDlvDates.modifiedField(this);
        #
        #                if (this.ShippingDateRequested > this.ReceiptDateRequested)
        #                {
        #                    this.ShippingDateRequested = this.ReceiptDateRequested;
        #                }
        #                break;
        #
        #            case fieldNum(SalesTable, ShippingDateRequested):
        #                calcAvailableDlvDates.modifiedField(this);
        #
        #                if (this.ShippingDateRequested > this.ReceiptDateRequested)
        #                {
        #                    this.ReceiptDateRequested = this.ShippingDateRequested;
        #                }
        #                break;
        #
        #            case fieldNum(SalesTable, ShippingDateConfirmed):
        #                calcAvailableDlvDates.modifiedField(this);
        #
        #                if (this.ShippingDateConfirmed > this.ReceiptDateConfirmed)
        #                {
        #                    this.ReceiptDateConfirmed = this.ShippingDateConfirmed;
        #                }
        #                break;
        #
        #            case fieldNum(SalesTable, ReceiptDateConfirmed):
        #                calcAvailableDlvDates.modifiedField(this);
        #
        #                if (this.ShippingDateConfirmed > this.ReceiptDateConfirmed)
        #                {
        #                    this.ShippingDateConfirmed = this.ReceiptDateConfirmed;
        #                }
        #                break;
        #
        #            default:
        #        }
        #    }
        #
        #    if (this.isFormDataSource() && this.dataSource().formRun() && this.dataSource().formRun().name() == formStr(SalesCreateOrder))
        #    {
        #        obj = this.dataSource().formRun();
        #
        #        if (calcAvailableDlvDates && calcAvailableDlvDates.parmCancelModifiedField())
        #        {
        #            if (formHasMethod(obj,identifierStr(getInitialValuesDeliveryDate)))
        #            {
        #                c = obj.getInitialValuesDeliveryDate();
        #
        #                if (c)
        #                {
        #                    this.ShippingDateConfirmed   = conPeek(c, 1);
        #                    this.ShippingDateRequested   = conPeek(c, 2);
        #                    this.ReceiptDateConfirmed    = conPeek(c, 3);
        #                    this.ReceiptDateRequested    = conPeek(c, 4);
        #                    this.DeliveryDateControlType = conPeek(c, 5);
        #                }
        #            }
        #            else
        #            {
        #                this.(_fieldId) = this.orig().(_fieldId);
        #            }
        #        }
        #        else
        #        {
        #            if (formHasMethod(obj,identifierStr(setInitialValuesDeliveryDate)))
        #            {
        #                obj.setInitialValuesDeliveryDate();
        #            }
        #        }
        #    }
        #
        #    this.DeliveryDate = this.ShippingDateConfirmed ? this.ShippingDateConfirmed : this.ShippingDateRequested;
        #}
      ENDSOURCE
      SOURCE #modifiedInterCompanyOrder
        #public void modifiedInterCompanyOrder()
        #{
        #    if (this.InterCompanyOrder)
        #    {
        #        this.InterCompanyCompanyId = this.custTable_CustAccount().interCompanyTradingPartnerCompanyID();
        #        if (this.isMarkedForBankLC())
        #        {
        #            this.BankDocumentType = BankDocumentType::None;
        #        }
        #    }
        #    else
        #    {
        #        this.InterCompanyCompanyId = '';
        #    }
        #}
      ENDSOURCE
      SOURCE #modifiedInventSiteFromParent
        #public void modifiedInventSiteFromParent()
        #{
        #    this.InventStorageDimMap::modifiedInventSiteFromParent(this);
        #}
      ENDSOURCE
      SOURCE #modifiedOneTimeCustomer
        #void  modifiedOneTimeCustomer()
        #{
        #    if (!CustTable::createOneTimeAccountValidate())
        #    {
        #        this.OneTimeCustomer = NoYes::No;
        #    }
        #
        #    if (this.OneTimeCustomer && !this.CustAccount)
        #    {
        #        this.createOneTimeAccount();
        #    }
        #}
      ENDSOURCE
      SOURCE #modifiedProjId
        #void  modifiedProjId()
        #{
        #    ProjTable           projTable = ProjTable::find(this.ProjId);
        #    ProjFundingSource   projFundingSource;
        #
        #    this.initFromProjTable(projTable);
        #
        #    if (ProjFundingSource::numberOfFundingSources(projTable.ProjInvoiceProjId) == 1)
        #    {
        #        // Project does not support Sales Orders / Item Requirements for multiple funded contracts
        #        select firstonly CustAccount, LanguageId from projFundingSource where projFundingSource.ContractId == projTable.ProjInvoiceProjId;
        #        this.LanguageId       = projFundingSource.LanguageId;
        #    }
        #
        #    this.OneTimeCustomer  = false;
        #}
      ENDSOURCE
      SOURCE #moduleType
        #ModuleInventPurchSales moduleType()
        #{
        #    return ModuleInventPurchSales::Sales;
        #}
      ENDSOURCE
      SOURCE #MostExpensiveUnitPrice
        #display ItemFreeTxt MostExpensiveUnitPrice()
        #{
        #    SalesLine           salesLine;
        #
        #    select firstOnly * from salesLine
        #        order by SalesPrice desc
        #            where salesLine.SalesId == this.SalesId;
        #
        #    return salesLine.itemName();
        #}
      ENDSOURCE
      SOURCE #mustBeCovPlanned
        #boolean  mustBeCovPlanned()
        #{
        #    SalesTableType  salesTableType;
        #
        #    salesTableType = this.type();
        #    return salesTableType.mustBeCovPlanned();
        #}
      ENDSOURCE
      SOURCE #mustDoCreditLimitAfterUpdate
        #/**
        #    The method returns true if creditlimit must be executed after salesTable.update().
        #**/
        #boolean mustDoCreditLimitAfterUpdate()
        #{
        #    SalesTable this_orig = this.orig();
        #
        #    return (this.InclTax            != this_orig.InclTax ||
        #            this.CustAccount        != this_orig.CustAccount
        #            || this.SalesType       != this_orig.SalesType
        #            || this.FixedExchRate   != this_orig.FixedExchRate
        #            );
        #}
      ENDSOURCE
      SOURCE #numberOfLines
        #public NumberOfRecords numberOfLines()
        #{
        #    return (select count(RecId) from salesLine where salesLine.SalesId == this.SalesId).RecId;
        #}
      ENDSOURCE
      SOURCE #objectDeclaration
        #/*
        #<<Maria_PracticeProject
        #    added:
        #        field:  <<NOV_06_2017
        #                \Data Dictionary\Tables\SalesTable\Fields\Maria_PhoneNumber
        #                \Data Dictionary\Tables\SalesTable\Fields\Maria_FaxNumber
        #        code:   \Data Dictionary\Tables\SalesTable\Methods\initFromSalesQuotationTable
        #                >>
        #>>Maria_PracticeProject
        #<<MB_SOConfirmationEmailTemplate
        #    added:
        #        method: <<JAN_05_2018
        #                \Data Dictionary\Tables\SalesTable\Methods\mb_emailTemplate
        #                >>
        #>>MB_SOConfirmationEmailTemplate
        #<<MB_AllowSendingSOConfirmationEmail
        #    added:
        #        method: <<JAN_09_2018
        #                \Data Dictionary\Tables\SalesTable\Methods\mb_allowEmail
        #                >>
        #>>MB_AllowSendingSOConfirmationEmail
        #<<MB_SOConfirmationEmailBatchJob
        #    added:
        #        method: <<Jan_09_2018
        #                \Data Dictionary\Tables\SalesTable\Methods\mb_emailTemplateCustomer
        #        field:  \Data Dictionary\Tables\SalesTable\Fields\mb_ConfirmationEmailSent
        #                >>
        #>>MB_SOConfirmationEmailBatchJob
        #<<MB_ReturnEmails
        #    added:
        #        method: <<FEB_09_2018
        #                \Data Dictionary\Tables\SalesTable\Methods\mb_FullRefundEmail
        #                \Data Dictionary\Tables\SalesTable\Methods\mb_PartialRefundEmail
        #                >>
        #>>MB_ReturnEmails
        #*/
        #private void objectDeclaration()
        #{
        #}
      ENDSOURCE
      SOURCE #packingSlipTotal
        #public Amount packingSlipTotal()
        #{
        #    SalesTotals_Sales   salesTotals = SalesTotals_Sales::construct(this, SalesUpdate::PackingSlip);
        #    container           displayFields = salesTotals.displayFieldsCurrency(salesTotals.currencyCode());
        #
        #    return conPeek(displayFields, TradeTotals::posTotalAmount());
        #}
      ENDSOURCE
      SOURCE #packRetailSalesTable
        #/// <summary>
        #/// Packs Retail extension table into <c>PackedExtensions</c> field
        #/// </summary>
        #/// <param name="_retailSalesTable">
        #/// Extension table to be packed
        #/// </param>
        #public void packRetailSalesTable(RetailSalesTable _retailSalesTable)
        #{
        #    _retailSalesTable.SalesTable = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_retailSalesTable);
        #}
      ENDSOURCE
      SOURCE #packSalesTable_BR
        #/// <summary>
        #/// Packs brazilian extension table into <c>PackedExtensions</c> field
        #/// </summary>
        #/// <param name="_salesTable_BR">
        #/// Extension table to be packed
        #/// </param>
        #public void packSalesTable_BR(SalesTable_BR _salesTable_BR)
        #{
        #    _salesTable_BR.SalesTable = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_salesTable_BR);
        #}
      ENDSOURCE
      SOURCE #packSalesTable_Intrastat
        #/// <summary>
        #/// Packs <c>SalesTable_Intrastat</c> extension table record.
        #/// </summary>
        #/// <param name="_salesTable_Intrastat">
        #/// The extension table record to pack.
        #/// </param>
        #public void packSalesTable_Intrastat(SalesTable_Intrastat _salesTable_Intrastat)
        #{
        #    this.SysExtensionSerializerMap::packExtensionTable(_salesTable_Intrastat);
        #}
        #
      ENDSOURCE
      SOURCE #packSalesTable_RU
        #/// <summary>
        #/// Packs an <c>SalesTable_RU</c> record to the container field <C>PackedExtensions</C>.
        #/// </summary>
        #/// <param name="_salesTable_RU">
        #/// The source record of <c>SalesTable_RU</c> table.
        #/// </param>
        #public void packSalesTable_RU(SalesTable_RU _salesTable_RU)
        #{
        #    _salesTable_RU.SalesTable = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_salesTable_RU);
        #}
        #
      ENDSOURCE
      SOURCE #packSalesTable_W
        #/// <summary>
        #///    Packs an <c>SalesTable_W</c> record to the container field <C>PackedExtensions</C>.
        #/// </summary>
        #/// <param name="_salesTable_W">
        #///    The source record of <c>SalesTable_W</c> table.
        #/// </param>
        #public void packSalesTable_W(SalesTable_W _salesTable_W)
        #{
        #    _salesTable_W.SalesTable = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_salesTable_W);
        #}
        #
      ENDSOURCE
      SOURCE #partyTable_CustAccount
        #DirPartyTable partyTable_CustAccount(boolean _forUpdate = false)
        #{
        #    DirPartyTable   partyTable;
        #    CustTable       custTable;
        #
        #    if (this.CustAccount)
        #    {
        #        if (_forUpdate)
        #        {
        #            partyTable.selectForUpdate(_forUpdate);
        #        }
        #
        #        select firstonly partyTable
        #            exists join custTable
        #            where custTable.Party      == partyTable.RecId
        #               && custTable.AccountNum == this.CustAccount;
        #    }
        #    return partyTable;
        #}
      ENDSOURCE
      SOURCE #payer
        #CustTable payer(boolean  _forUpdate = false)
        #{
        #    return this.custTable_InvoiceAccount(_forUpdate);
        #}
      ENDSOURCE
      SOURCE #payerPostalAddress
        #LogisticsPostalAddress payerPostalAddress()
        #{
        #    return DirParty::primaryPostalAddress(this.custTable_InvoiceAccount().Party,this.deliveryTransDateTime());
        #}
      ENDSOURCE
      SOURCE #paymDayId
        #CustPaymDayId paymDayId()
        #{
        #    CustPaymDayId    paymDayId;
        #
        #    paymDayId = this.custTable_InvoiceAccount().PaymDayId;
        #
        #    if (!paymDayId)
        #    {
        #        paymDayId = this.payment().PaymDayId;
        #    }
        #
        #    return paymDayId;
        #}
      ENDSOURCE
      SOURCE #payment
        #PaymTerm payment(boolean _update = false)
        #{
        #    return PaymTerm::find(this.Payment, _update);
        #}
      ENDSOURCE
      SOURCE #paymModeModified
        #void paymModeModified()
        #{
        #    this.PaymModeMap::modifiedPaymMode();
        #}
      ENDSOURCE
      SOURCE #previewPaneTitle
        #/// <summary>
        #/// Sets the title on top of the preview pane.
        #/// </summary>
        #/// <returns>
        #/// The title field of the preview pane.
        #/// </returns>
        #display Caption previewPaneTitle()
        #{
        #    return strFmt("@SYS330566", this.SalesId);
        #}
      ENDSOURCE
      SOURCE #previewPaneTitleReturnItemNum
        #/// <summary>
        #/// Sets the title on top of the preview pane.
        #/// </summary>
        #/// <returns>
        #/// The title field of the preview pane.
        #/// </returns>
        #display Caption previewPaneTitleReturnItemNum()
        #{
        #    return strFmt("@SYS330566", this.ReturnItemNum);
        #}
      ENDSOURCE
      SOURCE #priceDiscChangePolicyExistOnLine
        #/// <summary>
        #/// Indicates whether a line record related to the current record has a price discount policy.
        #/// </summary>
        #/// <returns>
        #/// true if a line with a price discount policy exists; otherwise, false
        #/// </returns>
        #public boolean priceDiscChangePolicyExistOnLine()
        #{
        #    SalesLine salesLine;
        #
        #    select firstonly RecId from salesLine
        #        where salesLine.SalesId == this.SalesId
        #           && (salesLine.SystemEntryChangePolicy != 0
        #           || salesLine.ManualEntryChangepolicy != 0);
        #
        #    return salesLine.RecId != 0;
        #}
      ENDSOURCE
      SOURCE #priceDiscChangePolicyUpdateLine
        #/// <summary>
        #/// Updates the price discount policy fields on a set of purchase line records related to the current
        #/// <c>SalesTable</c> record.
        #/// </summary>
        #/// <param name="_priceDiscChangePoliciesTmp">
        #/// A buffer of the temporary <c>PriceDiscChangePoliciesTmp</c> table.
        #/// </param>
        #public void priceDiscChangePolicyUpdateLine(PriceDiscChangePoliciesTmp  _priceDiscChangePoliciesTmp)
        #{
        #    SalesLine salesLine;
        #
        #    salesLine.skipDataMethods();
        #    update_recordset salesLine
        #    setting ManualEntryChangepolicy = _priceDiscChangePoliciesTmp.ManualEntryChangepolicy,
        #            SystemEntryChangePolicy = _priceDiscChangePoliciesTmp.SystemEntryChangePolicy,
        #            SystemEntrySource       = _priceDiscChangePoliciesTmp.SystemEntrySource
        #    join _priceDiscChangePoliciesTmp
        #        where _priceDiscChangePoliciesTmp.RefRecId == salesLine.RecId;
        #}
      ENDSOURCE
      SOURCE #projectedFreightCharge
        #public AmountCur projectedFreightCharge(AmountCur _amt = 0)
        #{
        #    CustParameters      custParameters = CustParameters::find();
        #    AmountCur           amtTotal, amtFreight, amtTax, amtMisc;
        #    SalesTotals_Sales   salesTotals;
        #
        #    if (custParameters.CreditCardEstShippingChargeType == CreditCardEstShippingChargeType::Fixed)
        #    {
        #        amtFreight = custParameters.CreditCardEstShippingChargeValue;
        #    }
        #    else
        #    {
        #        amtTotal = _amt;
        #        if (prmisDefault(_amt) || _amt == 0)
        #        {
        #            salesTotals = SalesTotals_Sales::construct(this, SalesUpdate::All);
        #            amtTotal    = salesTotals.totalAmount();
        #            amtTax      = salesTotals.totalTaxAmount();
        #            amtMisc     = salesTotals.totalMarkup();
        #        }
        #
        #        amtFreight = amtTotal - amtTax - amtMisc;
        #
        #        if (amtFreight > 0)
        #        {
        #            amtFreight = amtFreight * custParameters.CreditCardEstShippingChargeValue / 100;
        #            if (custParameters.CreditCardEstShippingChargeMax)
        #            {
        #                amtFreight = min(custParameters.CreditCardEstShippingChargeMax, amtFreight);
        #            }
        #        }
        #        else
        #        {
        #            amtFreight = 0;
        #        }
        #    }
        #
        #    return amtFreight;
        #}
      ENDSOURCE
      SOURCE #projTable
        #ProjTable projTable(boolean  _forUpdate = false)
        #{
        #    return ProjTable::find(this.ProjId, _forUpdate);
        #}
      ENDSOURCE
      SOURCE #qualityOrderStatusDisplay
        #/// <summary>
        #///    Returns the status of the associated quality orders.
        #/// </summary>
        #/// <returns>
        #///    The current quality order status.
        #/// </returns>
        #display InventTestOrderStatusDisplay qualityOrderStatusDisplay()
        #{
        #    InventQualityOrderTable orderTable;
        #
        #    if (!InventParameters::find().UseQualityManagement)
        #    {
        #        return InventTestOrderStatusDisplay::None;
        #    }
        #
        #    orderTable = InventQualityOrderTable::findLastQualityOrder(InventTestReferenceType::Sales, this.SalesId);
        #
        #    return orderTable ? orderTable.statusDisplay() : InventTestOrderStatusDisplay::None;
        #}
      ENDSOURCE
      SOURCE #querySalesLine
        #Query querySalesLine(boolean _update = false)
        #{
        #    DictRelation    dictRelation;
        #    DictField       externdictField;
        #    DictField       dictField;
        #    Query           query = new Query();
        #    Counter         c;
        #
        #    query.addDataSource(tableNum(SalesLine));
        #
        #    dictRelation = new DictRelation(tableNum(SalesLine));
        #    dictRelation.loadTableRelation(this.TableId);
        #
        #    if (dictRelation.lines())
        #    {
        #        for (c=1; c <= dictRelation.lines(); c++)
        #        {
        #            externdictField   = new DictField(this.TableId,dictRelation.lineExternTableValue(c));
        #            dictField   = new DictField(tableNum(SalesLine),dictRelation.lineTableValue(c));
        #            query.dataSourceTable(tableNum(SalesLine)).addRange(dictField.id()).value(queryValue(this.(externdictField.id())));
        #        }
        #    }
        #    query.dataSourceTable(tableNum(SalesLine)).update(_update);
        #
        #    return query;
        #}
      ENDSOURCE
      SOURCE #referencePurchTable
        #/// <summary>
        #/// Gets a reference purchase table record.
        #/// </summary>
        #/// <returns>
        #/// A reference purchase table record.
        #/// </returns>
        #/// <remarks>
        #/// This method is used for finding the reference purchase table in the same legal entity in 3-leged
        #/// intercompany scenarios.
        #/// </remarks>
        #public PurchTable referencePurchTable()
        #{
        #    InterCompanyPurchSalesReference     interCompanyPurchSalesReference;
        #    PurchTable                          referencePurchTable;
        #
        #    select firstonly referencePurchTable order by InterCompanySalesId desc
        #        exists join interCompanyPurchSalesReference
        #        where interCompanyPurchSalesReference.PurchId == referencePurchTable.PurchId
        #        &&    interCompanyPurchSalesReference.SalesId == this.SalesId;
        #
        #    return referencePurchTable;
        #}
      ENDSOURCE
      SOURCE #resetLinePolicies
        #/// <summary>
        #/// Resets price discount policies on the lines that are related to the current record.
        #/// </summary>
        #public void resetLinePolicies()
        #{
        #    SalesLine salesLine;
        #
        #    update_recordset salesLine
        #        setting SystemEntrySource       = PriceDiscSystemSource::None,
        #                SystemEntryChangePolicy = 0,
        #                ManualEntryChangepolicy = 0
        #    where salesLine.SalesId == this.SalesId;
        #}
      ENDSOURCE
      SOURCE #retailConcessionContractId
        #/// <summary>
        #/// Gets the Retail concession contract Id
        #/// </summary>
        #/// <returns>
        #/// The Retail concession contract Id
        #/// </returns>
        #public display RetailConcessionContractId retailConcessionContractId()
        #{
        #    return this.retailSalesTable().RetailConcessionContractId;
        #}
      ENDSOURCE
      SOURCE #retailPackRetailSalesTable
        #/// <summary>
        #/// Packs the retail sales table extension table into <c>RetailSalesTable</c> field.
        #/// </summary>
        #/// <param name="_retailSalesTable">
        #/// Extension table to be packed.
        #/// </param>
        #public void retailPackRetailSalesTable(RetailSalesTable _retailSalesTable)
        #{
        #    _retailSalesTable.SalesTable = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_retailSalesTable);
        #}
        #
      ENDSOURCE
      SOURCE #retailSalesTable
        #/// <summary>
        #/// Unpacks Retail extension table from <c>PackedExtensions</c> field
        #/// </summary>
        #/// <param name="_packNewExtensionTable">
        #/// A Boolean value that indicates whether to pack new extension table record; optional.
        #/// </param>
        #/// <returns>
        #/// The unpacked <c>RetailSalesTable</c> record
        #/// </returns>
        #public RetailSalesTable retailSalesTable(boolean _packNewExtensionTable = true)
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(RetailSalesTable), _packNewExtensionTable);
        #}
      ENDSOURCE
      SOURCE #returnChangeStatus
        #/// <summary>
        #/// Changes the return status.
        #/// </summary>
        #/// <param name="_newStatus">
        #/// The <c>ReturnStatusHeader</c> enumeration value to set.
        #/// </param>
        #public void returnChangeStatus(ReturnStatusHeader _newStatus)
        #{
        #    if (this.RecId
        #        && this.ReturnStatus != _newStatus)
        #    {
        #        this.ReturnStatus = _newStatus;
        #        this.update();
        #    }
        #}
      ENDSOURCE
      SOURCE #returnCreateReplacement
        #/// <summary>
        #///    Checks whether a replacement order can be created for the sales table that is in scope.
        #/// </summary>
        #/// <returns>
        #///    true if no replacement order exists; otherwise, false.
        #/// </returns>
        #public boolean returnCreateReplacement()
        #{
        #    boolean ret = true;
        #
        #    if (this.ReturnReplacementCreated == NoYes::Yes
        #    || (this.InterCompanyOrder && this.InterCompanyDirectDeliveryOrig))
        #    {
        #        ret = false;
        #    }
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #returnExistReturnToCustLines
        #/// <summary>
        #/// Determines if Return to cust lines exist for the sales order.
        #/// </summary>
        #/// <returns>
        #/// true if Return to cust lines exist; otherwise,false.
        #/// </returns>
        #public boolean returnExistReturnToCustLines()
        #{
        #    SalesLine               returnToCustLine;
        #    ReturnDispositionCode   returnDispositionCode;
        #
        #    select firstonly RecId from returnToCustLine
        #        where returnToCustLine.SalesId         == this.SalesId
        #           && returnToCustLine.SalesType       == SalesType::ReturnItem
        #           && returnToCustLine.ExpectedRetQty  >  0
        #        exists join returnDispositionCode
        #            where returnDispositionCode.DispositionCodeId == returnToCustLine.ReturnDispositionCodeId
        #            &&    returnDispositionCode.DispositionAction == DispositionAction::ReturnToCust;
        #
        #    return returnToCustLine.RecId;
        #}
      ENDSOURCE
      SOURCE #returnItem
        #/// <summary>
        #/// Indicates if the current item is the return item.
        #/// </summary>
        #/// <returns>
        #/// true if the current item is return item; otherwise, false.
        #/// </returns>
        #boolean returnItem()
        #{
        #    return this.type().returnItem();
        #}
      ENDSOURCE
      SOURCE #returnReservationAllowedIsSet
        #public boolean returnReservationAllowedIsSet()
        #{
        #    SalesLine returnLine;
        #    boolean   ret;
        #
        #    select firstonly RecId from returnLine where returnLine.SalesId                == this.SalesId &&
        #                                                 returnLine.ReturnAllowReservation == NoYes::Yes;
        #
        #    ret = returnLine.RecId ? true : false;
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #returnValidateDeleteReplaceId
        #/// <summary>
        #/// Launches a dialog box that asks for confirmation of deletion of the specified return order in case
        #/// a replacement order exists.
        #/// </summary>
        #/// <returns>
        #/// true if the user confirms deletion; otherwise, false.
        #/// </returns>
        #boolean returnValidateDeleteReplaceId()
        #{
        #    boolean ret = true;
        #
        #    // Are you sure you want to delete return order %1. A replacement order is attached
        #    if (this.ReturnReplacementId && Box::yesNo(strFmt("@SYS106299", this.ReturnItemNum), DialogButton::No) == DialogButton::No)
        #    {
        #        ret = false;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #salesTable_BR
        #/// <summary>
        #/// Recovers brazilian extension table
        #/// </summary>
        #/// <returns>
        #/// A record of <c>SalesTable_BR</c>
        #/// </returns>
        #public SalesTable_BR salesTable_BR()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(SalesTable_BR));
        #}
        #
      ENDSOURCE
      SOURCE #salesTable_Intrastat
        #/// <summary>
        #/// Retrieves <c>SalesTable_Intrastat</c> extension table record.
        #/// </summary>
        #/// <returns>
        #/// The extension table record related to current record.
        #/// </returns>
        #public SalesTable_Intrastat salesTable_Intrastat()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(SalesTable_Intrastat));
        #}
        #
      ENDSOURCE
      SOURCE #salesTable_RU
        #/// <summary>
        #/// Gets extension table record for current base table record.
        #/// </summary>
        #/// <returns>
        #/// The extension table record.
        #/// </returns>
        #public SalesTable_RU salesTable_RU()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(SalesTable_RU));
        #}
        #
      ENDSOURCE
      SOURCE #salesTable_W
        #/// <summary>
        #///    Gets extension table record for current base table record.
        #/// </summary>
        #/// <returns>
        #///    The extension table record.
        #/// </returns>
        #public SalesTable_W salesTable_W()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(SalesTable_W));
        #}
        #
      ENDSOURCE
      SOURCE #salesTableExtensionTH
        #/// <summary>
        #/// Get the <c>SalesTableExtensionTH</c> table.
        #/// </summary>
        #/// <returns>
        #/// The table <c>SalesTableExtensionTH</c> associated with the current record.
        #/// </returns>
        #public SalesTableExtensionTH salesTableExtensionTH()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(SalesTableExtensionTH));
        #}
      ENDSOURCE
      SOURCE #sendReturnOrderElectronically
        #public void sendReturnOrderElectronically(XMLDocPurpose _xmlDocPurpose, AifSendMode _aifSendMode = AifSendMode::Async)
        #{
        #    AxdSendContext          axdSendContext      = AxdSendContext::construct();
        #    AifEntityKey            aifEntityKey        = AifEntityKey::construct();
        #    AifAction               aifAction;
        #    AifConstraint           aifConstraint       = new AifConstraint();
        #    AifConstraintList       aifConstraintList   = new AifConstraintList();
        #
        #    aifAction = AifAction::find(AifSendService::getDefaultSendAction(classNum(ReturnReturnOrderOutService),AifSendActionType::SendByKey));
        #
        #    aifEntityKey.parmTableId(this.TableId);
        #    aifEntityKey.parmRecId(this.RecId);
        #    aifEntityKey.parmKeyDataMap(SysDictTable::getKeyData(this));
        #
        #    axdSendContext.parmXMLDocPurpose(_xmlDocPurpose);
        #    axdSendContext.parmSecurity(false);
        #
        #    aifConstraint.parmType(AifConstraintType::Customer);
        #    aifConstraint.parmId(this.CustAccount);
        #    aifConstraintList.addConstraint(aifConstraint);
        #
        #    AifSendService::submitDefault(classNum(ReturnReturnOrderOutService),
        #                                    aifEntityKey,
        #                                    aifConstraintList,
        #                                    _aifSendMode,
        #                                    axdSendContext.pack());
        #}
      ENDSOURCE
      SOURCE #setAgreement_RU
        #/// <summary>
        #///     Initializes sales order from the agreement.
        #/// </summary>
        #public void setAgreement_RU()
        #{
        #    SalesAgreementHeaderExt_RU salesAgreementHeaderExt;
        #    SalesAgreementHeader salesAgreementHeader;
        #    SalesTable_RU salesTableRU;
        #
        #    salesTableRU = this.salesTable_RU();
        #
        #    if (salesTableRU.AgreementHeaderExt_RU)
        #    {
        #        salesAgreementHeaderExt = SalesAgreementHeaderExt_RU::find(salesTableRU.AgreementHeaderExt_RU);
        #
        #        salesAgreementHeader = SalesAgreementHeader::find(salesAgreementHeaderExt.AgreementHeader);
        #
        #        if (Box::yesNo("@SYS305724",DialogButton::Yes) == DialogButton::Yes)
        #        {
        #            // Transfer default settings from Agreement to SalesTable buffer...
        #            this.initFromSalesAgreementHeader(salesAgreementHeader);
        #        }
        #        else
        #        {
        #            this.DefaultDimension = this.copyDimension(salesAgreementHeader.DefaultDimension);
        #        }
        #    }
        #    else
        #    {
        #        this.MatchingAgreement = 0;
        #        this.DefaultDimension = AgreementHeaderExt_RU::clearAgreementDimension(this.DefaultDimension);
        #        this.transferCustAccount_Server(true);
        #        this.initInvoiceAccount();
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #setDeliveryName
        #/// <summary>
        #/// Sets the delivery name field that is based on a specified logistic location.
        #/// </summary>
        #/// <param name="_skipDeliveryRoleCheck">
        #/// A flag indicating whether this is a new online Retail sale; optional;
        #/// </param>
        #public void setDeliveryName(boolean _skipDeliveryRoleCheck = false)
        #{
        #    this.TradePostalAddress::setDeliveryName(_skipDeliveryRoleCheck);
        #}
      ENDSOURCE
      SOURCE #setEstimate
        #/**
        #    Returns true if the estimated amount is calculated and has changed
        #**/
        #server boolean setEstimate(SalesTotals _salesTotals = null)
        #{
        #    SalesTotals             salesTotals;
        #    SalesUpdate             qtySpec;
        #    CustParameters          custParameters          = CustParameters::find();
        #    TypeOfCreditmaxCheck    typeOfCreditmaxCheck    = custParameters.CreditMaxCheck;
        #    boolean                 hasEstimatedChanged;
        #    AmountMST               estimatedOld;
        #    MCRSalesOrderTotals      mcrSalesOrderTotals;
        #
        #    hasEstimatedChanged = false;
        #    //Total estimate for the order would be calculated on order save, if credit limit check is enabled for the company.
        #    if (this.custTable_CustAccount().shouldEstimateBeCalculated())
        #    {
        #        qtySpec = (typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceDelivered ? SalesUpdate::PackingSlip :
        #                   typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceAll       ? SalesUpdate::All         : 0);
        #
        #        if (qtySpec && this.isCreditCheckEligible())
        #        {
        #            estimatedOld        = this.Estimate;
        #
        #            if (this.mcrIsCallCenter())
        #            {
        #                if (qtySpec == SalesUpdate::All)
        #                {
        #                    mcrSalesOrderTotals = new MCRSalesOrderTotals(this);
        #                    this.Estimate = Currency::amountCur2MST(mcrSalesOrderTotals.getRemainingOrder(), this.CurrencyCode);
        #                }
        #                else
        #                {
        #                    salesTotals         = SalesTotals::construct(this, qtySpec);
        #                    this.Estimate       = Currency::amountCur2MST(salesTotals.totalAmount(), this.CurrencyCode);
        #                }
        #            }
        #            else
        #            {
        #                salesTotals         = (_salesTotals == null) ? SalesTotals::construct(this, qtySpec) : _salesTotals;
        #                this.Estimate       = Currency::amountCur2MST(salesTotals.totalAmount(), this.CurrencyCode, this.fixedExchRate());
        #            }
        #
        #            hasEstimatedChanged = (this.Estimate != estimatedOld);
        #        }
        #    }
        #
        #    this.Touched = NoYes::No;
        #
        #    return hasEstimatedChanged;
        #}
      ENDSOURCE
      SOURCE #setInventSiteId
        #public void setInventSiteId(InventSiteId _inventSiteId)
        #{
        #    this.InventSiteId = _inventSiteId;
        #    this.modifiedInventSiteFromParent();
        #}
      ENDSOURCE
      SOURCE #setListCode
        #void setListCode()
        #{
        #    this.Listcode = EUSalesList::resolveListCode(this.custTable_InvoiceAccount().postalAddress().CountryRegionId);
        #}
      ENDSOURCE
      SOURCE #setLocation
        #/// <summary>
        #/// Sets the delivery address information and related information.
        #/// </summary>
        #/// <param name="_location">
        #/// The record ID of the logistics location.
        #/// </param>
        #/// <param name="_skipDeliveryRoleCheck">
        #/// A flag indicating whether this is a new online Retail sale; optional;
        #/// </param>
        #/// <remarks>
        #/// If the <c>SalesType</c> enumeration value is <c>ReturnItem</c>, the address is set to the default
        #/// value of a receiving address.
        #/// </remarks>
        #void  setLocation(LogisticsLocationRecId _location, boolean _skipDeliveryRoleCheck = false)
        #{
        #    LogisticsLocationEntity location = LogisticsLocationEntity::constructFromLocationRecId(_location);
        #    Common transferFromTable;
        #
        #    this.DeliveryPostalAddress = location.getPostalAddress().RecId;
        #
        #    if (location)
        #    {
        #        this.setDeliveryName(_skipDeliveryRoleCheck);
        #
        #        this.Email                      = location.getEmail();
        #        this.url                        = location.getURL();
        #
        #        if (this.SalesType == SalesType::ReturnItem)
        #        {
        #            transferFromTable = this.getDeliveryEntityRecord();
        #            this.AddressRefRecId = transferFromTable.RecId;
        #            this.AddressRefTableId = transferFromTable.TableId;
        #        }
        #        else
        #        {
        #            this.AddressRefRecId            = location.parmLocationRecId();
        #            this.AddressRefTableId          = tableNum(LogisticsLocation);
        #        }
        #    }
        #    this.setListCode();
        #    this.setTaxGroup(TaxSales::custTaxGroup(this.DlvTerm, this.TaxGroup, _location));
        #}
      ENDSOURCE
      SOURCE #setNameUsingVATNum
        #private void setNameUsingVATNum(VATNum                              _vatNum,
        #                                LogisticsAddressCountryRegionId     _countryRegionId,
        #                                Name                                _name,
        #                                CustParameters                      _custParameters = CustParameters::find())
        #{
        #    TaxVATNumTable      taxVATNumTable;
        #    CountryRegionType   countryRegionType;
        #
        #    taxVATNumTable = TaxVATNumTable::find(_vatNum, _countryRegionId);
        #
        #    if (taxVATNumTable.Name)
        #    {
        #        this.SalesName      = taxVATNumTable.Name;
        #    }
        #    else
        #    {
        #        switch(_custParameters.MandatoryInvoiceVATNum)
        #        {
        #            case TaxVATNumCountryRegionType::None:
        #                this.SalesName = _name;
        #                break;
        #            case TaxVATNumCountryRegionType::DomesticEU:
        #                countryRegionType = IntrastatCountryRegionParameters::type(_countryRegionId);
        #                switch(countryRegionType)
        #                {
        #                    case CountryRegionType::Domestic:
        #                    case CountryRegionType::EU:
        #                        this.SalesName = '';
        #                        break;
        #                    default:
        #                        this.SalesName = _name;
        #                        break;
        #                }
        #                break;
        #            case TaxVATNumCountryRegionType::EU:
        #                countryRegionType = IntrastatCountryRegionParameters::type(_countryRegionId);
        #                switch(countryRegionType)
        #                {
        #                    case CountryRegionType::EU:
        #                        this.SalesName = '';
        #                        break;
        #                    default:
        #                        this.SalesName = _name;
        #                        break;
        #                }
        #                break;
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #setPriceDiscChangePolicy
        #/// <summary>
        #/// Sets the price disc change policy.
        #/// </summary>
        #/// <param name="_policySource">
        #/// An outcome of the PriceDiscSystemSource enumeration specifying the source of the policy.
        #/// </param>
        #/// <param name="_fieldId">
        #/// The id of the field in question.
        #/// </param>
        #client server void setPriceDiscChangePolicy(PriceDiscSystemSource _policySource, RefFieldId _fieldId = 0)
        #{
        #    if (!this.isInterCompanyOrder())
        #    {
        #        this.PriceDiscResultFields::createPriceDiscChangePolicy(ModuleSalesPurch::Sales, _policySource, _fieldId);
        #    }
        #}
      ENDSOURCE
      SOURCE #setPriceDiscChangePolicyMultiLine
        #/// <summary>
        #/// Calls the <c>setPriceDiscChangePolicy</c> method with fixed price discount change parameters for
        #/// the multiline discount fields.
        #/// </summary>
        #public void setPriceDiscChangePolicyMultiLine()
        #{
        #    this.setPriceDiscChangePolicy(PriceDiscSystemSource::ManualEntry, fieldNum(SalesTable, MultiLineDisc));
        #}
      ENDSOURCE
      SOURCE #setPriceDiscSystemChangePolicy
        #/// <summary>
        #/// Determines the policy source for selected system sources.
        #/// </summary>
        #
        #void setPriceDiscSystemChangePolicy()
        #{
        #    if (this.ProjId)
        #    {
        #        this.setPriceDiscChangePolicy(PriceDiscSystemSource::Project);
        #    }
        #
        #    if (this.QuotationId)
        #    {
        #        this.setPriceDiscChangePolicy(PriceDiscSystemSource::SalesQuotation);
        #    }
        #}
      ENDSOURCE
      SOURCE #setReturnAddressFromInventLocationId
        #public boolean setReturnAddressFromInventLocationId(InventLocationId _inventLocationId)
        #{
        #    InventLocation                      inventLocation;
        #    LogisticsLocationRecId              inventLocationAddress;
        #
        #    boolean                             addressSet;
        #
        #    addressSet = false;
        #
        #    if (_inventLocationId)
        #    {
        #        inventLocation          = InventLocation::find(_inventLocationId);
        #        inventLocationAddress   = LogisticsLocationDefault::findSimpleDefault(inventLocation,
        #                                    LogisticsLocationRole::findBytype(LogisticsLocationRoleType::Delivery)).RecId;
        #
        #        if (inventLocationAddress)
        #        {
        #            this.setLocation(inventLocationAddress);
        #            addressSet = true;
        #        }
        #    }
        #
        #    if (!addressSet)
        #    {
        #        addressSet = this.setReturnAddressFromInventSiteId(this.InventSiteId);
        #    }
        #
        #    return addressSet;
        #}
      ENDSOURCE
      SOURCE #setReturnAddressFromInventSiteId
        #public boolean setReturnAddressFromInventSiteId(InventSiteId _inventSiteId)
        #{
        #    LogisticsLocationRecId          logisticsLocationRecId;
        #    boolean                         addressSet = false;
        #
        #    if (_inventSiteId)
        #    {
        #        logisticsLocationRecId = LogisticsLocationDefault::findSimpleDefault(InventSite::find(_inventSiteId), LogisticsLocationRole::findBytype(LogisticsLocationRoleType::Delivery)).RecId;
        #
        #        if (logisticsLocationRecId)
        #        {
        #            this.setLocation(logisticsLocationRecId);
        #            addressSet = true;
        #        }
        #    }
        #
        #    if (!addressSet)
        #    {
        #        this.initDefaultReturnAddress();
        #        addressSet = true;
        #    }
        #
        #    return addressSet;
        #}
      ENDSOURCE
      SOURCE #setShipCarrierFromLogisticsLocation
        #/// <summary>
        #/// Sets the ship carrier data both on the header and the line level, depending on the
        #/// <c>LogisticsLocation</c> data.
        #/// </summary>
        #/// <param name="_logisticsLocation">
        #/// A <c>LogisticsLocation</c> record of a ship carrier.
        #/// </param>
        #/// <param name="_addressRecId">
        #/// The <c>LogisticsPostalAddress</c> record ID of the ship carrier.
        #/// </param>
        #/// <param name="_shipCarrierAddress">
        #/// A <c>ShipCarrierAddress</c> record.
        #/// </param>
        #/// <remarks>
        #/// If the ship carrier address has delivery terms assigned, the delivery terms are transferred to the
        #/// sales header.
        #/// </remarks>
        #public void setShipCarrierFromLogisticsLocation(LogisticsLocation _logisticsLocation,  LogisticsPostalAddressRecId _addressRecId, ShipCarrierAddress _shipCarrierAddress = null)
        #{
        #    ShipCarrierAddress      shipCarrierAddress;
        #    CustTable               custTable = this.custTable_CustAccount();
        #
        #    if (_shipCarrierAddress)
        #    {
        #        shipCarrierAddress = _shipCarrierAddress;
        #    }
        #    else
        #    {
        #        shipCarrierAddress = ShipCarrierAddress::findByCustomerLocation(this.CustAccount, _logisticsLocation.RecId);
        #    }
        #
        #    this.SalesShipCarrierMap::setShipCarrierFromLogisticsLocation(
        #        _logisticsLocation,
        #        _addressRecId,
        #        shipCarrierAddress);
        #
        #    if (shipCarrierAddress.DlvTermId)
        #    {
        #        this.DlvTerm = shipCarrierAddress.DlvTermId;
        #    }
        #    else
        #    {
        #        this.DlvTerm = custTable.DlvTerm;
        #    }
        #
        #    this.ShipCarrierResidential     = shipCarrierAddress.ShipCarrierResidentialDest;
        #    this.ShipCarrierBlindShipment   = shipCarrierAddress.ShipCarrierBlindShipment;
        #    this.ShipCarrierFuelSurcharge   = custTable.ShipCarrierFuelSurcharge;
        #}
      ENDSOURCE
      SOURCE #setShipCarrierInformation
        #void setShipCarrierInformation(SalesTable           _salesTable,
        #                               CustPackingSlipJour  _custPackingSlipJour = null,
        #                               CustInvoiceJour      _custInvoiceJour = null)
        #{
        #    DlvMode     dlvMode;
        #    DlvModeId   dlvModeId;
        #
        #    if (_custPackingSlipJour)
        #    {
        #        dlvModeId   = _custPackingSlipJour.DlvMode;
        #    }
        #    else if (_custInvoiceJour)
        #    {
        #        dlvModeId   = _custInvoiceJour.DlvMode;
        #    }
        #    else
        #    {
        #        dlvModeId = _salesTable.DlvMode;
        #    }
        #
        #    dlvMode = DlvMode::find(dlvModeId);
        #
        #    this.ShipCarrierId              = dlvMode.ShipCarrierId;
        #    this.ShipCarrierAccountCode     = dlvMode.ShipCarrierAccountCode;
        #    this.ShipCarrierDlvType         = dlvMode.ShipCarrierDlvType;
        #
        #    if (_salesTable)
        #    {
        #        this.ShipCarrierAccount         = _salesTable.ShipCarrierAccount;
        #        this.ShipCarrierDeliveryContact = _salesTable.ShipCarrierDeliveryContact;
        #        this.ShipCarrierFuelSurcharge   = _salesTable.ShipCarrierFuelSurcharge;
        #        this.ShipCarrierBlindShipment   = _salesTable.ShipCarrierBlindShipment;
        #        this.ShipCarrierResidential     = _salesTable.ShipCarrierResidential;
        #    }
        #}
      ENDSOURCE
      SOURCE #setTaxGroup
        #void setTaxGroup(TaxGroup _taxGroup)
        #{
        #    SalesTableType salesTableType;
        #
        #    salesTableType = this.type();
        #    salesTableType.setTaxGroup(_taxGroup);
        #}
      ENDSOURCE
      SOURCE #settleExchRate
        #CustExchRate settleExchRate(boolean throwOnError = false)
        #{
        #    QueryRun        queryRun;
        #    CustTransOpen   custTransOpen;
        #    CustTrans       custTrans;
        #    CustExchRate    exchRate = 0;
        #    CustExchRate    custExchRate;
        #
        #    if (this.SettleVoucher == SettlementType::SelectedTransact && SalesParameters::find().UseSettleExchRate)
        #    {
        #        queryRun = SpecTrans::createQueryRunToRefTable(this.company(), this.TableId, this.RecId, tableNum(CustTransOpen));
        #
        #        queryRun.allowCrossCompany(true);
        #
        #        while (queryRun.next())
        #        {
        #            if (queryRun.changed(tableNum(CustTransOpen)))
        #            {
        #                custTransOpen = queryRun.get(tableNum(CustTransOpen)) as CustTransOpen;
        #                if (custTransOpen)
        #                {
        #                    custTrans = custTransOpen.custTrans();
        #                    custExchRate = round(custTrans.AmountMST * 100 / custTrans.AmountCur, 0.01);
        #                    if (!exchRate)
        #                    {
        #                        exchRate = custExchRate;
        #                    }
        #                    else
        #                    {
        #                        if (exchRate != custExchRate)
        #                        {
        #                            exchRate = 0;
        #                            if (throwOnError)
        #                            {
        #                                throw error("@SYS59594");
        #                            }
        #
        #                            checkFailed("@SYS59594");
        #                            break;
        #                        }
        #                    }
        #                }
        #            }
        #        }
        #    }
        #    return exchRate;
        #}
      ENDSOURCE
      SOURCE #shipCarrierLocation
        #/// <summary>
        #/// Gets the record ID of the record in the <c>LogisticsLocationRecId</c> table that is associated with
        #/// the selected ship carrier postal address.
        #/// </summary>
        #/// <returns>
        #/// The record ID of the record in the <c>LogisticsLocationRecId</c> table.
        #/// </returns>
        #public LogisticsLocationRecId shipCarrierLocation()
        #{
        #    return LogisticsPostalAddress::getLocation(this.ShipCarrierPostalAddress);
        #}
      ENDSOURCE
      SOURCE #shipCarrierThirdPartyName
        #Name shipCarrierThirdPartyName()
        #{
        #    return LogisticsLocationEntity::findLocation(this.custTable_CustAccount(), LogisticsLocationRoleType::ShipCarrierThirdPartyShipping).parmLocationDescription();
        #}
      ENDSOURCE
      SOURCE #showContactPerson
        #display ContactPersonName showContactPerson()
        #{
        #    return ContactPerson::find(this.ContactPersonId).personName();
        #}
      ENDSOURCE
      SOURCE #showDocHanIcon
        #// AOSRunMode::Called
        #display smmDocIconNum showDocHanIcon()
        #{
        #    #macrolib.resource
        #
        #    if ((select docuRef
        #           where docuRef.RefCompanyId == this.DataAreaId &&
        #                 docuRef.RefTableId   == this.TableId &&
        #                 docuRef.RefRecId     == this.RecId).RecId)
        #    {
        #        return #RES_NODE_DOC;
        #    }
        #
        #    return #RES_AM_NEW;
        #}
      ENDSOURCE
      SOURCE #smmAmountDeliveredMST
        #server display AmountMST smmAmountDeliveredMST()
        #{
        #    return this.amountMST(this.amountDelivered());
        #}
      ENDSOURCE
      SOURCE #smmAmountInvoicedMST
        #server display AmountMST smmAmountInvoicedMST()
        #{
        #    return this.amountMST(this.amountInvoiced());
        #}
      ENDSOURCE
      SOURCE #smmAmountOrderedNotInvoicedMST
        #server display AmountMST smmAmountOrderedNotInvoicedMST()
        #{
        #    return this.amountMST(this.amountOrderedNotInvoiced());
        #}
      ENDSOURCE
      SOURCE #SumOfLineAmount
        #display SalesLineAmount SumOfLineAmount()
        #{
        #    SalesLine   salesLine;
        #
        #    select sum(LineAmount) from salesLine
        #        where salesLine.SalesId == this.SalesId;
        #
        #    return salesLine.LineAmount;
        #}
      ENDSOURCE
      SOURCE #taxModuleType
        #TaxModuleType taxModuleType()
        #{
        #    return TaxModuleType::Sales;
        #}
      ENDSOURCE
      SOURCE #timeZoneSite
        #display Timezone timeZoneSite()
        #{
        #    return InventSite::timeZoneSite(this.InventSiteId);
        #}
      ENDSOURCE
      SOURCE #tmsDisplayExpressBOL
        #/// <summary>
        #/// Displays the Customer's express bill of lading.
        #/// </summary>
        #/// <returns>
        #/// The customer's express bill of lading.
        #/// </returns>
        #// BP Deviation Documented
        #public display TMSExpressBillofLading tmsDisplayExpressBOL()
        #{
        #    return CustTable::find(this.CustAccount).ExpressBillOfLading;
        #}
      ENDSOURCE
      SOURCE #tmsDisplayRoute
        #/// <summary>
        #/// Displays the Route associated with the Sales order, if applicable.
        #/// </summary>
        #/// <returns>
        #/// The Route code if there is only one associated with the order, otherwise an empty string or "Multiple".
        #/// </returns>
        #/// <remarks>
        #/// Unfortunately we cannot cache this display method by either decorating this method with the
        #/// [SysClientCacheDataMethodAttribute(true)] attribute or adding this method to the cache on the
        #/// Sales Table Form. Reason behind is that it triggers many database calls for retrieving tmsDisplayRoute
        #/// data for all Sales orders that are in current query. Instead, custom cache is implemented in
        #/// the SaleTableForm class.
        #/// </remarks>
        #// BP Deviation Documented
        #public server display TMSRouteCode tmsDisplayRoute()
        #{
        #    SalesLine                   salesLine;
        #    TMSRouteSegmentLoadLine     segmentLine;
        #    TMSRouteCode                ret;
        #    int                         counter = 0;
        #
        #    while select RouteCode from segmentLine
        #        group by RouteCode
        #        exists join salesLine
        #            where salesLine.InventTransId   == segmentLine.InventTransId
        #               && salesLine.SalesId         == this.SalesId
        #    {
        #        ret = segmentLine.RouteCode;
        #        ++counter;
        #
        #        if (counter > 1)
        #        {
        #            break;
        #        }
        #    }
        #
        #    switch (counter)
        #    {
        #        case 0:
        #            ret = "";
        #            break;
        #        case 1:
        #            break;
        #        default:
        #            ret = "@SYS78137";
        #            break;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #totalWeightAndVolume
        #/// <summary>
        #/// Calculates total weight and volume aggregated over all sales order lines.
        #/// </summary>
        #/// <returns>
        #/// Container with two elements: total wieght and total volume.
        #/// </returns>
        #public container totalWeightAndVolume()
        #{
        #    Volume      totalVolume;
        #    Weight      totalWeight;
        #    SalesLine   salesLine;
        #
        #    while select ItemId, QtyOrdered from salesLine
        #        where salesLine.SalesId == this.SalesId
        #    {
        #        totalWeight += salesLine.tmsWeight();
        #        totalVolume += salesLine.tmsVolume();
        #    }
        #
        #    return [totalWeight, totalVolume];
        #}
      ENDSOURCE
      SOURCE #tpAddress
        #Addressing tpAddress()
        #{
        #    return LogisticsLocationEntity::findPostalAddress(this.custTable_CustAccount(), LogisticsLocationRoleType::ShipCarrierThirdPartyShipping).Address;
        #}
      ENDSOURCE
      SOURCE #transferCustAccount
        #client server void  transferCustAccount(boolean _isReplacementOrder = false)
        #{
        #    boolean initFromCustTable = true;
        #
        #    #IsoCountryRegionCodes
        #
        #    if (this.CustAccount)
        #    {
        #        if (!_isReplacementOrder && SalesParameters::find().PromptTransfer &&
        #            Box::yesNo("@SYS418", DialogButton::Yes) != DialogButton::Yes)
        #        {
        #            initFromCustTable = false;
        #        }
        #
        #        this.transferCustAccount_Server(initFromCustTable);
        #
        #        // copy the raw RU fields using this.data().salesTable_RU() from the
        #        // extension to the buffer instance using this.salesTable_RU().data(<input>)
        #        // because the RPC causes a disconnect
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#IsoRU]))
        #        {
        #            this.salesTable_RU().data(this.data().salesTable_RU());
        #        }
        #
        #        if (BrazilParameters::isEnabled())
        #        {
        #            this.salesTable_BR().data(this.data().salesTable_BR());
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #transferCustAccount_Server
        #server void  transferCustAccount_Server(boolean _initFromCustTable)
        #{
        #    MCRCustPaymTable mcrCustPaymTableCancel;
        #
        #    if (_initFromCustTable)
        #    {
        #        this.initFromCustTable();
        #        if (this.CustAccount != this.InvoiceAccount)
        #        {
        #            this.transferInvoiceAccount();
        #        }
        #    }
        #    else
        #    {
        #        this.initFromCustTableMandatoryFields();
        #    }
        #    this.copyThirdPartyAddressFromCust();
        #    SalesCalcAvailableDlvDates::initDateFieldsOrderEntryDeadline(this);
        #
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRPayment)))
        #    {
        #        // If Invoice Account has changed back out any existing payments
        #        // that are not for the new invoice account.
        #        while select RecId,RefRecId,RefTableId,CustAccount from mcrCustPaymTableCancel
        #            where mcrCustPaymTableCancel.RefRecId == this.RecId &&
        #                    mcrCustPaymTableCancel.RefTableId == this.TableId  &&
        #                    mcrCustPaymTableCancel.CustAccount != this.InvoiceAccount
        #        {
        #            MCRCustPaymTable::cancelPaym(mcrCustPaymTableCancel.RecId);
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #transferInvoiceAccount
        #void transferInvoiceAccount()
        #{
        #    MCRCustPaymTable mcrCustPaymTableCancel;
        #
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #
        #        // Invoice account has changed so back out any existing payments
        #        // that are not for the new invoice account.
        #        while select RefRecId,RecId,TableId,CustAccount from mcrCustPaymTableCancel
        #            where mcrCustPaymTableCancel.RefRecId == this.RecId &&
        #                  mcrCustPaymTableCancel.RefTableId == this.TableId  &&
        #                  mcrCustPaymTableCancel.CustAccount != this.InvoiceAccount
        #        {
        #            MCRCustPaymTable::cancelPaym(mcrCustPaymTableCancel.RecId);
        #        }
        #    }
        #    if (SalesParameters::find().PromptTransfer)
        #    {
        #        if (Box::yesNo("@SYS19435"+'\n\n'+this.InvoiceAccount+'\n\n'+CustTable::promptAddress(this.InvoiceAccount, LogisticsLocationRoleType::Delivery),DialogButton::Yes)==DialogButton::Yes)
        #        {
        #            this.initInvoiceAccount();
        #        }
        #    }
        #    else
        #    {
        #        this.initInvoiceAccount();
        #    }
        #
        #    if (this.transferTaxDefaultsFromInvoiceAcc())
        #    {
        #        this.initTaxDefaultsFromInvoiceAccount();
        #    }
        #}
      ENDSOURCE
      SOURCE #transferTaxDefaultsFromInvoiceAcc
        #private boolean transferTaxDefaultsFromInvoiceAcc()
        #{
        #    #ISOCountryRegionCodes
        #    boolean includeTaxDefaults;
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoES]))
        #    {
        #        switch(CustParameters::find().UseFiscalInvoiceAccount)
        #        {
        #            case UseFiscalInvoiceAccount::Always:
        #                includeTaxDefaults = true;
        #                break;
        #            case UseFiscalInvoiceAccount::Ask:
        #                if (Box::yesNo("@SYS112098"+'\n\n'+ this.InvoiceAccount+'\n\n'+ CustTable::promptAddress(this.InvoiceAccount, LogisticsLocationRoleType::Delivery),DialogButton::Yes)==DialogButton::Yes)
        #                {
        #                    includeTaxDefaults = true;
        #                }
        #                break;
        #            case UseFiscalInvoiceAccount::Never:
        #                break;
        #        }
        #    }
        #    return includeTaxDefaults;
        #}
      ENDSOURCE
      SOURCE #transferToOnetimeCustomer
        #/// <summary>
        #/// Updates the related one time customer entity based on the sales order.
        #/// </summary>
        #server void transferToOnetimeCustomer()
        #{
        #    CustomerEntity customerEntity;
        #    if (this.OneTimeCustomer)
        #    {
        #        ttsbegin;
        #        customerEntity = DirParty::constructFromCommon(this.custTable_CustAccount(),
        #                                                       DateTimeUtil::getSystemDateTime(),
        #                                                       DirPartyType::None,
        #                                                       true,
        #                                                       false);
        #        customerEntity.initFromSalesTable(this);
        #        customerEntity.update();
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #type
        #SalesTableType type()
        #{
        #    return SalesTableType::construct(this);
        #}
      ENDSOURCE
      SOURCE #unlinkAgreement
        #server private void unlinkAgreement(boolean _unlinkLines      = false,
        #                                    boolean _recalculatePrice = false
        #                                    ,boolean _doUpdateSalesTable = true
        #                                    ,boolean _doUpdateSalesLine  = true
        #                                    )
        #{
        #    AgreementReleaseHeaderMatch agreementReleaseHeaderMatch;
        #    SalesLine                   salesLine;
        #    boolean                     restorePriceDiscChagnePolicy = true;
        #    SalesTable_RU               salesTableRU;
        #
        #    #ISOCountryRegionCodes
        #
        #
        #    if (this.MatchingAgreement)
        #    {
        #        ttsbegin;
        #
        #        if (_unlinkLines)
        #        {
        #            while select forupdate salesLine
        #                    where salesLine.SalesId == this.SalesId
        #            {
        #                if (salesLine.MatchingAgreementLine)
        #                {
        #                    if (_recalculatePrice)
        #                    {
        #                        SalesLine::modifySalesQty(salesLine,salesLine.inventDim());
        #                        restorePriceDiscChagnePolicy = false;
        #                    }
        #                    if (restorePriceDiscChagnePolicy)
        #                    {
        #                        // Set Price Discount Change Policy originated by PriceDiscSystemSource::Agreement.
        #                        salesLine.setPriceDiscChangePolicy(PriceDiscSystemSource::Agreement);
        #                    }
        #
        #                    salesLine.unLinkAgreementLine(
        #                                                  _doUpdateSalesLine
        #                                                  );
        #                }
        #            }
        #        }
        #
        #        delete_from agreementReleaseHeaderMatch
        #        where agreementReleaseHeaderMatch.SalesTableSalesId == this.SalesId
        #           && agreementReleaseHeaderMatch.SalesTableDataAreaId == this.DataAreaId;
        #
        #        this.MatchingAgreement = 0;
        #
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #        {
        #            salesTableRU = this.salesTable_RU();
        #            salesTableRU.AgreementHeaderExt_RU = 0;
        #            this.packSalesTable_RU(salesTableRU);
        #
        #            this.DefaultDimension = AgreementHeaderExt_RU::clearAgreementDimension(this.DefaultDimension);
        #        }
        #
        #        if (_doUpdateSalesTable)
        #        {
        #            this.doUpdate();
        #        }
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #unlinkAgreementPrompt
        #public boolean unlinkAgreementPrompt(
        #                                     boolean _doUpdateSalesTable = true
        #                                     )
        #{
        #    Dialog       dialog;
        #    DialogField  dialogField;
        #    boolean      linesExist;
        #
        #    if (this.MatchingAgreement)
        #    {
        #        linesExist = SalesLine::exist(this.SalesId);
        #        dialog = new Dialog();
        #        dialog.addText("@SYS305715");
        #        if (linesExist)
        #        {
        #            dialogField = dialog.addField(extendedTypeStr(NoYesId), "@SYS23228", "@SYS305716");
        #            dialogField.value(NoYes::Yes);
        #        }
        #        if (!dialog.run())
        #        {
        #            return false;
        #        }
        #
        #        if (linesExist)
        #        {
        #            this.unlinkAgreement(linesExist, dialogField.value()
        #                                 , _doUpdateSalesTable
        #                                 );
        #        }
        #        else
        #        {
        #            this.unlinkAgreement(linesExist, false
        #                                 , _doUpdateSalesTable
        #                                 );
        #        }
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #update
        #public void  update()
        #{
        #    SalesTableType salesTableType;
        #    boolean calcEstimateAfterUpdate;
        #
        #    ttsbegin;
        #
        #    salesTableType = this.type();
        #
        #    this.Touched = NoYes::No;
        #
        #    calcEstimateAfterUpdate = this.mustDoCreditLimitAfterUpdate();
        #
        #    salesTableType.update();
        #
        #    this.SysExtensionSerializerMap::postUpdate();
        #
        #    if (calcEstimateAfterUpdate)
        #    {
        #        if (this.setEstimate())
        #        {
        #            this.doUpdate();
        #        }
        #
        #        if (CustParameters::find().salesCheckCreditOnHeader())
        #        {
        #            this.checkAgainstCreditLimit();
        #        }
        #    }
        #
        #    // Update the CRM transaction log
        #    smmTransLog::initTrans(this, smmLogAction::update);
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #updateBackStatus
        #void  updateBackStatus()
        #{
        #    SalesTableType  salesTableType;
        #
        #    salesTableType = this.type();
        #    salesTableType.updateBackStatus();
        #}
      ENDSOURCE
      SOURCE #updateDeadline
        #void  updateDeadline(SalesDeadline  deadline)
        #{
        #    SalesTableType  salesTableType;
        #
        #    salesTableType = this.type();
        #    salesTableType.updateDeadline(deadline);
        #}
      ENDSOURCE
      SOURCE #updateDeadlineOnLine
        #void updateDeadlineOnLine()
        #{
        #    SalesLine   salesLine;
        #
        #    ttsbegin;
        #
        #    update_recordset salesLine
        #        setting ReturnDeadline = this.ReturnDeadline
        #        where   salesLine.SalesId == this.SalesId;
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #updateDocumentStatus
        #void  updateDocumentStatus(DocumentStatus  documentStatus)
        #{
        #    SalesTableType  salesTableType;
        #
        #    salesTableType = this.type();
        #    salesTableType.updateDocumentStatus(documentStatus);
        #
        #    if (documentStatus == DocumentStatus::Confirmation)
        #    {
        #        RetailEventNotificationAction::InsertRetailOENAction(
        #                        RetailEventNotificationType::OrderConfirmation,
        #                        this.RecId,
        #                        this);
        #    }
        #}
      ENDSOURCE
      SOURCE #updateFinalDisc
        #server void  updateFinalDisc()
        #{
        #    SalesLine salesLine;
        #    boolean   processDisc = true;
        #
        #    // Do not calculate final discounts if they've been overridden.
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #        if (this.mcrSalesTable().PriceOverride)
        #        {
        #            processDisc = false;
        #        }
        #    }
        #
        #    if (processDisc)
        #    {
        #        if (this.icCheckUpdateHeaderDiscounts()
        #               && this.PriceDiscHeading::updateFinalDisc(salesLine))
        #        {
        #            // This will trigger the creditlimit calculation when salesTable.validateWrite is called
        #            this.Touched = NoYes::Yes;
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #updateLedgerCov
        #public void  updateLedgerCov()
        #{
        #    SalesTableType salesTableType;
        #
        #    salesTableType = this.type();
        #    salesTableType.updateLedgerCov();
        #}
      ENDSOURCE
      SOURCE #updateLineFieldsBasedOnHeaderChanges_BR
        #/// <summary>
        #/// It is responsible for updating the SalesLine when fiscal information
        #/// on header is changed
        #/// </summary>
        #public void updateLineFieldsBasedOnHeaderChanges_BR()
        #{
        #    SalesLine           salesLine;
        #    SalesLine_BR        salesLine_BR;
        #    CFOPValidation_BR   cfopValidation;
        #
        #    ttsbegin;
        #
        #    while select forupdate salesLine
        #        where salesLine.SalesId == this.SalesId
        #    {
        #
        #        cfopValidation = CFOPValidation_BR::construct(this);
        #
        #        salesLine_BR = salesLine.salesLine_BR();
        #        salesLine_BR.cfopTable_BR = cfopValidation.getDefaultCFOP();
        #        salesLine.packSalesLine_BR(salesLine_BR);
        #
        #        if (salesLine_BR.cfopTable_BR != salesLine_BR.orig().cfopTable_BR)
        #        {
        #            salesLine.setTaxGroupAndTaxItemGroupFields_BR();
        #
        #            salesLine_BR = salesLine.salesLine_BR();
        #            salesLine_BR.DeliveryCFOPTable_BR = CFOPTable_BR::find(salesLine_BR.cfopTable_BR).DeliveryCFOPTable_BR;
        #            salesLine.packSalesLine_BR(salesLine_BR);
        #
        #            salesLine.update();
        #
        #            salesLine.type().updateFiscalDocumentText_BR(FiscalDocumentTextType_BR::CFOP);
        #        }
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #updateLineReasonCode
        #/// <summary>
        #/// Updates the reason code for the sales lines of a sales order.
        #/// </summary>
        #public server void updateLineReasonCode()
        #{
        #    SalesLine       tmpSalesLine;
        #    ReasonTableRef  reasonTableRefLine;
        #    ReasonCode      reasonCode;
        #
        #    reasonCode = ReasonTableRef::find(this.CreditNoteReasonCode).Reason;
        #
        #    ttsbegin;
        #
        #    while select forupdate CreditNoteReasonCode from tmpSalesLine
        #        where tmpSalesLine.SalesId == this.SalesId &&
        #            ((tmpSalesLine.RefReturnInvoiceTrans_W == 0 && tmpSalesLine.CreditNoteInternalRef_PL != 0) ||
        #            (tmpSalesLine.RefReturnInvoiceTrans_W != 0 && tmpSalesLine.CreditNoteInternalRef_PL == 0))
        #    {
        #        if (tmpSalesLine.CreditNoteReasonCode)
        #        {
        #            reasonTableRefLine = ReasonTableRef::find(tmpSalesLine.CreditNoteReasonCode, true);
        #            reasonTableRefLine.Reason = reasonCode;
        #            reasonTableRefLine.doUpdate();
        #        }
        #        else
        #        {
        #            if (reasonCode != "")
        #            {
        #                reasonTableRefLine.Reason = reasonCode;
        #                reasonTableRefLine.insert();
        #
        #                tmpSalesLine.CreditNoteReasonCode = reasonTableRefLine.RecId;
        #                tmpSalesLine.doUpdate();
        #            }
        #        }
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #updateLineReasonComment
        #/// <summary>
        #/// Updates the reason code comments for the sales lines of a sales order.
        #/// </summary>
        #public server void updateLineReasonComment()
        #{
        #    SalesLine       tmpSalesLine;
        #    ReasonComment   reasonComment;
        #
        #    reasonComment = ReasonTableRef::find(this.CreditNoteReasonCode).ReasonComment;
        #
        #    ttsbegin;
        #
        #    while select forupdate CreditNoteReasonCode from tmpSalesLine
        #        where tmpSalesLine.SalesId == this.SalesId &&
        #            ((tmpSalesLine.RefReturnInvoiceTrans_W == 0 && tmpSalesLine.CreditNoteInternalRef_PL != 0) ||
        #            (tmpSalesLine.RefReturnInvoiceTrans_W != 0 && tmpSalesLine.CreditNoteInternalRef_PL == 0))
        #    {
        #        tmpSalesLine.editReasonComment(true, reasonComment);
        #        tmpSalesLine.doUpdate();
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #updateMultiLineDisc
        #server boolean  updateMultiLineDisc()
        #{
        #    SalesLine salesLine;
        #    boolean   ret;
        #
        #    if (this.PriceDiscHeading::updateMultiLineDisc(salesLine))
        #    {
        #        ret = true;
        #
        #        //This will trigger the creditlimit calculation when salesTable.validateWrite is called
        #        this.Touched = NoYes::Yes;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #updateSalesLineDelete
        #/// <summary>
        #/// Makes deletion-related updates to records in the <c>SalesTable</c> table.
        #/// </summary>
        #public void updateSalesLineDelete()
        #{
        #    SalesTableType  salesTableType;
        #
        #    salesTableType = this.type();
        #    salesTableType.updateSalesLineDelete();
        #}
      ENDSOURCE
      SOURCE #updateSalesType
        #void  updateSalesType()
        #{
        #    SalesTableType  salesTableType;
        #
        #    salesTableType = this.type();
        #    salesTableType.updateSalesType();
        #}
      ENDSOURCE
      SOURCE #updateServiceCode_BR
        #/// <summary>
        #/// Updates lines service code values
        #/// </summary>
        #/// <param name="_servicecodeOnDlvAddress">
        #/// Defines the which method will be called to search <c>TaxServiceCode_BR</c>
        #/// </param>
        #server void updateServiceCode_BR(boolean _servicecodeOnDlvAddress)
        #{
        #    SalesLine                 salesLine;
        #
        #    ttsbegin;
        #
        #    while select forupdate salesLine
        #          where salesLine.SalesId   == this.SalesId
        #    {
        #        salesLine.setServiceCodeId_BR(_servicecodeOnDlvAddress);
        #        salesLine.doUpdate();
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #validateDelete
        #boolean validateDelete(boolean _mcrCancel = false)
        #{
        #    boolean            ok = true;
        #    SalesTableType     salesTableType;
        #
        #    ok = super();
        #
        #    if (ok)
        #    {
        #        salesTableType = this.type();
        #        ok = salesTableType.validateDelete(_mcrCancel && this.mcrIsCallCenter());
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #validateField
        #boolean validateField(FieldId  _fieldId)
        #{
        #    boolean     ok = true;
        #    CustTable   custTable = CustTable::find(this.InvoiceAccount);
        #
        #    if (this.mcrIsCallCenter())
        #    {
        #        // A user may not turn on a price override via the checkbox,
        #        // they may only turn off the price override via the checkbox.
        #        if (_fieldId == fieldNum(MCRSalesTable, PriceOverride))
        #        {
        #            ok = ! this.mcrSalesTable().PriceOverride;
        #        }
        #
        #        // Warn that they are invoicing a merged customer
        #        if (_fieldId == fieldNum(SalesTable, InvoiceAccount))
        #        {
        #            if (custTable.mcrMergedParent)
        #            {
        #                warning(strFmt("@MCR12337",this.InvoiceAccount,custTable.mcrMergedParent));
        #                ok = false;
        #            }
        #        }
        #
        #        if (!this.LogisticsPostalAddressMap::validatePostalCode(_fieldId))
        #        {
        #            return false;
        #        }
        #    }
        #    ok = super(_fieldId) && ok;
        #
        #    if (ok)
        #    {
        #        ok = this.validateFieldServer(_fieldId);
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #validateFieldServer
        #/// <summary>
        #/// Validates a changed field on the server side.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// The field ID of the changed field.
        #/// </param>
        #/// <returns>
        #/// true if the validation succeeded; otherwise, false.
        #/// </returns>
        #public server boolean validateFieldServer(FieldId  _fieldId)
        #{
        #    boolean            ok;
        #    SalesTableType     salesTableType;
        #
        #    salesTableType = this.type();
        #    ok = salesTableType.validateField(_fieldId);
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #validateWrite
        #public boolean  validateWrite()
        #{
        #    boolean            ok = true;
        #
        #    ok = super();
        #    ok = ok && this.validateWriteServer();
        #
        #    return ok;
        #}
        #
      ENDSOURCE
      SOURCE #validateWriteServer
        #server public boolean  validateWriteServer()
        #{
        #    boolean            ok = true;
        #    SalesTableType     salesTableType;
        #    MCROrderParameters mcrOrderParameters;
        #    smmCampaignTable   campaignTable;
        #    #ISOCountryRegionCodes
        #
        #    if (ok && !this.SalesId)
        #    {
        #        ok = checkFailed(strFmt("@SYS26332", fieldId2pname(tableNum(SalesTable), fieldNum(SalesTable, SalesId))));
        #    }
        #    salesTableType = this.type();
        #
        #    if (ok && this.Touched)
        #    {
        #        ok = SalesTableType::checkAgainstCreditLimit(this);
        #    }
        #
        #    if (ok)
        #    {
        #        setPrefix(strFmt("@SYS25975", this.SalesId));
        #        ok = salesTableType.validateWrite();
        #    }
        #
        #    if (ok && this.InclTax && SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLT, #isoHU]))
        #    {
        #        ok = this.SalesPurchTable::validateExcludeTaxFromInvoice();
        #    }
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #        mcrOrderParameters = MCROrderParameters::find();
        #        // Check for sourceId if parameters set to mandatory.
        #        if (mcrOrderParameters.mcrSourceCodeRequired
        #            && this.SalesType != SalesType::ReturnItem
        #            && this.RecId
        #            && this.mcrSalesTable().SourceId == "")
        #        {
        #            ok = checkFailed("@MCR12004");
        #        }
        #
        #        // Don't allow user to create a sales order for a parent campaign.
        #        if (this.SmmCampaignId)
        #        {
        #            select firstonly RecId from campaignTable
        #                where campaignTable.CampaignParentId == this.SmmCampaignId;
        #            if (campaignTable.RecId)
        #            {
        #                ok = checkFailed("@MCR26162");
        #            }
        #        }
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #voidCreditCardPreauthorize
        #/// <summary>
        #/// Voids the credit card pre-authorization for a sales order.
        #/// </summary>
        #void voidCreditCardPreauthorize()
        #{
        #    CreditCardAuthTrans creditCardAuthTrans;
        #
        #    if (this.CreditCardCustRefId && this.isCreditCardPaymentType())
        #    {
        #        creditCardAuthTrans = CreditCardAuthTrans::findValidPreApproval(this.SalesId);
        #        if (creditCardAuthTrans != null)
        #        {
        #            CreditCardProcess::doVoidAuth(creditCardAuthTrans);
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #whsCheckSalesLineDeliveryPostalAddress
        #/// <summary>
        #///     Validates the sales lines postal addresses for current sales order.
        #/// </summary>
        #/// <returns>
        #///     false if the <c>SalesLine</c> table <c>DeliveryPostalAddress</c> field is 0; otherwise, true.
        #/// </returns>
        #public boolean whsCheckSalesLineDeliveryPostalAddress()
        #{
        #    SalesLine   salesLine;
        #    boolean     ok = true;
        #
        #    select firstonly RecId from salesLine
        #        where salesLine.SalesId                == this.SalesId
        #            && salesLine.DeliveryPostalAddress == 0;
        #
        #    ok = salesLine.RecId == 0;
        #
        #    return ok;
        #}
        #
      ENDSOURCE
      SOURCE #changeReturnStatus
        #public static Counter changeReturnStatus(FormDataSource _datasource, ReturnUpdateAction _updateAction)
        #{
        #    SalesTable          returnTable;
        #    SalesLine           returnLine;
        #    SalesTable          returnTableUpdate;
        #    Counter             numberOfRecords;
        #    SalesTable          salesTable;
        #    PurchTable          purchTable;
        #    PurchLine           purchLine;
        #
        #    ttsbegin;
        #
        #    for (returnTable = (_datasource.getFirst(true) ? _datasource.getFirst(true) : _datasource.cursor()) as SalesTable;
        #        returnTable;
        #        returnTable = _datasource.getNext() as SalesTable)
        #    {
        #        if (returnTable.ReturnStatus == ReturnStatusHeader::Created && !returnTable.existRegisteredReceivedInvoicedLines() && !returnTable.type().interCompanyIsDerivedOrder())
        #        {
        #            if (_updateAction == ReturnUpdateAction::Cancel)
        #            {
        #                while select forupdate returnLine
        #                      where returnLine.SalesId == returnTable.SalesId
        #                {
        #                    if (returnLine.interCompanySalesLineExist())
        #                    {
        #                        purchLine            = PurchLine::findInventTransId(returnLine.InventRefTransId,true);
        #                        purchTable           = PurchTable::find(purchLine.PurchId);
        #
        #                        purchLine.SkipUpdate = InterCompanySkipUpdate::Internal;
        #                        purchLine.delete(false);
        #
        #                        if (!purchTable.existPurchLine())
        #                        {
        #                            if (purchTable.InterCompanyCompanyId
        #                            &&  purchTable.InterCompanySalesId)
        #                            {
        #                                changecompany(purchTable.InterCompanyCompanyId)
        #                                {
        #                                    salesTable = null;
        #                                    salesTable = SalesTable::find(purchTable.InterCompanySalesId,true);
        #                                    if (salesTable)
        #                                        salesTable.delete();
        #                                }
        #                            }
        #                        }
        #                    }
        #
        #                    returnLine.SalesQty     = 0;
        #                    returnLine.CostPrice    = 0;
        #                    returnLine.ExpectedRetQty  = 0;
        #                    returnLine.salesQtyModified();
        #                    returnLine.DeliveryType = TradeLineDlvType::None;
        #                    returnLine.SkipUpdate   = InterCompanySkipUpdate::Internal;
        #                    returnLine.ReturnStatus = ReturnStatusLine::Canceled;   // This assignment is required to make sure that InventPendingQuantity gets cleaned up
        #                    returnLine.SalesStatus  = SalesStatus::Canceled;        // This assignment is required to make sure that InventPendingQuantity gets cleaned up
        #                    returnLine.ReturnClosedDate = systemDateGet();
        #                    returnLine.InventTransIdReturn = '';
        #                    returnLine.update();
        #                }
        #                if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #                {
        #                    returnLine.skipDataMethods(true);
        #                    update_recordset returnLine
        #                    setting          ReturnStatus         = ReturnStatusLine::Canceled,
        #                                     CostPrice            = 0,
        #                                     InventTransIdReturn  = '',
        #                                     SalesStatus          = SalesStatus::Canceled,
        #                                     ReturnClosedDate     = systemDateGet()
        #                    where returnLine.SalesId == returnTable.SalesId;
        #                }
        #
        #                SpecTransManager::construct(returnTable).deleteAll();
        #
        #                returnTableUpdate = SalesTable::find(returnTable.SalesId, true);
        #                returnTableUpdate.ReturnStatus               = ReturnStatusHeader::Canceled;
        #                returnTableUpdate.SalesStatus                = SalesStatus::Canceled;
        #                returnTableUpdate.InterCompanyDirectDelivery = false;
        #                returnTableUpdate.unlinkAgreement(true, false, false, true);
        #                returnTableUpdate.update();
        #            }
        #
        #            numberOfRecords++;
        #        }
        #    }
        #
        #    ttscommit;
        #
        #    return numberOfRecords;
        #}
      ENDSOURCE
      SOURCE #checkCustomsExportOrder_IN
        #/// <summary>
        #/// Checks whether in <c>SalesTable</c> table exist record wiht CustomsExportOrder_IN equal yes.
        #/// </summary>
        #/// <param name="_salesId">
        #/// The sales id is used to find record.
        #/// </param>
        #/// <returns>
        #/// Returns true, if exist record; otherwise, false.
        #/// </returns>
        #public static boolean checkCustomsExportOrder_IN(SalesId  _salesId)
        #{
        #    ;
        #
        #    return _salesId
        #        && (select firstonly RecId from salesTable
        #            where salesTable.SalesId                == _salesId
        #               && (salesTable.DocumentStatus        == DocumentStatus::Invoice
        #               || salesTable.DocumentStatus         == DocumentStatus::ShippingBill_IN)
        #               && salesTable.CustomsExportOrder_IN  == NoYes::Yes).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #checkExist
        #static boolean checkExist(SalesId  salesId)
        #{
        #    if (salesId && !SalesTable::exist(salesId))
        #    {
        #        return checkFailed(strFmt(SalesTable::txtNotExist(),salesId));
        #    }
        #
        #    return true;
        #}
      ENDSOURCE
      SOURCE #createSalesTable_Replacement
        #/// <summary>
        #/// Creates a sales order replacement.
        #/// </summary>
        #/// <param name="_originalSalesTable">
        #/// The sales table with the original sales order.
        #/// </param>
        #/// <returns>
        #/// The replacement sales order.
        #/// </returns>
        #static server SalesTable createSalesTable_Replacement(SalesTable _originalSalesTable)
        #{
        #    SalesTable      salesTable;
        #
        #    ttsbegin;
        #    salesTable.SalesType            = SalesType::Sales;
        #    salesTable.initValue();
        #    salesTable.CustAccount          = _originalSalesTable.CustAccount;
        #    salesTable.initFromCustTable();
        #    salesTable.CurrencyCode         = _originalSalesTable.CurrencyCode;
        #    salesTable.ReturnItemNum        = _originalSalesTable.ReturnItemNum;
        #    salesTable.SalesId              = NumberSeq::newGetNum(SalesParameters::numRefSalesId()).num();
        #
        #    if (_originalSalesTable.MatchingAgreement)
        #    {
        #        salesTable.MatchingAgreement = _originalSalesTable.MatchingAgreement;
        #        AgreementHeader::find(_originalSalesTable.MatchingAgreement).createAgreementReleaseHeaderMatch(salesTable);
        #    }
        #
        #    salesTable.insert();
        #
        #    ttscommit;
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #custOpenOrders
        #static SalesTable  custOpenOrders(CustAccount  custAccount, boolean  _forUpdate = false)
        #{
        #    SalesTable salesTable;
        #
        #    salesTable.selectForUpdate(_forUpdate);
        #
        #    select salesTable
        #           index hint CustIdx
        #           where salesTable.CustAccount  == custAccount                &&
        #                 (salesTable.SalesStatus == SalesStatus::None      ||
        #                  salesTable.SalesStatus == SalesStatus::Backorder ||
        #                  salesTable.SalesStatus == SalesStatus::Delivered);
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #deleteAllLines
        #public static void deleteAllLines(SalesId _salesId)
        #{
        #    SalesLine   salesLine;
        #
        #    ttsbegin;
        #
        #    delete_from salesLine where salesLine.SalesId == _salesId;
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #exist
        #static boolean exist(SalesId  salesId)
        #{
        #    if (!salesId)
        #    {
        #        return false;
        #    }
        #
        #    return (select firstonly RecId from salesTable
        #                index hint SalesIdx
        #                where salesTable.SalesId == salesId).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #existCustOpenOrder
        #static boolean existCustOpenOrder(CustAccount custAccount)
        #{
        #    SalesTable salesTable;
        #
        #    return (select firstonly RecId from salesTable
        #                index hint CustIdx
        #                where salesTable.CustAccount  == custAccount                &&
        #                      (salesTable.SalesStatus == SalesStatus::None      ||
        #                       salesTable.SalesStatus == SalesStatus::Backorder ||
        #                       salesTable.SalesStatus == SalesStatus::Delivered)).RecId != 0;
        #
        #}
      ENDSOURCE
      SOURCE #existDlvModeNotInvoiced
        #/// <summary>
        #/// Determines whether the delivery mode is used on a non-invoiced sales order.
        #/// </summary>
        #/// <param name="_dlvModeId">
        #/// The <c>DlvModeId</c> value that specifies the delivery mode record.
        #/// </param>
        #/// <returns>
        #/// true if the deliver mode is used on a non-invoiced sales order; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #/// The check is made against the sales order header and all of the non-invoiced lines.
        #/// </remarks>
        #public static server boolean existDlvModeNotInvoiced(DlvModeId _dlvModeId)
        #{
        #    boolean         isReferenced;
        #    SalesTable      salesTable;
        #    SalesLine       salesLine;
        #
        #    if (_dlvModeId == '')
        #    {
        #        return false;
        #    }
        #
        #    select firstonly
        #        RecId from salesTable
        #    where
        #        ((salesTable.SalesStatus != SalesStatus::Invoiced) && (salesTable.SalesStatus != SalesStatus::Canceled)) &&
        #        salesTable.DlvMode == _dlvModeId;
        #
        #    isReferenced = (salesTable.RecId != 0);
        #    if (!isReferenced)
        #    {
        #        select firstonly
        #            RecId from salesLine
        #        where
        #            ((salesLine.SalesStatus != SalesStatus::Invoiced) && (salesLine.SalesStatus != SalesStatus::Canceled)) &&
        #            salesLine.DlvMode == _dlvModeId;
        #
        #        isReferenced = (salesLine.RecId != 0);
        #    }
        #
        #    return isReferenced;
        #}
      ENDSOURCE
      SOURCE #existsRegQrRecInvLines
        #public static boolean existsRegQrRecInvLines(SalesId _salesId)
        #{
        #    return (select firstonly salesLine where salesLine.SalesId == _salesId &&
        #                                salesLine.ReturnStatus > ReturnStatusLine::Awaiting &&
        #                                salesLine.ReturnStatus < ReturnStatusLine::Canceled).RecId ? true : false;
        #}
      ENDSOURCE
      SOURCE #find
        #static SalesTable find(SalesId          salesId,
        #                       boolean          _forUpdate = false,
        #                       ConcurrencyModel _concurrencyModel = ConcurrencyModel::Auto)
        #{
        #    SalesTable  salesTable;
        #
        #    if (salesId)
        #    {
        #        if (_forUpdate)
        #        {
        #            salesTable.selectForUpdate (_forUpdate);
        #            if (_concurrencyModel != ConcurrencyModel::Auto)
        #            {
        #                salesTable.concurrencyModel(_concurrencyModel);
        #            }
        #        }
        #        salesTable.selectLocked    (_forUpdate);
        #
        #        select firstonly salesTable
        #            where salesTable.SalesId == salesId;
        #    }
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #findByBankLG
        #/// <summary>
        #/// Finds a record that is linked to a specified record in the <c>BankLGGuarantee</c> table.
        #/// </summary>
        #/// <param name="_bankLGRefRecId">
        #/// The record ID of the related record in the <c>BankLGGuarantee</c> table.
        #/// </param>
        #/// <param name="_forUpdate">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A record in the <c>SalesTable</c> table; otherwise, an empty record.
        #/// </returns>
        #public static SalesTable findByBankLG(
        #    BankLGRefRecId   _bankLGRefRecId,
        #    boolean          _forUpdate = false)
        #{
        #    SalesTable                          salesTable;
        #    BankLGGuaranteeCustomerSalesOrder   bankLGGuaranteeCustomerSalesOrder;
        #
        #    salesTable.selectForUpdate(_forUpdate);
        #
        #    if (_bankLGRefRecId)
        #    {
        #        select firstonly salesTable
        #            exists join bankLGGuaranteeCustomerSalesOrder
        #            where bankLGGuaranteeCustomerSalesOrder.CustomerSalesOrder  == salesTable.SalesId
        #                && bankLGGuaranteeCustomerSalesOrder.Guarantee          == _bankLGRefRecId;
        #    }
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #findOrCreateSalesTable_ItemReq
        #static server SalesTable findOrCreateSalesTable_ItemReq(CustAccount _custAccount, CustCurrencyCode _currencyCode, ProjId _projId)
        #{
        #    SalesTable      salesTable;
        #    ProjTable       projTable;
        #    SalesTableType  salesTableType;
        #
        #    projTable = ProjTable::find(_projId);
        #
        #    if (_projId)
        #    {
        #        ttsbegin;
        #
        #        select firstonly forupdate salesTable
        #            where salesTable.ProjId         == ''                   &&
        #                  salesTable.CustAccount    == _custAccount         &&
        #                  salesTable.CurrencyCode   == _currencyCode        &&
        #                  salesTable.SalesType      == SalesType::ItemReq;
        #
        #        if (salesTable.RecId && !salesTable.numberOfLines())
        #        {
        #            salesTable.ProjId           = _projId;
        #
        #            salesTableType              = SalesTableType::construct(salesTable);
        #            salesTableType.initValue();
        #
        #            salesTable.CurrencyCode     = _currencyCode;
        #            salesTable.FixedExchRate    = ProjInvoiceCurrency::find(projTable.projInvoice().ProjInvoiceProjId,salesTable.CurrencyCode).ExchRate;
        #            salesTable.update();
        #        }
        #
        #        ttscommit;
        #    }
        #
        #    select firstonly salesTable
        #        where salesTable.ProjId         == _projId              &&
        #              salesTable.CustAccount    == _custAccount         &&
        #              salesTable.CurrencyCode   == _currencyCode        &&
        #              salesTable.SalesType      == SalesType::ItemReq;
        #
        #    if (!salesTable.RecId)
        #    {
        #        salesTable = projTable.createSalesTable_ItemReq(_currencyCode);
        #    }
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #findRecId
        #static SalesTable findRecId(RecId       recId,
        #                            boolean     _forUpdate = false )
        #{
        #    SalesTable salesTable;
        #
        #    salesTable.selectForUpdate(_forUpdate);
        #
        #    select salesTable
        #        where salesTable.RecId == recId;
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #findReturnItemNum
        #static SalesTable findReturnItemNum(SalesReturnItemNum _returnItemNum, boolean _forupdate = false, ConcurrencyModel _concurrencyModel = ConcurrencyModel::Auto)
        #{
        #    SalesTable  salesTable;
        #
        #    if (_returnItemNum)
        #    {
        #        if (_forupdate)
        #        {
        #            salesTable.selectForUpdate(_forupdate);
        #            if (_concurrencyModel != ConcurrencyModel::Auto)
        #            {
        #                salesTable.concurrencyModel(_concurrencyModel);
        #            }
        #        }
        #
        #        salesTable.selectLocked(_forupdate);
        #
        #
        #        if (salesTable.mcrIsCallCenter())
        #        {
        #            select firstonly salesTable  where salesTable.ReturnItemNum == _returnItemNum &&
        #                                salesTable.SalesType == SalesType::ReturnItem;
        #        }
        #        else
        #        {
        #            select firstonly salesTable  where salesTable.ReturnItemNum == _returnItemNum &&
        #                                salesTable.ReturnStatus  != ReturnStatusHeader::None;
        #        }
        #    }
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #findSalesIdLocationSalesType
        #/// <summary>
        #/// Finds a <c>SalesTable</c> record, depending on the specified sales ID, location, and sales type.
        #/// </summary>
        #/// <param name="salesId">
        #/// A sales ID.
        #/// </param>
        #/// <param name="location">
        #/// A location.
        #/// </param>
        #/// <param name="salesType">
        #/// A sales type.
        #/// </param>
        #/// <param name="_forUpdate">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A <c>SalesTable</c> record if found; otherwise, an empty record.
        #/// </returns>
        #static SalesTable findSalesIdLocationSalesType(SalesId   salesId,RetailLocationEx2  location, SalesType salesType,
        #                       boolean  _forUpdate = false)
        #{
        #    SalesTable  salesTable;
        #    ;
        #
        #    if (salesId)
        #    {
        #        salesTable.selectForUpdate (_forUpdate);
        #        salesTable.selectLocked    (_forUpdate);
        #
        #        select firstonly salesTable
        #            index hint SalesIdx
        #            where salesTable.SalesId            == salesId
        #                && salesTable.SalesType         == salesType
        #                && salesTable.InventLocationId  == location;
        #    }
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #findSalesIdSalesType
        #/// <summary>
        #/// Finds a <c>SalesTable</c> record, depending on the specified sales ID and sales type.
        #/// </summary>
        #/// <param name="salesId">
        #/// A sales ID.
        #/// </param>
        #/// <param name="salesType">
        #/// A sales type.
        #/// </param>
        #/// <param name="_forUpdate">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A <c>SalesTable</c> record if found; otherwise, an empty record.
        #/// </returns>
        #static SalesTable findSalesIdSalesType(SalesId   salesId,
        #                                          SalesType salesType,
        #                                          boolean   _forUpdate = false)
        #{
        #    SalesTable  salesTable;
        #    ;
        #
        #    if (salesId)
        #    {
        #        salesTable.selectForUpdate(_forUpdate);
        #        salesTable.selectLocked(_forUpdate);
        #
        #        select firstonly salesTable
        #            index hint SalesIdx
        #            where salesTable.SalesId   == salesId  &&
        #                  salesTable.SalesType == salesType;
        #    }
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #getExtFieldId_BR
        #/// <summary>
        #/// Retrieves the extended field ID representation.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// Normal field ID to be included in the extended representation.
        #/// </param>
        #/// <param name="_tableId">
        #/// field ID to be included in the extended representation; optional.
        #/// </param>
        #/// <returns>
        #/// The extended field ID.
        #/// </returns>
        #/// <remarks>
        #/// Extended field ID contains the table ID in the upper bits.
        #/// If no table ID is given the field is considered as being from <c>SalesTable</c>.
        #/// </remarks>
        #public static FieldId getExtFieldId_BR(FieldId _fieldId,
        #                                       TableId _tableId = tableNum(SalesTable))
        #{
        #    TableId internalTableId;
        #
        #    switch (_tableId)
        #    {
        #        case tableNum(SalesTable):
        #            internalTableId = 0;
        #            break;
        #
        #        case tableNum(SalesTable_BR):
        #            internalTableId = 1;
        #            break;
        #
        #        case tableNum(SalesTableExtensionTH):
        #            internalTableId = 2;
        #            break;
        #
        #        default:
        #            throw error(Error::wrongUseOfFunction(funcName()));
        #    }
        #
        #    return ((internalTableId << 24) | _fieldId);
        #}
      ENDSOURCE
      SOURCE #getFieldIdFromExt_BR
        #/// <summary>
        #/// Retrieves the field ID from extended field ID representation.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// Extended field ID to retrieve normal field ID from.
        #/// </param>
        #/// <returns>
        #/// Normal field ID.
        #/// </returns>
        #/// <remarks>
        #/// Extended field ID contains the table ID in the upper bits.
        #/// </remarks>
        #public static FieldId getFieldIdFromExt_BR(FieldId _fieldId)
        #{
        #    return (_fieldId & 0xffffff);
        #}
      ENDSOURCE
      SOURCE #getFulfillmentTypeAndRate
        #/// <summary>
        #/// Returns the type and rate of fulfillment needed for autoReleaseToWarhouse to release an order.
        #/// </summary>
        #/// <param name="_salesId">
        #/// The identifier of the Sales Order to check.
        #/// </param>
        #/// <returns>
        #/// A container with the type and rate.
        #/// </returns>
        #[SysObsoleteAttribute('Use WHSFulfillmentRateRequirementsProvider::getFulfillmentTypeAndRate')]
        #static container getFulfillmentTypeAndRate(SalesId _salesId)
        #{
        #    return WHSFulfillmentRateRequirementsProvider::getFulfillmentTypeAndRate(SalesTable::find(_salesId));
        #}
      ENDSOURCE
      SOURCE #getTableIdFromExt_BR
        #/// <summary>
        #/// Retrieves the table ID from extended field ID representation.
        #/// </summary>
        #/// <param name="_fieldId">
        #/// Extended field ID to retrieve table ID from.
        #/// </param>
        #/// <returns>
        #/// The table ID
        #/// </returns>
        #/// <remarks>
        #/// Extended field ID contains the table ID in the upper bits.
        #/// </remarks>
        #public static TableId getTableIdFromExt_BR(FieldId _fieldId)
        #{
        #    TableId internalTableId = (_fieldId >> 24);
        #    TableId tableId;
        #
        #    switch (internalTableId)
        #    {
        #        case 0:
        #            tableId = tableNum(SalesTable);
        #            break;
        #
        #        case 1:
        #            tableId = tableNum(SalesTable_BR);
        #            break;
        #
        #        case 2:
        #            tableId = tableNum(SalesTableExtensionTH);
        #            break;
        #
        #        default:
        #            throw error(Error::wrongUseOfFunction(funcName()));
        #    }
        #
        #    return tableId;
        #}
      ENDSOURCE
      SOURCE #initFromCustTableIL
        #/// <summary>
        #/// Initializes a record in the <c>SalesTable</c> table from the customer account in the
        #/// <c>SalesTable</c> table.
        #/// </summary>
        #/// <param name="_salesTableContainer">
        #/// A container that contains the record from the <c>SalesTable</c> table.
        #/// </param>
        #/// <returns>
        #/// An initialized record from the <c>SalesTable</c> table.
        #/// </returns>
        #/// <remarks>
        #/// This method is expected to be called only from the <c>SalesTable.initFromCustTable</c> method and
        #/// should be called to run in IL.
        #/// </remarks>
        #private static server container initFromCustTableIL(container _salesTableContainer)
        #{
        #    SalesTable              salesTable = con2Buf(_salesTableContainer);
        #    CustTable               custTable   = salesTable.custTable_CustAccount();
        #    DirPartyTable           partyTable;
        #    CustTable               custTable_InvoiceAccount;
        #    CustParameters          custParameters;
        #    DlvMode                 dlvMode;
        #    LogisticsLocationDefault custDefaultLocations;
        #    LogisticsLocationEntity locationEntity;
        #    SalesTable_W            salesTable_W;
        #    #ISOCountryRegionCodes
        #
        #    SalesTable_RU           salesTableRU;
        #
        #    SalesTable_BR           salesTable_BR;
        #
        #    MCRSalesTable           mcrSalesTable;
        #    MCRCustTable            mcrCustTable;
        #
        #    TaxInformationCustTable_IN  taxInformationCustTableLoc;
        #    TaxWithholdParameters_IN    taxWithholdParameters;
        #    boolean                     isIndiaTaxParameterMarked = TaxParameters::checkTaxParameters_IN();
        #    boolean                     isIndiaCountryEnabled     = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
        #
        #    if (isIndiaCountryEnabled)
        #    {
        #        taxWithholdParameters = TaxWithholdParameters_IN::find();
        #    }
        #    custParameters = CustParameters::find();
        #
        #    if (custTable.Party)
        #    {
        #        select firstonly Name, LanguageId from partyTable where partyTable.RecId == custTable.Party;
        #    }
        #
        #    salesTable.CustAccount                = custTable.AccountNum;
        #    salesTable.SalesName                  = partyTable.Name;
        #    salesTable.DeliveryName               = partyTable.Name;
        #
        #    salesTable.InclTax                    = custTable.InclTax;
        #    salesTable.PriceGroupId               = custTable.PriceGroup;
        #    salesTable.LineDisc                   = custTable.LineDisc;
        #    salesTable.MultiLineDisc              = custTable.MultiLineDisc;
        #    salesTable.EndDisc                    = custTable.EndDisc;
        #    salesTable.MarkupGroup                = custTable.MarkupGroup;
        #
        #    salesTable.FreightZone                = custTable.FreightZone;
        #    salesTable.SalesGroup                 = custTable.SalesGroup;
        #    salesTable.CommissionGroup            = custTable.CommissionGroup;
        #    salesTable.InventLocationId           = custTable.InventLocation;
        #    salesTable.setInventSiteId(custTable.InventSiteId);
        #
        #    salesTable.LanguageId                 = partyTable.LanguageId;
        #
        #    salesTable.CurrencyCode               = custTable.Currency;
        #    salesTable.InvoiceAccount             = custTable.InvoiceAccount  ? custTable.InvoiceAccount
        #                                                                : custTable.AccountNum;
        #    custTable_InvoiceAccount              = salesTable.custTable_InvoiceAccount();
        #    salesTable.vatNum                     = custTable.vatNum;
        #    salesTable.EnterpriseNumber           = custTable.EnterpriseNumber;
        #    salesTable.NumberSequenceGroup        = custTable_InvoiceAccount.NumberSequenceGroup;
        #
        #    salesTable.DlvTerm                    = custTable.DlvTerm;
        #    salesTable.DlvMode                    = custTable.DlvMode;
        #    salesTable.DlvReason                  = custTable.DlvReason;
        #
        #    dlvMode                               = DlvMode::find(custTable.DlvMode);
        #    if (salesTable.DlvMode)
        #    {
        #        salesTable.ShipCarrierId              = dlvMode.ShipCarrierId;
        #        salesTable.ShipCarrierAccountCode     = dlvMode.ShipCarrierAccountCode;
        #        salesTable.ShipCarrierDlvType         = dlvMode.ShipCarrierDlvType;
        #    }
        #
        #    salesTable.initFromCustTableMandatoryFields();
        #    salesTable.setTaxGroup(TaxSales::custTaxGroup(salesTable.DlvTerm, custTable.TaxGroup, salesTable.deliveryLocation()));
        #
        #    if (custParameters.CustNameFromVATNum)
        #    {
        #        salesTable.setNameUsingVATNum(salesTable.vatNum,
        #                                salesTable.deliveryAddress().CountryRegionId,
        #                                salesTable.DeliveryName,
        #                                custParameters);
        #    }
        #
        #    salesTable.DefaultDimension           = salesTable.copyDimension(custTable.DefaultDimension);
        #    salesTable.CashDisc                   = custTable.CashDisc;
        #    salesTable.CashDiscBaseDays           = custTable.CashDiscBaseDays;
        #
        #    if (custTable.CashDisc)
        #    {
        #        salesTable.CashDiscPercent        = CashDisc::find(custTable.CashDisc).Percent;
        #    }
        #
        #    salesTable.Payment                    = custTable.PaymTermId;
        #    salesTable.initFromPayment();
        #    if (custTable.PaymSched)
        #    {
        #        salesTable.PaymentSched               = custTable.PaymSched;
        #    }
        #    salesTable.PaymMode                   = custTable.PaymMode;
        #    salesTable.PaymSpec                   = custTable.PaymSpec;
        #
        #    salesTable.PostingProfile             = CustParameters::find().PostingProfile;
        #
        #    salesTable.CreditCardCustRefId        = 0;
        #
        #    if (custTable.ContactPersonId)
        #    {
        #    salesTable.ContactPersonId            = custTable.ContactPersonId;
        #    salesTable.initFromContactInfo();
        #    }
        #    else
        #    {
        #        salesTable.url = custTable.url();
        #        salesTable.Email = custTable.email();
        #    }
        #
        #    salesTable.setListCode();
        #
        #    salesTable.SalesPoolId                = SalesParameters::find().SalesPoolId;
        #    if (custTable.SalesPoolId)
        #    {
        #        salesTable.SalesPoolId            = custTable.SalesPoolId;
        #    }
        #
        #    salesTable.GiroType                   = custTable.GiroType;
        #
        #    salesTable.ItemTagging                = custTable.rfidItemTagging;
        #    salesTable.CaseTagging                = custTable.rfidCaseTagging;
        #    salesTable.PalletTagging              = custTable.rfidPalletTagging;
        #
        #    salesTable.InterCompanyOrder          = custTable.interCompanyTradingRelationActive();
        #
        #    if (salesTable.InterCompanyOrder)
        #    {
        #        salesTable.InterCompanyCompanyId  = custTable.interCompanyTradingPartnerCompanyID();
        #    }
        #
        #    if (salesTable.SalesType == SalesType::ItemReq
        #    ||  salesTable.SalesType == SalesType::ReturnItem)
        #    {
        #        salesTable.InterCompanyAutoCreateOrders   = false;
        #        salesTable.InterCompanyDirectDelivery     = false;
        #    }
        #    else
        #    {
        #        salesTable.InterCompanyAutoCreateOrders   = custTable.InterCompanyAutoCreateOrders;
        #        salesTable.InterCompanyDirectDelivery     = custTable.InterCompanyDirectDelivery;
        #    }
        #    salesTable.InterCompanyAllowIndirectCreation  = custTable.InterCompanyAllowIndirectCreation;
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoNO]))
        #    {
        #        salesTable.BankCentralBankPurposeCode = custTable.BankCentralBankPurposeCode;
        #        salesTable.BankCentralBankPurposeText = custTable.BankCentralBankPurposeText;
        #    }
        #    salesTable.initBankAccounts_LV();
        #
        #    salesTable.ShipCarrierFuelSurcharge   = custTable.ShipCarrierFuelSurcharge;
        #    custDefaultLocations = LogisticsLocationDefault::construct(custTable);
        #
        #    if (custDefaultLocations.defaultExistsByType(LogisticsLocationRoleType::ShipCarrierThirdPartyShipping))
        #    {
        #        locationEntity = LogisticsLocationEntity::constructFromLocationRecId(
        #            custDefaultLocations.getDefaultLocationByType(LogisticsLocationRoleType::ShipCarrierThirdPartyShipping).RecId);
        #
        #        salesTable.setShipCarrierFromLogisticsLocation(locationEntity.getLogisticsLocation(), locationEntity.getPostalAddress().RecId);
        #    }
        #
        #    salesTable.TaxPeriodPaymentCode_PL    = custTable.TaxPeriodPaymentCode_PL;
        #    BankAccountTable::checkDefaultGiroBank_W(salesTable.CurrencyCode);
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        salesTableRU = salesTable.salesTable_RU();
        #
        #        if (custTable.InventProfileType_RU || custTable.InventProfileId_RU)
        #        {
        #            salesTableRU.InventProfileType_RU   = custTable.InventProfileType_RU;
        #            salesTableRU.InventProfileId_RU     = custTable.InventProfileId_RU;
        #        }
        #
        #        salesTableRU.initInvoicePostingType_RU(custTable);
        #
        #        if (!salesTable.DlvTerm)
        #        {
        #            salesTable.DlvTerm = custTable.DlvTerm;
        #        }
        #
        #        salesTable.packSalesTable_RU(salesTableRU);
        #    }
        #    if (isIndiaCountryEnabled)
        #    {
        #        taxInformationCustTableLoc            = custTable.getTaxInformationCustTable_IN();
        #        if (taxWithholdParameters.tcsInvoice)
        #        {
        #            salesTable.NatureOfAssessee_IN    = taxInformationCustTableLoc.NatureOfAssessee;
        #            salesTable.tcsGroup_IN            = taxInformationCustTableLoc.tcsGroup;
        #        }
        #        if (taxWithholdParameters.tdsInvoice)
        #        {
        #            salesTable.NatureOfAssessee_IN    = taxInformationCustTableLoc.NatureOfAssessee;
        #        }
        #        if (isIndiaTaxParameterMarked && custTable.isForeign())
        #        {
        #            salesTable.CustomsExportOrder_IN  = NoYes::Yes;
        #        }
        #    }
        #    if (CustConsInvoiceType_JP::isCustConsInvoiceEnabled())
        #    {
        #        if (custTable.ConsDay_JP != 0)
        #        {
        #            salesTable.ConsTarget_JP = NoYes::Yes;
        #        }
        #    }
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLT]))
        #    {
        #        salesTable.UnitedVATInvoice_LT = custTable.UnitedVATInvoice_LT;
        #    }
        #    salesTable.FiscalDocType_PL = custTable.FiscalDocType_PL;
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLV, #isoLT]))
        #    {
        #        salesTable.InvoiceRegister_LT         = LtInvoiceAutoNumberingGroups::autoNumberingForSalesInvoice(salesTable.CustAccount);
        #        salesTable.PackingSlipRegister_LT     = LtInvoiceAutoNumberingGroups::autoNumberingForSalesPackingSlip(salesTable.CustAccount);
        #    }
        #
        #    if (BrazilParameters::isEnabled())
        #    {
        #        salesTable_BR = salesTable.salesTable_BR();
        #        salesTable_BR.CustFinalUser_BR              = custTable.CustFinalUser_BR;
        #        salesTable_BR.ServiceCodeOnDlvAddress_BR    = custTable.ServiceCodeOnDlvAddress_BR;
        #        salesTable_BR.FineCode_BR                   = custTable.FineCode_BR;
        #        salesTable_BR.InterestCode_BR               = custTable.InterestCode_BR;
        #        salesTable_BR.PresenceType                  = custTable.PresenceType_BR;
        #        salesTable.packSalesTable_BR(salesTable_BR);
        #    }
        #    if (CustPaymModeTable::find(custTable.PaymMode).IsSEPA)
        #    {
        #        salesTable.DirectDebitMandate = CustDirectDebitMandate::getDefaultMandate(salesTable.InvoiceAccount);
        #    }
        #
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #        mcrCustTable = custTable.mcrCustTable();
        #        if (mcrCustTable.soAllocPriority
        #                || mcrCustTable.PostageGroupID)
        #        {
        #            mcrSalesTable = salesTable.mcrSalesTable();
        #
        #            // Default allocation priority from Customer
        #            mcrSalesTable.soAllocPriority = mcrCustTable.soAllocPriority;
        #
        #            // If there is no postage group ID, set it to the customer group
        #            mcrSalesTable.PostageGroupID = mcrCustTable.PostageGroupID ? mcrCustTable.PostageGroupID : custTable.CustGroup;
        #            salesTable.mcrPackMCRSalesTable(mcrSalesTable);
        #        }
        #
        #        salesTable.DefaultDimension = custTable.DefaultDimension;
        #    }
        #
        #    if (SalesTable_W::isLegalEntityInCountryRegion())
        #    {
        #        salesTable_W = salesTable.salesTable_W();
        #
        #        if (custParameters.EntryCertificateManagementEnabled_W)
        #            salesTable_W.EntryCertificateRequired_W = custTable.EntryCertificateRequired_W;
        #
        #        if (custParameters.EntryCertificateIssuingEnabled_W)
        #            salesTable_W.IssueOwnEntryCertificate_W = custTable.IssueOwnEntryCertificate_W;
        #
        #        salesTable.packSalesTable_W(salesTable_W);
        #    }
        #
        #    return buf2Con(salesTable, true);
        #}
      ENDSOURCE
      SOURCE #initFromCustTableServer
        #/// <summary>
        #/// Executes the <c>SalesTable::initFromCustTableIL</c> method after transitioning to IL.
        #/// </summary>
        #/// <param name="_packedSalesTable">
        #/// The packed <c>SalesTable</c> table on which to operate.
        #/// </param>
        #/// <returns>
        #/// The updated packed <c>SalesTable</c> buffer.
        #/// </returns>
        #/// <remarks>
        #/// This static method is required to make sure that the calls from the EP will transition to the
        #/// server tier before asserting the <c>XppILExecutePermission</c> class.
        #/// </remarks>
        #private static server container initFromCustTableServer(container _packedSalesTable)
        #{
        #    container               salesTableContainer;
        #    XppILExecutePermission  xppILExecutePermission;
        #
        #    // Transition to IL to update the sales quantity
        #    xppILExecutePermission = new XppILExecutePermission();
        #    xppILExecutePermission.assert();
        #    salesTableContainer = runTableMethodIL(tableStr(SalesTable),
        #                        tableStaticMethodStr(SalesTable, initFromCustTableIL),
        #                        _packedSalesTable);
        #    CodeAccessPermission::revertAssert();
        #
        #    return salesTableContainer;
        #}
      ENDSOURCE
      SOURCE #jumpRefSalesIdReturnTable
        #/// <summary>
        #/// Opens the sales return order form by using jump reference.
        #/// </summary>
        #/// <param name="_salesId">
        #/// A <c>SalesId</c> enumeration value that specifies the sales return order.
        #/// </param>
        #public static void jumpRefSalesIdReturnTable(SalesId _salesId)
        #{
        #    Args args = new Args();
        #
        #    args.record(SalesTable::find(_salesId));
        #
        #    new MenuFunction(menuitemDisplayStr(ReturnTableDetails), MenuItemType::Display).run(args);
        #}
      ENDSOURCE
      SOURCE #lookupCustomsExportOrder_IN
        #/// <summary>
        #/// Provides filtered lookup functionality for the <c>CustomsExportOrder_IN</c> field.
        #/// </summary>
        #/// <param name="_formControl">
        #/// A <c>FormStringControl</c> object.
        #/// </param>
        #public static void lookupCustomsExportOrder_IN(FormControl _formControl)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(SalesTable), _formControl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource;
        #    QueryBuildRange         queryBuildRange;
        #    ;
        #
        #    queryBuildDataSource    = query.addDataSource(tableNum(SalesTable));
        #    queryBuildRange         = queryBuildDataSource.addRange(fieldNum(SalesTable, CustomsExportOrder_IN));
        #    queryBuildRange.value(queryValue(NoYes::Yes));
        #
        #    queryBuildRange         = queryBuildDataSource.addRange(fieldNum(SalesTable, DocumentStatus));
        #    queryBuildRange.value(queryValue(DocumentStatus::Invoice));
        #
        #    queryBuildRange         = queryBuildDataSource.addRange(fieldNum(SalesTable, DocumentStatus));
        #    queryBuildRange.value(queryValue(DocumentStatus::ShippingBill_IN));
        #
        #    queryBuildRange         = queryBuildDataSource.addRange(fieldNum(SalesTable, CustomsShippingBill_IN));
        #    queryBuildRange.value(queryValue(NoYes::No));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesId));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesName));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesStatus));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, CustAccount));
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupDispositionCodeId
        #/// <summary>
        #/// Provides filtered lookup functionality for the <c>DispositionCodeId</c> field.
        #/// </summary>
        #/// <param name="_salesId">
        #/// An extended data type that identifies a sales order.
        #/// </param>
        #/// <param name="_lookupCtrl">
        #/// A <c>FormStringControl</c> object.
        #/// </param>
        #public static client void lookupDispositionCodeId(
        #    SalesId             _salesId,
        #    FormStringControl   _lookupCtrl)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(ReturnDispositionCode), _lookupCtrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource = query.addDataSource(tableNum(ReturnDispositionCode));
        #    QueryBuildRange         queryBuildRange;
        #
        #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(ReturnDispositionCode, DispositionAction));
        #    queryBuildRange.value(SysQuery::valueNot(DispositionAction::CreditOnly));
        #
        #    if (SalesTable::find(_salesId).ReturnReplacementCreated)
        #    {
        #        queryBuildRange.value(strFmt('!%1, !%2 , !%3', DispositionAction::CreditOnly, DispositionAction::ReplaceCredit, DispositionAction::ReplaceScrap));
        #    }
        #
        #    sysTableLookup.addLookupfield(fieldNum(ReturnDispositionCode, DispositionCodeId));
        #    sysTableLookup.addLookupfield(fieldNum(ReturnDispositionCode, DispositionAction));
        #    sysTableLookup.addLookupfield(fieldNum(ReturnDispositionCode, Description));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupDispositionCodeIdNonStocked
        #/// <summary>
        #/// Provides filtered lookup functionality for the <c>DispositionCodeId</c> field for non-stocked items.
        #/// </summary>
        #/// <param name="_salesId">
        #/// An extended data type that identifies a sales order.
        #/// </param>
        #/// <param name="_lookupCtrl">
        #/// A <c>FormStringControl</c> object.
        #/// </param>
        #public static client void lookupDispositionCodeIdNonStocked(
        #    SalesId             _salesId,
        #    FormStringControl   _lookupCtrl)
        #{
        #
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(ReturnDispositionCode), _lookupCtrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource = query.addDataSource(tableNum(ReturnDispositionCode));
        #    QueryBuildRange         queryBuildRange;
        #
        #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(ReturnDispositionCode, DispositionAction));
        #    queryBuildRange.value(SysQuery::valueNot(DispositionAction::CreditOnly));
        #    queryBuildRange.value(SysQuery::valueNot(DispositionAction::ReplaceCredit));
        #    queryBuildRange.value(SysQuery::valueNot(DispositionAction::ReplaceScrap));
        #
        #    queryBuildRange.value(strFmt('!%1, !%2 , !%3', DispositionAction::CreditOnly, DispositionAction::ReplaceCredit, DispositionAction::ReplaceScrap));
        #
        #    sysTableLookup.addLookupfield(fieldNum(ReturnDispositionCode, DispositionCodeId));
        #    sysTableLookup.addLookupfield(fieldNum(ReturnDispositionCode, DispositionAction));
        #    sysTableLookup.addLookupfield(fieldNum(ReturnDispositionCode, Description));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupWMSReception
        #static void lookupWMSReception(FormStringControl ctrl, CustAccount custAccount)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(SalesTable), ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource;
        #    QueryBuildRange         queryBuildRange;
        #
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesId));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesName));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, CustAccount));
        #
        #    queryBuildDataSource = query.addDataSource(tableNum(SalesTable));
        #
        #    if (custAccount)
        #    {
        #        queryBuildRange = queryBuildDataSource.addRange(fieldNum(SalesTable, CustAccount));
        #        queryBuildRange.value(queryValue(custAccount));
        #    }
        #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(SalesTable, SalesStatus));
        #    queryBuildRange.value(enum2Value(SalesStatus::Backorder));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #lookupWMSReceptionRMA
        #/// <summary>
        #///    Provides filtered look up functionality to the ReturnItemNum field.
        #/// </summary>
        #/// <param name="ctrl">
        #///    The form string object.
        #/// </param>
        #/// <param name="_custAccount">
        #///    A CustTable table buffer; optional.
        #/// </param>
        #/// <remarks>
        #///    Look up Return orders.
        #/// </remarks>
        #static void lookupWMSReceptionRMA(FormStringControl ctrl, CustAccount _custAccount = '')
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(SalesTable), ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource;
        #    QueryBuildRange         queryBuildRange;
        #
        #    ListEnumerator listEnumerator;
        #    List list = new List(Types::Int64);
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, ReturnItemNum));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesId));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesName));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, CustAccount));
        #
        #    queryBuildDataSource = query.addDataSource(tableNum(SalesTable));
        #
        #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #    {
        #        list = List::create(SalesTable::mcrFindRefundChecksNotApprovedOrDeclined());
        #        listEnumerator = list.getEnumerator();
        #        listEnumerator.reset();
        #        // Also show sales tables with refund checks that have not been approved nor declined yet.
        #        while (listEnumerator.moveNext())
        #        {
        #            queryBuildDataSource.addRange(fieldNum(SalesTable, RecId)).value(queryValue(listEnumerator.current()));
        #        }
        #    }
        #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(SalesTable, ReturnStatus));
        #    queryBuildRange.value(strFmt("%1, %2", SysQuery::value(ReturnStatusHeader::Created), SysQuery::value(ReturnStatusHeader::Open)));
        #
        #    if (_custAccount)
        #    {
        #        queryBuildRange = queryBuildDataSource.addRange(fieldNum(SalesTable, CustAccount));
        #        queryBuildRange.value(SysQuery::value(_custAccount));
        #    }
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #mcrCalcPostingProfile
        #/// <summary>
        #/// Determines and sets the posting profile of the passed in sales order.
        #/// </summary>
        #/// <param name="_salesTable">
        #/// The <c>SalesTable</c> record for which to set the posting profile.
        #/// </param>
        #/// <returns>
        #/// The posting profile that the sales order should be updated with.
        #/// </returns>
        #public static PostingProfile mcrCalcPostingProfile(SalesTable _salesTable)
        #{
        #    MCRCustPaymTable            mcrCustPaymTable, mcrCustPaymTable_Count;
        #    CustParameters              custParameters = CustParameters::find();
        #    MCROrderParameters          mcrOrderParameters = MCROrderParameters::find();
        #    MCRContinuityCustHeader     mcrContinuityCustHeader;
        #    PostingProfile              newProfile = _salesTable.PostingProfile;
        #
        #    if (_salesTable.PostingProfile == custParameters.PostingProfile
        #        || _salesTable.PostingProfile == custParameters.PrepaymentPostingProfile
        #        || _salesTable.PostingProfile == mcrOrderParameters.ContinuityPaymentProfile)
        #    {
        #        select firstonly RecId from mcrContinuityCustHeader
        #            where mcrContinuityCustHeader.SalesId == _salesTable.SalesId
        #                && mcrContinuityCustHeader.BillUpFront;
        #
        #        // If the order has a bill up front parent set the
        #        //posting profile to the continuity posting profile.
        #        if (mcrContinuityCustHeader.RecId)
        #        {
        #            newProfile = mcrOrderParameters.ContinuityPaymentProfile;
        #        }
        #        else
        #        {
        #            // If this order has 1 or more payments and none of them are not prepay
        #            // use the prepayment posting profile.
        #            select count(Amount) from mcrCustPaymTable_Count
        #                where mcrCustPaymTable_Count.RefTableId == _salesTable.TableId
        #                    && mcrCustPaymTable_Count.RefRecId == _salesTable.RecId
        #                    && mcrCustPaymTable_Count.Amount > 0;
        #
        #            if (mcrCustPaymTable_Count.Amount > 0)
        #            {
        #                select firstonly RecId from mcrCustPaymTable
        #                    where mcrCustPaymTable.RefRecId == _salesTable.RecId
        #                        && mcrCustPaymTable.RefTableId == _salesTable.TableId
        #                        && mcrCustPaymTable.Amount > 0
        #                        && mcrCustPaymTable.IsPrepay == NoYes::No;
        #
        #                if (mcrCustPaymTable.RecId)
        #                {
        #                    newProfile = custParameters.PostingProfile;
        #                }
        #                else
        #                {
        #                    newProfile = custParameters.PrepaymentPostingProfile;
        #                }
        #            }
        #        }
        #    }
        #
        #    // If the order does not have a posting profile and it was not determined
        #    // to be continuity or prepayment, set it to general posting profile.
        #    if (!newProfile)
        #    {
        #        newProfile = custParameters.PostingProfile;
        #    }
        #
        #    return newProfile;
        #}
      ENDSOURCE
      SOURCE #mcrContinuityLineEvalResult
        #/// <summary>
        #/// Gets the enumeration to indicate what type of continuity
        #/// order is being dealt with.
        #/// </summary>
        #/// <param name="_contLineEval">
        #/// A <c>Container</c> holding the continuity data necessary for finding the type
        #/// of the continuity.
        #/// </param>
        #/// <returns>
        #/// The type of continuity order.
        #/// </returns>
        #/// <remarks>
        #/// The <c>MCRContinuityLineEval</c> enumeration to indicate the type of continuity order.
        #/// </remarks>
        #public static MCRContinuityLineEval mcrContinuityLineEvalResult(container _contLineEval)
        #{
        #    if (conPeek(_contLineEval, 1) != 0)
        #    {
        #        if (conPeek(_contLineEval, 2)==0 && conPeek(_contLineEval, 3) == 0)
        #            return MCRContinuityLineEval::PayAllNow;
        #        if (conPeek(_contLineEval, 2)==0 && conPeek(_contLineEval, 3)!=0)
        #            return MCRContinuityLineEval::PayPartNowPartSched;
        #        if (conPeek(_contLineEval, 2)!=0 && conPeek(_contLineEval, 3)==0)
        #            return MCRContinuityLineEval::PayPartNowPartSched;
        #        if (conPeek(_contLineEval, 2)!=0 && conPeek(_contLineEval, 3)!=0)
        #            return MCRContinuityLineEval::PayPartNowPartSched;
        #    }
        #    if (conPeek(_contLineEval, 2) != 0)
        #    {
        #        if (((conPeek(_contLineEval, 1)==0
        #            && conPeek(_contLineEval, 3)==0))
        #            || ((conPeek(_contLineEval, 1)==0
        #            && conPeek(_contLineEval, 3)!=0)))
        #        {
        #        if (conPeek(_contLineEval, 4)!=0)
        #            return MCRContinuityLineEval::PayPartNowPartSched;
        #        else
        #            return MCRContinuityLineEval::PayAllLater;
        #        }
        #        if (conPeek(_contLineEval, 2) != 0)
        #        {
        #        if ((conPeek(_contLineEval, 1)!=0
        #            && conPeek(_contLineEval, 3)== 0)
        #            || (conPeek(_contLineEval, 1)!=0
        #            && conPeek(_contLineEval, 3 != 0)))
        #            return MCRContinuityLineEval::PayPartNowPartSched;
        #        }
        #    }
        #    if (conPeek(_contLineEval, 3)!=0)
        #    {
        #        if ((conPeek(_contLineEval, 1)==0
        #            && conPeek(_contLineEval, 2)==0)
        #            || (conPeek(_contLineEval, 1)==0
        #            && conPeek(_contLineEval, 2)!=0))
        #        {
        #            if (conPeek(_contLineEval, 4)==0)
        #                return MCRContinuityLineEval::PayAllLater;
        #            else
        #                return MCRContinuityLineEval::PayPartNowPartSched;
        #        }
        #        if ((conPeek(_contLineEval, 1)!=0
        #            && conPeek(_contLineEval, 2)==0)
        #            || (conPeek(_contLineEval, 1)!=0
        #            && conPeek(_contLineEval, 2)!=0))
        #        {
        #            return MCRContinuityLineEval::PayPartNowPartSched;
        #        }
        #    }
        #    return MCRContinuityLineEval::Blank;
        #}
      ENDSOURCE
      SOURCE #mcrEvalContOrderLines
        #/// <summary>
        #/// Loops through all sales lines associated with this sales order and returns a
        #/// container with the number if lines that are bill up fronts with no payment schedules, bill up front with
        #/// payment schedules, or regular items.
        #/// </summary>
        #/// <param name="_salesId">
        #/// The <c>SalesId</c> of the sales order for wihich to count the continuity lines.
        #/// </param>
        #/// <returns>
        #/// The counts of the number if lines that are bill up fronts with no payment schedules, bill up front with
        #/// payment schedules, or regular items.
        #/// </returns>
        #public static container mcrEvalContOrderLines(SalesId _salesId)
        #{
        #    SalesLine   salesLine;
        #    int         billUpFrontPaymSched = 0;
        #    int         billUpFrontNoPaymSched = 0;
        #    int         nonBillUpFront = 0;
        #    int         regularItemLines = 0;
        #    InventTable inventTable;
        #    MCRInventTable mcrInventTable;
        #
        #    while select ItemId  from salesLine
        #        where  salesLine.SalesId == _salesId
        #        outer join RecId from inventTable
        #            where inventTable.ItemId == salesLine.ItemId
        #        outer join ContinuityScheduleId from mcrInventTable
        #            where mcrInventTable.InventTable == inventTable.RecId
        #
        #
        #    {
        #        // Is this item continuity.
        #        if (InventTable::mcrIsItemContinuity(salesLine.ItemId))
        #        {
        #            // If continuity item, is the attached schedule a bill up front
        #            // with no payment schedule.
        #            if (MCRContinuityScheduleHeader::isBillUPFrontWithNoPaymSched(mcrInventTable.ContinuityScheduleId))
        #            {
        #                billUpFrontNoPaymSched += 1;
        #            }
        #            else if (MCRContinuityScheduleHeader::isBillUPFrontWithPaymSched(mcrInventTable.ContinuityScheduleId))
        #            {
        #                billUpfrontPaymSched += 1;
        #            }
        #            else
        #            {
        #                nonBillUpFront += 1;
        #            }
        #        }
        #        else
        #        {
        #            regularItemLines += 1;
        #        }
        #    }
        #    return[billUpFrontNoPaymSched, billUpFrontPaymSched, nonBillUpFront, regularItemLines];
        #}
      ENDSOURCE
      SOURCE #mcrExistCustSalesOrder
        #/// <summary>
        #/// Determines whether an order exists for the passed customer.
        #/// </summary>
        #/// <param name="_custAccount">
        #/// The customer's account number for which this method determins if a sales order exists.
        #/// </param>
        #/// <returns>
        #/// true if a sales order exists for the passed customer; otherwise, false.
        #/// </returns>
        #public static boolean mcrExistCustSalesOrder(AccountNum _custAccount)
        #{
        #    SalesTable salesTable;
        #    if(_custAccount)
        #    {
        #        return (select firstonly RecId from salesTable
        #            where salesTable.CustAccount == _custAccount).RecId != 0;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #mcrFindRefundChecksNotApprovedOrDeclined
        #/// <summary>
        #/// Finds refund checks that have not been approved or declined.
        #/// </summary>
        #/// <returns>
        #/// A list of <c>SalesTable</c> records that have declined or
        #///     unapproved refund checks.
        #/// </returns>
        #private static container mcrFindRefundChecksNotApprovedOrDeclined()
        #{
        #    SalesTable              salesTable;
        #    MCRCustPaymTable        mcrCustPaymTable;
        #    List                    list = new List(Types::Int64);
        #
        #    //Also show sales tables with refund checks that have not been approved nor declined yet.
        #    while select RecId from salesTable
        #        where  (salesTable.ReturnStatus == ReturnStatusHeader::Created
        #                || salesTable.ReturnStatus == ReturnStatusHeader::Open)
        #                || salesTable.mcrOrderStopped == NoYes::Yes
        #        exists join mcrCustPaymTable
        #            where mcrCustPaymTable.RefTableId == salesTable.TableId
        #                && mcrCustPaymTable.RefRecId   == salesTable.RecId
        #                && mcrCustPaymTable.Status != MCRCustPaymStatus::Declined
        #                && mcrCustPaymTable.CustPaymType == MCRCustPaymType::RefundCheck
        #    {
        #        list.addEnd(salesTable.RecId);
        #    }
        #
        #    return list.pack();
        #}
      ENDSOURCE
      SOURCE #mcrFindReturnByExchId
        #/// <summary>
        #/// Finds the returns sales order based on the passed in exchange order <c>SalesId</c>.
        #/// </summary>
        #/// <param name="_exchSalesId">
        #/// The <c>SalesId</c> of the exchange order  to use in finding the sales order recrod.
        #/// </param>
        #/// <param name="_forUpdate">
        #///  A <c>Boolean</c> value defining whether or not the <c>SalesTable</c> record
        #/// should be selected for update; optional.
        #/// </param>
        #/// <returns>
        #/// The sales order found by the exchange order <c>SalesId</c>.
        #/// </returns>
        #public static SalesTable mcrFindReturnByExchId(SalesId _exchSalesId, boolean  _forUpdate = false)
        #{
        #    SalesTable  salesTable;
        #
        #    if (_exchSalesId)
        #    {
        #        salesTable.selectForUpdate (_forUpdate);
        #
        #        select firstonly salesTable
        #            where salesTable.ReturnReplacementId == _exchSalesId;
        #    }
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #mcrFindSource
        #/// <summary>
        #/// Finds a sales order containing the passed <c>MCRSourceID</c>.
        #/// </summary>
        #/// <param name="_sourceId">
        #/// The <c>MCRSourceId</c> used to find a sales order.
        #/// </param>
        #/// <param name="_forUpdate">
        #/// A boolean that determines whether to select the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// The <c>SalesTable</c> record containing the passed <c>MCRSourceId</c> if one exists;
        #/// otheriwse, an empty buffer.
        #/// </returns>
        #public static SalesTable mcrFindSource(MCRSourceID _sourceId, boolean  _forUpdate = false)
        #{
        #    SalesTable      salesTable;
        #    MCRSalesTable   mcrSalesTable;
        #
        #    if (_sourceId)
        #    {
        #        salesTable.selectForUpdate (_forUpdate);
        #
        #        select firstonly salesTable
        #        exists join mcrSalesTable
        #        where mcrSalesTable.SalesTable == salesTable.RecId
        #        && mcrSalesTable.SourceId == _sourceId;
        #    }
        #
        #    return salesTable;
        #}
      ENDSOURCE
      SOURCE #mcrGetOldestOutOfBalanceDate
        #/// <summary>
        #/// Gets the oldest sales order that is over or under paid.
        #/// </summary>
        #/// <param name="_status">
        #/// The out of balance status for which to search.
        #/// </param>
        #/// <returns>
        #/// The date that the oldest sales order that is over or under paid was created.
        #/// </returns>
        #static TransDate mcrGetOldestOutOfBalanceDate(MCRPaymOutOfBalance _status)
        #{
        #    SalesTable              salesTable;
        #    MCRSalesTable           mcrSalesTable;
        #    TransDate               dateCreated=dateNull();
        #
        #    select firstonly CreatedDateTime, RecId from salesTable
        #        order by CreatedDateTime
        #        where salesTable.SalesStatus == SalesStatus::Backorder
        #        exists join mcrSalesTable
        #        where mcrSalesTable.SalesTable == salesTable.RecId
        #            && mcrSalesTable.PaymOutOfBalance == _status;
        #
        #    if(salesTable.RecId)
        #    {
        #        dateCreated = DateTimeUtil::date(salesTable.CreatedDateTime);
        #    }
        #
        #    return dateCreated;
        #}
      ENDSOURCE
      SOURCE #mcrInsertFraudHold
        #private static void mcrInsertFraudHold(SalesId salesId, MCRHoldCodeComment _mcrHoldCodeComment)
        #{
        #    MCRHoldCodeTrans    mcrHoldCodeTrans;
        #
        #    ttsbegin;
        #    mcrHoldCodeTrans.InventRefId = salesId;
        #    mcrHoldCodeTrans.mcrHoldCode = MCROrderParameters::find().mcrFraudManualHoldCode;
        #    mcrHoldCodeTrans.mcrHoldCodeComment = _mcrHoldCodeComment;
        #
        #    if (mcrHoldCodeTrans.validateWrite())
        #    {
        #        mcrHoldCodeTrans.insert();
        #    }
        #    else
        #    {
        #        throw error("@SYS104318");
        #    }
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #mcrIsOrderContinuityParent
        #/// <summary>
        #/// Determines if the <c>SalesTable</c> record, found by the passed sales ID,
        #/// is a continuity order parent.
        #/// </summary>
        #/// <param name="_salesId">
        #/// The <c>SalesId</c> of the sales order for which this method determins if it is a
        #/// continuity order parent.
        #/// </param>
        #/// <returns>
        #/// True if the sales order containing the passed <c>SalesId</c> is a continuity order
        #/// parent; otherwise, false.
        #/// </returns>
        #public static boolean mcrIsOrderContinuityParent(SalesId _salesId)
        #{
        #    if (SalesTable::find(_salesId, false).mcrSalesTable().ContinuityOrder)
        #    {
        #        return true;
        #    }
        #    else
        #    {
        #        return false;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrJumpRef
        #/// <summary>
        #///  Passes records to the <c>SalesTable</c> menu function based on the passed record and string.
        #/// </summary>
        #/// <param name="_record">
        #/// The record to be passed to the <c>SalesTable</c> menu function.
        #/// </param>
        #/// <param name="_customerServiceParam">
        #/// Thestring parameter for the customer service form.
        #/// </param>
        #/// <param name="_caller">
        #/// The calling object; optional.
        #/// </param>
        #/// <returns>
        #/// The returned value from the <c>SalesTable</c> menu function.
        #/// </returns>
        #public static str mcrJumpRef(Common _record, MCRCustomerServiceParam _customerServiceParam, Object _caller = null)
        #{
        #    Args                    args;
        #    FormRun                 formRun;
        #    str                     rv;
        #    MCRSalesTableConfigure  salesTableConfigure = new MCRSalesTableConfigure();
        #
        #    args = new Args();
        #    args.parmEnum(NoYes::Yes);
        #    args.record(_record);
        #    salesTableConfigure.parmCustomerServiceParam(_customerServiceParam);
        #    args.parmObject(salesTableConfigure);
        #    args.caller(_caller);
        #    formRun = new MenuFunction(menuitemDisplayStr(salesTable), MenuItemType::Display).create(args);
        #    formRun.run();
        #    formRun.wait();
        #
        #    rv = args.parm();
        #    return rv;
        #}
      ENDSOURCE
      SOURCE #mcrlookupByInvoiceAccountInvoiceId
        #/// <summary>
        #/// looks up all sales orders that have the passed customer invoice account and are related to
        #/// the customer invoice journal with the passed invoice ID.
        #/// </summary>
        #/// <param name="_callingControl">
        #/// The calling form control.
        #/// </param>
        #/// <param name="_custInvoiceAccount">
        #/// The customer invoice account to search for.
        #/// </param>
        #/// <param name="_invoiceId">
        #/// The invoice number to search for.
        #/// </param>
        #public static void mcrlookupByInvoiceAccountInvoiceId(FormControl         _callingControl,
        #                                                    CustInvoiceAccount    _custInvoiceAccount,
        #                                                    InvoiceId             _invoiceId)
        #{
        #    SysTableLookup          sysTableLookup;
        #    Query                   query;
        #    QueryBuildDataSource    qbdsSalesTable;
        #    QueryBuildDataSource    qbdsCustInvoiceJour;
        #
        #    sysTableLookup = SysTableLookup::newParameters(tableNum(SalesTable), _callingControl);
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesId));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, CustAccount));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, InvoiceAccount));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesStatus));
        #
        #    query = new Query();
        #    qbdsSalesTable = query.addDataSource(tableNum(SalesTable));
        #
        #    if (_custInvoiceAccount)
        #    {
        #        qbdsSalesTable.addRange(fieldNum(SalesTable, InvoiceAccount))
        #            .value(SysQuery::value(_custInvoiceAccount));
        #    }
        #
        #    // Sort by sales ID descending.
        #    qbdsSalesTable.addSortField(fieldNum(SalesTable, SalesId), SortOrder::Descending);
        #
        #    if (_invoiceId)
        #    {
        #        qbdsCustInvoiceJour = qbdsSalesTable.addDataSource(tableNum(CustInvoiceJour));
        #        qbdsCustInvoiceJour.relations(true);
        #        qbdsCustInvoiceJour.addRange(fieldNum(CustInvoiceJour, InvoiceId))
        #            .value(SysQuery::value(_invoiceId));
        #    }
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #mcrlookupInWarehouseOrders
        #/// <summary>
        #/// Looks up sales orders that are no picked or in warehouse status.
        #/// </summary>
        #/// <param name="ctrl">
        #/// The form string control.
        #/// </param>
        #public static void mcrlookupInWarehouseOrders(FormStringControl ctrl)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(SalesTable), ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    queryBuildDataSource;
        #    QueryBuildRange         queryBuildRange;
        #
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesId));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, SalesName));
        #    sysTableLookup.addLookupfield(fieldNum(SalesTable, CustAccount));
        #
        #    queryBuildDataSource = query.addDataSource(tableNum(SalesTable));
        #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(SalesTable, SalesStatus));
        #    queryBuildRange.value(enum2Value(SalesStatus::Backorder));
        #    queryBuildRange = queryBuildDataSource.addRange(fieldNum(SalesTable, mcrOrderStopped));
        #    queryBuildRange.value(enum2Value(NoYes::No));
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
      ENDSOURCE
      SOURCE #mcrUnReserveOrderLines
        #/// <summary>
        #/// Un-reserves all of the sales order lines for the <c>SalesId</c> passed.
        #/// </summary>
        #/// <param name="_salesId">
        #/// The <c>SalesId</c> for which to un-reserve any sales order lines that have been reserved.
        #/// </param>
        #public static void mcrUnReserveOrderLines(SalesId _salesId)
        #{
        #    SalesLine           salesLine;
        #    InventTrans         inventTrans;
        #    InventDim           inventDim;
        #    InventTransOrigin   inventTransOrigin;
        #
        #    // Get all of the lines which are reserved and un-reserve them.
        #    while select salesLine
        #        where salesLine.SalesId == _salesId
        #        join inventTrans
        #        exists join inventTransOrigin
        #        where inventTrans.InventTransOrigin == inventTransOrigin.RecId
        #            && inventTransOrigin.InventTransId == salesLine.InventTransId
        #            && inventTrans.StatusIssue == StatusIssue::ReservPhysical
        #        join inventDim
        #        where inventDim.InventDimId == inventTrans.InventDimId
        #    {
        #        MCRAutoallocatebo::unreserve(salesLine, inventTrans, inventDim, false);
        #    }
        #
        #}
      ENDSOURCE
      SOURCE #mcrUpdateContinuityPayments
        #/// <summary>
        #/// Updates the continuity payment records when the
        #/// invoice account is modified.
        #/// </summary>
        #/// <param name="_salesTable">
        #/// The sales order record for which the continuity payment records need to be updated.
        #/// </param>
        #public static void mcrUpdateContinuityPayments(SalesTable _salesTable)
        #{
        #    MCRCustPaymTable            mcrCustPaymTableHeader;
        #    MCRContinuityCustHeader     mcrContinuityCustHeader;
        #    CustPaymSchedLine           custPaymSchedLine;
        #    CustPaymSched               custPaymSched;
        #    MCRCustPaymTable            mcrCustPaymTable;
        #
        #    // For all header records related to this order we need to update the assocated continuity
        #    //  payment records.
        #    while select forupdate mcrContinuityCustHeader
        #        where mcrContinuityCustHeader.SalesId == _salesTable.SalesId
        #    {
        #        // Find the payment associated with the continuity header.
        #        select forupdate mcrCustPaymTableHeader
        #            where mcrCustPaymTableHeader.RefRecId == mcrContinuityCustHeader.RecId
        #                && mcrCustPaymTableHeader.RefTableId == mcrContinuityCustHeader.TableId
        #                && mcrCustPaymTableHeader.CustAccount != _salesTable.InvoiceAccount;
        #
        #        // If a header payment was found update the account.
        #        if (mcrCustPaymTableHeader)
        #        {
        #            mcrCustPaymTableHeader.CustAccount = _salesTable.InvoiceAccount;
        #            ttsbegin;
        #            if (mcrCustPaymTableHeader.validateWrite())
        #            {
        #                mcrCustPaymTableHeader.update();
        #            }
        #            else
        #            {
        #                throw error("@SYS104318");
        #            }
        #            ttscommit;
        #        }
        #        // Regardless of whether or not a header payment record was found, need to make
        #        //  sure that a related payment schedule is correct.
        #        select firstonly RecId from custPaymSched
        #            where custPaymSched.ExtTableId == mcrContinuityCustHeader.TableId
        #                && custPaymSched.ExtRecId == mcrContinuityCustHeader.RecId;
        #
        #        // If there is a payment schedule related to the order update the record.
        #        if (custPaymSched.RecId)
        #        {
        #            // Find the lines associated with the payment schedule.
        #            while select RecId, TableId from custPaymSchedLine
        #                where custPaymSchedLine.ParentRecID == custPaymSched.RecId
        #                join forupdate mcrCustPaymTable
        #                where mcrCustPaymTable.RefRecId == custPaymSchedLine.RecId
        #                    && mcrCustPaymTable.RefTableId == custPaymSchedLine.TableId
        #                    && mcrCustPaymTable.CustAccount != _salesTable.InvoiceAccount
        #            {
        #                if (mcrCustPaymTable)
        #                {
        #                    mcrCustPaymTable.CustAccount = _salesTable.InvoiceAccount;
        #                    ttsbegin;
        #                    if ( mcrCustPaymTable.validateWrite())
        #                    {
        #                         mcrCustPaymTable.update();
        #                    }
        #                    else
        #                    {
        #                        throw error("@SYS104318");
        #                    }
        #                    ttscommit;
        #                }
        #            }
        #        }
        #
        #        ttsbegin;
        #        mcrContinuityCustHeader.CustAccount = _salesTable.InvoiceAccount;
        #        if (mcrContinuityCustHeader.validateWrite())
        #        {
        #            mcrContinuityCustHeader.update();
        #        }
        #        else
        #        {
        #            throw error("@SYS104318");
        #        }
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrUpdateSalesStatus
        #/// <summary>
        #/// Updates the status and order stopped flag of the passed <c>SalesTable</c> record.
        #/// </summary>
        #/// <param name="_salesTable">
        #/// The <c>SalesTable</c> record for which this methods updates status and stopped order flag.
        #/// </param>
        #/// <param name="_status">
        #/// The status to be set on the passed sales order.
        #/// </param>
        #/// <param name="_mcrOrderStopped">
        #/// The <c>NoYes</c> enumeration that determines whether the order is stopped; optional.
        #/// </param>
        #public static void mcrUpdateSalesStatus(SalesTable _salesTable,
        #                                        SalesStatus _status,
        #                                        MCROrderStopped _mcrOrderStopped = NoYes::No)
        #{
        #    if (_salesTable)
        #    {
        #        ttsbegin;
        #        _salesTable.selectForUpdate(true);
        #        _salesTable.reread();
        #        _salesTable.SalesStatus = _status;
        #        _salesTable.mcrOrderStopped = _mcrOrderStopped;
        #        _salesTable.update();
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrUserName
        #/// <summary>
        #/// Gets the user name based on the <c>UserId</c>.
        #/// </summary>
        #/// <returns>
        #/// The user name.
        #/// </returns>
        #public static UserName mcrUserName()
        #{
        #    UserInfo userInfo;
        #
        #    select firstonly Name, Id from userInfo
        #        where userInfo.Id == curUserId();
        #
        #    return userInfo.Name;
        #}
      ENDSOURCE
      SOURCE #meetsFulfilmentRate
        #/// <summary>
        #/// Checks whether the Sales Order is fulfilled or not.
        #/// </summary>
        #/// <param name="_salesId">
        #/// The identifier of the Sales Order to check.
        #/// </param>
        #/// <returns>
        #/// True if the Sales Order is fulfilled or doesn't have the fulfillment type, false otherwise.
        #/// </returns>
        #public static boolean meetsFulfilmentRate(SalesId _salesId)
        #{
        #    return WHSFulfillmentRateValidator::checkFulfillmentRate(SalesTable::find(_salesId), ErrorTolerance::Warning);
        #}
      ENDSOURCE
      SOURCE #promptConvertCurrencyCode
        #client static container promptConvertCurrencyCode(SalesTable _salesTable = null)
        #{
        #    DialogButton            dialogButton;
        #    if (!isConfigurationkeyEnabled(configurationKeyNum(PriceDisc)))
        #    {
        #        dialogButton = Box::okCancel("@SYS54755", DialogButton::Ok);
        #
        #        if (dialogButton == DialogButton::Ok)
        #        {
        #            return [NoYes::Yes, TradeCurencyConversion::ExchRate];
        #        }
        #
        #        return [NoYes::No, TradeCurencyConversion::ExchRate];
        #    }
        #
        #    return TradeCurrencyConversionPrompt::newFromParm(_salesTable,
        #                                                      _salesTable.SalesId,
        #                                                      _salesTable.priceDiscChangePolicyExistOnLine()
        #                                                      ).promptConvertCurrencyCode();
        #}
      ENDSOURCE
      SOURCE #promptCopyDeliveryAddress
        #client static DialogButton  promptCopyDeliveryAddress()
        #{
        #    return Box::yesYesAllNoCancel("@SYS78472", DialogButton::Yes);
        #}
      ENDSOURCE
      SOURCE #promptCopyThirdPartyBillingAddress
        #client static DialogButton  promptCopyThirdPartyBillingAddress()
        #{
        #    return Box::yesNo("@SYS119160", DialogButton::Yes);
        #}
      ENDSOURCE
      SOURCE #returnUpdatedHeaderStatus
        #static void returnUpdatedHeaderStatus(SalesId _salesId, DocumentStatus _documentStatus = DocumentStatus::None)
        #{
        #    SalesLine                   salesLine;
        #    SalesTable                  salesTable;
        #    SalesTableType_ReturnItem   salesTableType_ReturnItem;
        #
        #    switch (_documentStatus)
        #    {
        #        case DocumentStatus::PackingSlip :
        #            select firstonly RecId from salesLine where salesLine.SalesId       == _salesId &&
        #                                                (salesLine.ReturnStatus == ReturnStatusLine::Received   ||
        #                                                 salesLine.ReturnStatus == ReturnStatusLine::Registered);
        #
        #            if (salesLine.RecId)
        #            {
        #                ttsbegin;
        #                salesTable = SalesTable::find(_salesId, true);
        #                salesTable.ReturnStatus = ReturnStatusHeader::Open;
        #                salesTable.update();
        #                ttscommit;
        #            }
        #            break;
        #
        #        case DocumentStatus::Invoice :
        #        case DocumentStatus::Facture_RU  :
        #
        #            select firstonly RecId from salesLine where salesLine.SalesId       == _salesId &&
        #                                                (salesLine.ReturnStatus == ReturnStatusLine::Awaiting   ||
        #                                                 salesLine.ReturnStatus == ReturnStatusLine::None       ||
        #                                                 salesLine.ReturnStatus == ReturnStatusLine::Quarantine ||
        #                                                 salesLine.ReturnStatus == ReturnStatusLine::Received   ||
        #                                                 salesLine.ReturnStatus == ReturnStatusLine::Registered);
        #
        #            if (!salesLine.RecId)
        #            {
        #                ttsbegin;
        #                salesTable = SalesTable::find(_salesId, true);
        #                salesTable.ReturnStatus = ReturnStatusHeader::Closed;
        #                salesTable.update();
        #                ttscommit;
        #            }
        #            if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
        #            {
        #                // Check exchange holds to see if they can be released.
        #                if(!salesTable)
        #                {
        #                    salesTable = SalesTable::find(_salesId);
        #                }
        #
        #                if(salesTable.ReturnReplacementId)
        #                {
        #                    salesTableType_ReturnItem = SalesTableType_ReturnItem::construct(salesTable);
        #                    salesTableType_ReturnItem.mcrUpdateExchangeReturnHold();
        #
        #                }
        #            }
        #            break;
        #    }
        #}
      ENDSOURCE
      SOURCE #returnUpdateReplacement
        #public static void returnUpdateReplacement(ReturnItemNum _returnItemNum, SalesId _replacementSalesId)
        #{
        #    SalesTable returnOrder;
        #
        #    ttsbegin;
        #    returnOrder = SalesTable::findReturnItemNum(_returnItemNum,true);
        #    returnOrder.ReturnReplacementCreated    = NoYes::Yes;
        #    returnOrder.ReturnReplacementId         = _replacementSalesId;
        #    returnOrder.update();
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #returnValidateReturnItemNum
        #/// <summary>
        #/// Validates the input to the return order field.
        #/// </summary>
        #/// <param name="_returnItemNum">
        #/// A <c>ReturnItemNum</c> type.
        #/// </param>
        #/// <returns>
        #/// true if the return order in question exists; otherwise, false.
        #/// </returns>
        #static boolean returnValidateReturnItemNum(ReturnItemNum _returnItemNum)
        #{
        #    boolean ret = true;
        #    SalesTable salesTable = SalesTable::findReturnItemNum(strLTrim(_returnItemNum));
        #
        #    if (_returnItemNum && !salesTable.RecId)
        #    {
        #        //Return order %1 doesn't exists
        #        ret = checkFailed(strFmt("@SYS115108", _returnItemNum));
        #    }
        #
        #    if (ret)
        #    {
        #        if (salesTable.ReturnStatus == ReturnStatusHeader::Created || salesTable.ReturnStatus == ReturnStatusHeader::Open)
        #        {
        #            ret = true;
        #        }
        #        else
        #        {                           //Only Return orders with status %1 or %2 are legal input.
        #            ret = checkFailed(strFmt("@SYS123163", ReturnStatusHeader::Created, ReturnStatusHeader::Open));
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #setSalesOrderReleasedStatus
        #/// <summary>
        #/// Sets the released status for a sales order.
        #/// </summary>
        #/// <param name="_salesId">
        #/// The sales Id of the sales order to be updated.
        #/// </param>
        #static void setSalesOrderReleasedStatus(SalesId _salesId)
        #{
        #    SalesLine           salesLine;
        #    WHSSalesLine        whsSalesLine;
        #    SalesTable          salesTable;
        #    WHSInventEnabled    whsInventEnabled;
        #
        #    WHSReleaseStatus    calculatedReleaseStatus;
        #
        #    ttsbegin;
        #
        #    // Find total released qty for the sales order
        #    // Find total qty of sales lines for WHS enabled items
        #    select sum(ReleasedQty) from whsSalesLine
        #        join sum(QtyOrdered) from salesLine
        #        where salesLine.InventTransId       == whsSalesLine.InventTransId
        #        &&    salesLine.SalesId             == _salesId
        #        &&    salesLine.LineDeliveryType    != LineDeliveryType::OrderLineWithMultipleDeliveries
        #            exists join whsInventEnabled
        #            where whsInventEnabled.ItemId   == salesLine.ItemId;
        #
        #    // If total released qty is not zero continue to find total sales line ordered qty
        #    if (whsSalesLine.ReleasedQty != 0)
        #    {
        #        // Compare total released qty and total ordered qty
        #        if (salesLine.QtyOrdered > whsSalesLine.ReleasedQty)
        #        {
        #            // If ordered qty is greater than the status is partial released
        #            calculatedReleaseStatus = WHSReleaseStatus::PartialReleased;
        #        }
        #        else if (salesLine.QtyOrdered == whsSalesLine.ReleasedQty)
        #        {
        #            // If ordered qty is equal to released qty then the status is released
        #            calculatedReleaseStatus = WHSReleaseStatus::Released;
        #        }
        #    }
        #    else
        #    {
        #        // If there is no released qty then the status is open
        #        calculatedReleaseStatus = WHSReleaseStatus::Open;
        #    }
        #
        #    salesTable.skipDataMethods(true);
        #    update_recordSet salesTable
        #        setting ReleaseStatus = calculatedReleaseStatus
        #        where salesTable.SalesId        == _salesId
        #           && salesTable.ReleaseStatus  != calculatedReleaseStatus;
        #
        #    ttscommit;
        #}
      ENDSOURCE
      SOURCE #shipCarrierPostPickup
        #static void shipCarrierPostPickup(
        #    SalesTable          _salesTable,
        #    DocumentStatus      _documentStatus)
        #{
        #    SalesFormLetter     salesFormLetter;
        #
        #
        #    if (_documentStatus != DocumentStatus::PackingSlip && _documentStatus != DocumentStatus::Invoice
        #        && _documentStatus != DocumentStatus::Facture_RU)
        #    {
        #        return;
        #    }
        #
        #    salesFormLetter = SalesFormLetter::construct(_documentStatus);
        #
        #    salesFormLetter.allowEmptyTable(salesFormLetter.initAllowEmptyTable(true));
        #
        #    salesFormLetter.transDate(systemDateGet());
        #
        #    salesFormLetter.update(_salesTable, systemDateGet(), SalesUpdate::All, AccountOrder::None, false, true);
        #
        #    salesFormLetter.runShipCarrier();
        #}
      ENDSOURCE
      SOURCE #txtNotExist
        #static str  txtNotExist()
        #{
        #    return "@SYS15067";
        #}
      ENDSOURCE
      SOURCE #updateDlvModeFromCarrierService
        #/// <summary>
        #///   Updates delivery mode on sales order and optionally on related sales lines.
        #/// </summary>
        #/// <param name="_salesId">
        #///   The sales order ID.
        #/// </param>
        #/// <param name="_carrierCode">
        #///   The carrier code.
        #/// </param>
        #/// <param name="_carrierServiceCode">
        #///   The carrier service code.
        #/// </param>
        #/// <param name="_updateLines">
        #///   true if sales lines should be updated; otherwise false; optional.
        #/// </param>
        #/// <remarks>
        #///   The delivery mode is assigned based on carrier code and carrier service.
        #/// </remarks>
        #public static server void updateDlvModeFromCarrierService(
        #    SalesId                 _salesId,
        #    TMSCarrierCode          _carrierCode,
        #    TMSCarrierServiceCode   _carrierServiceCode,
        #    boolean                 _updateLines = false)
        #{
        #    SalesTable salesTable;
        #    SalesLine  salesLine;
        #    DlvModeId   dlvModeId = TMSCarrierService::findDlvModeId(_carrierCode, _carrierServiceCode);
        #
        #    if (dlvModeId)
        #    {
        #        ttsbegin;
        #
        #        update_recordset salesTable
        #            setting DlvMode = dlvModeId
        #            where salesTable.SalesId == _salesId;
        #
        #        if (_updateLines)
        #        {
        #            salesLine.skipDataMethods(true);
        #            update_recordset salesLine
        #                setting DlvMode = dlvModeId
        #                where salesLine.SalesId == _salesId;
        #        }
        #
        #        ttscommit;
        #    }
        #}
      ENDSOURCE
    ENDMETHODS
  ENDTABLE
  

***Element: DBT

; Microsoft Dynamics AX Table : CustTable unloaded
; --------------------------------------------------------------------------------
  TABLEVERSION 1
  
  TABLE #CustTable
    EnforceFKRelation 0
    PROPERTIES
      Name                #CustTable
      Label               #@SYS11307
      SearchLinkRefName   #EPCustTableInfo
      TitleField1         #AccountNum
      TitleField2         #Party
      ConfigurationKey    #LedgerBasic
      SecurityKey         #CustTables
      CacheLookup         #Found
      CreateRecIdIndex    #Yes
      TableGroup          #Main
      PrimaryIndex        #AccountIdx
      ClusterIndex        #AccountIdx
      ModifiedDateTime    #Yes
      DEL_modifiedTime    #Yes
      ModifiedBy          #Yes
      CreatedDateTime     #Yes
      DEL_createdTime     #Yes
      DeveloperDocumentation  #@SYS125115
      Origin              #{2C09004D-0000-1000-EAE2-82745461626C}
      LegacyId            #77
    ENDPROPERTIES
    
    FIELDS
      FIELD #AccountNum
        STRING
        PROPERTIES
          Name                #AccountNum
          Mandatory           #Yes
          AllowEdit           #No
          Table               #CustTable
          Origin              #{7CFF8DAC-340E-4D81-B9AF-B4102886A9CB}
          LegacyId            #1
          ExtendedDataType    #CustAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #AccountStatement
        ENUM
        PROPERTIES
          Name                #AccountStatement
          Table               #CustTable
          Origin              #{74B8C8A5-7D34-4B9C-8293-C14F0B545934}
          LegacyId            #16
          EnumType            #CustAccountStatement
        ENDPROPERTIES
        
      FIELD #Affiliated_RU
        ENUM
        PROPERTIES
          Name                #Affiliated_RU
          Table               #CustTable
          Origin              #{5B4D4A35-3727-42CD-B6F0-5ADC4442AF4E}
          ExtendedDataType    #CustAffiliated_RU
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #AgencyLocationCode
        STRING
        PROPERTIES
          Name                #AgencyLocationCode
          Table               #CustTable
          Origin              #{A239C01E-ABEF-4BFB-BEFF-8A886ED0328C}
          LegacyId            #16067
          ExtendedDataType    #AgencyLocationCode
          StringSize          #12
        ENDPROPERTIES
        
      FIELD #AuthorityOffice_IT
        STRING
        PROPERTIES
          Name                #AuthorityOffice_IT
          Table               #CustTable
          Origin              #{C0F0EE8F-98AC-4670-B42A-A9921C2EDA24}
          ExtendedDataType    #AuthorityOffice_IT
          StringSize          #6
        ENDPROPERTIES
        
      FIELD #BankAccount
        STRING
        PROPERTIES
          Name                #BankAccount
          HelpText            #@SYS316420
          Table               #CustTable
          Origin              #{6A41DC94-8C12-4671-814E-600E19018805}
          LegacyId            #45
          ExtendedDataType    #CustBankAccountId
        ENDPROPERTIES
        
      FIELD #BankCentralBankPurposeCode
        STRING
        PROPERTIES
          Name                #BankCentralBankPurposeCode
          HelpText            #@SYS316423
          Table               #CustTable
          Origin              #{21DF7F26-4136-4C78-BD1D-91BA5B20C0BF}
          LegacyId            #74
          ExtendedDataType    #BankCentralBankPurposeCode
        ENDPROPERTIES
        
      FIELD #BankCentralBankPurposeText
        STRING
        PROPERTIES
          Name                #BankCentralBankPurposeText
          Label               #@SYS316424
          HelpText            #@SYS316425
          Table               #CustTable
          Origin              #{5A4CD745-B4F8-43D5-A9AA-D0D98984BDE4}
          LegacyId            #73
          ExtendedDataType    #BankCentralBankPurposeText
          StringSize          #140
        ENDPROPERTIES
        
      FIELD #BankCustPaymIdTable
        INT64
        PROPERTIES
          Name                #BankCustPaymIdTable
          HelpText            #@SYS316421
          Table               #CustTable
          Origin              #{B7E6A6F1-55EB-4A5A-B3BA-AA6EA961811E}
          LegacyId            #145
          ExtendedDataType    #BankCustPaymIdRecId
        ENDPROPERTIES
        
      FIELD #BirthCountyCode_IT
        STRING
        PROPERTIES
          Name                #BirthCountyCode_IT
          Label               #@SYS343696
          HelpText            #@SYS343631
          Table               #CustTable
          Origin              #{C0C1FD30-7205-4779-9AA3-5B4AEBD96648}
          LegacyId            #280
          ExtendedDataType    #AddressCountyCode_IT
          StringSize          #2
        ENDPROPERTIES
        
      FIELD #BirthDate_IT
        DATE
        PROPERTIES
          Name                #BirthDate_IT
          HelpText            #@SYS343698
          Table               #CustTable
          CountryRegionCodes  #IT
          Origin              #{498F2104-1E43-4957-9CE5-D45075EA911F}
          LegacyId            #281
          ExtendedDataType    #BirthDate
        ENDPROPERTIES
        
      FIELD #BirthPlace_IT
        STRING
        PROPERTIES
          Name                #BirthPlace_IT
          Label               #@SYS81761
          HelpText            #@SYS343699
          Table               #CustTable
          CountryRegionCodes  #IT
          Origin              #{38942A0C-B800-4BCF-A229-69730B4BE71A}
          LegacyId            #282
          ExtendedDataType    #AddressCity
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #Blocked
        ENUM
        PROPERTIES
          Name                #Blocked
          Table               #CustTable
          Origin              #{91466E50-BBC1-4390-A58D-E4778858236C}
          LegacyId            #14
          ExtendedDataType    #CustBlocked
          EnumType            #CustVendorBlocked
        ENDPROPERTIES
        
      FIELD #CashDisc
        STRING
        PROPERTIES
          Name                #CashDisc
          HelpText            #@SYS316419
          Table               #CustTable
          Origin              #{80B2BDF4-A305-4E55-B132-5CB889A765B9}
          LegacyId            #10
          ExtendedDataType    #CustCashDiscCode
        ENDPROPERTIES
        
      FIELD #CashDiscBaseDays
        INT
        PROPERTIES
          Name                #CashDiscBaseDays
          Table               #CustTable
          Origin              #{C5B57C7C-FF58-42CB-915A-27ADB0606CE3}
          ExtendedDataType    #CashDiscBaseDays
        ENDPROPERTIES
        
      FIELD #CCMNum_BR
        STRING
        PROPERTIES
          Name                #CCMNum_BR
          HelpText            #@GLS345
          Table               #CustTable
          Origin              #{7813AB32-C641-4A57-909C-72E8D858EC24}
          LegacyId            #8000
          ExtendedDataType    #CCMNum_BR
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ClearingPeriod
        STRING
        PROPERTIES
          Name                #ClearingPeriod
          Table               #CustTable
          Origin              #{BC60B4D8-A840-465F-9915-DFB83243AF50}
          LegacyId            #31
          ExtendedDataType    #CustClearingPeriod
        ENDPROPERTIES
        
      FIELD #CNAE_BR
        STRING
        PROPERTIES
          Name                #CNAE_BR
          Table               #CustTable
          Origin              #{15F79FBF-2A50-4FFB-910F-82056B56888C}
          LegacyId            #8067
          ExtendedDataType    #CNAE_BR
        ENDPROPERTIES
        
      FIELD #CNPJCPFNum_BR
        STRING
        PROPERTIES
          Name                #CNPJCPFNum_BR
          HelpText            #@GLS312
          Table               #CustTable
          Origin              #{2D8DE252-FFAD-4DF8-A938-F3DBE592DCE6}
          LegacyId            #8001
          ExtendedDataType    #CNPJCPFNum_BR
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CommercialRegister
        STRING
        PROPERTIES
          Name                #CommercialRegister
          Table               #CustTable
          Origin              #{35CEE1F3-81C6-45A5-B565-E4A441FB8C7F}
          LegacyId            #16018
          ExtendedDataType    #CommercialRegister
          StringSize          #40
        ENDPROPERTIES
        
      FIELD #CommercialRegisterInsetNumber
        STRING
        PROPERTIES
          Name                #CommercialRegisterInsetNumber
          Table               #CustTable
          Origin              #{0B2DD571-A5E6-41B3-B7BB-753E2499B2F3}
          LegacyId            #16017
          ExtendedDataType    #CommercialRegisterInsetNumber
        ENDPROPERTIES
        
      FIELD #CommercialRegisterSection
        STRING
        PROPERTIES
          Name                #CommercialRegisterSection
          Table               #CustTable
          Origin              #{AA2845ED-BBED-431A-967B-92792422EC83}
          LegacyId            #16016
          ExtendedDataType    #CommercialRegisterSection
        ENDPROPERTIES
        
      FIELD #CommissionGroup
        STRING
        PROPERTIES
          Name                #CommissionGroup
          HelpText            #@SYS316392
          Table               #CustTable
          Origin              #{304839AB-1871-4AED-B8ED-97EEF47EF16C}
          LegacyId            #44
          ExtendedDataType    #CommissCustomerGroup
        ENDPROPERTIES
        
      FIELD #CompanyChainId
        STRING
        PROPERTIES
          Name                #CompanyChainId
          Label               #@SYS316639
          HelpText            #@SYS320326
          Table               #CustTable
          Origin              #{C5AECDC7-4DAF-44D0-9A12-CE62E248DDC0}
          LegacyId            #115
          ExtendedDataType    #smmChainId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CompanyIdSiret
        STRING
        PROPERTIES
          Name                #CompanyIdSiret
          Table               #CustTable
          Origin              #{633BA19B-42C1-4D29-9AE6-DD598137F598}
          LegacyId            #117
          ExtendedDataType    #CompanyIdSiret
          StringSize          #14
        ENDPROPERTIES
        
      FIELD #CompanyNAFCode
        INT64
        PROPERTIES
          Name                #CompanyNAFCode
          Table               #CustTable
          Origin              #{20032FA3-B022-4DF1-ABDA-8B5E7F5103C9}
          LegacyId            #143
          ExtendedDataType    #CompanyNAFRecId
        ENDPROPERTIES
        
      FIELD #CompanyType_MX
        ENUM
        PROPERTIES
          Name                #CompanyType_MX
          Table               #CustTable
          Origin              #{A4202E1F-C3F5-480D-B712-9E48840EBE4D}
          LegacyId            #272
          EnumType            #CompanyType_MX
        ENDPROPERTIES
        
      FIELD #ConsDay_JP
        INT
        PROPERTIES
          Name                #ConsDay_JP
          Table               #CustTable
          Origin              #{D95C617C-F10C-40BB-9FDF-8B0BCB0CA99B}
          LegacyId            #8060
          ExtendedDataType    #CustConsDay_JP
        ENDPROPERTIES
        
      FIELD #ContactPersonId
        STRING
        PROPERTIES
          Name                #ContactPersonId
          Label               #@SYS316632
          HelpText            #@SYS316633
          Table               #CustTable
          Origin              #{B72DD597-EB94-4FC6-8F15-7059678FF727}
          LegacyId            #48
          ExtendedDataType    #ContactPersonId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #CreditCardAddressVerification
        ENUM
        PROPERTIES
          Name                #CreditCardAddressVerification
          HelpText            #@SYS327525
          Table               #CustTable
          Origin              #{264A3290-0B28-43A5-A832-8C8C833B5E3B}
          LegacyId            #268
          EnumType            #CreditCardAddressVerification
        ENDPROPERTIES
        
      FIELD #CreditCardAddressVerificationLevel
        ENUM
        PROPERTIES
          Name                #CreditCardAddressVerificationLevel
          Table               #CustTable
          Origin              #{FF32CE58-74F0-43E1-A28A-DF3AE5E0045C}
          LegacyId            #271
          EnumType            #CreditCardAddressVerificationLevel
        ENDPROPERTIES
        
      FIELD #CreditCardAddressVerificationVoid
        ENUM
        PROPERTIES
          Name                #CreditCardAddressVerificationVoid
          Table               #CustTable
          Origin              #{74AEA00A-2897-41E3-86BD-363CEC58424F}
          LegacyId            #270
          ExtendedDataType    #CreditCardAddressVerificationVoid
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #CreditCardCVC
        ENUM
        PROPERTIES
          Name                #CreditCardCVC
          Table               #CustTable
          Origin              #{A2E205F6-771A-47C6-9DA6-7A0EEB8F25F4}
          LegacyId            #269
          EnumType            #CreditCardCVC
        ENDPROPERTIES
        
      FIELD #CreditMax
        REAL
        PROPERTIES
          Name                #CreditMax
          Table               #CustTable
          Origin              #{A462429B-833D-4F44-B262-899B65AD9939}
          LegacyId            #17
          ExtendedDataType    #CustCreditMaxMST
        ENDPROPERTIES
        
      FIELD #CreditRating
        STRING
        PROPERTIES
          Name                #CreditRating
          Table               #CustTable
          Origin              #{C14852AD-B050-4D83-A983-5B1161A3E1D0}
          LegacyId            #40
          ExtendedDataType    #CustCreditRating
        ENDPROPERTIES
        
      FIELD #Curp_MX
        STRING
        PROPERTIES
          Name                #Curp_MX
          Table               #CustTable
          Origin              #{D91A5FA5-5237-4716-BAF3-3864FBB12E94}
          LegacyId            #274
          ExtendedDataType    #Curp_MX
          StringSize          #18
        ENDPROPERTIES
        
      FIELD #Currency
        STRING
        PROPERTIES
          Name                #Currency
          HelpText            #@SYS316641
          Mandatory           #Yes
          Table               #CustTable
          Origin              #{056F2D00-8913-4716-B0B0-185072EE7B7C}
          LegacyId            #11
          ExtendedDataType    #CustCurrencyCode
          StringSize          #3
        ENDPROPERTIES
        
      FIELD #CustClassificationId
        STRING
        PROPERTIES
          Name                #CustClassificationId
          Table               #CustTable
          Origin              #{250D44D8-12B8-4273-A28B-0B4B5F57E735}
          LegacyId            #91
          ExtendedDataType    #CustClassificationId
        ENDPROPERTIES
        
      FIELD #CustExcludeCollectionFee
        ENUM
        PROPERTIES
          Name                #CustExcludeCollectionFee
          Table               #CustTable
          Origin              #{4256CFE2-CF4F-4D12-918D-9B2F0541E4C0}
          LegacyId            #140
          ExtendedDataType    #CustExcludeCollectionFee
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #CustExcludeInterestCharges
        ENUM
        PROPERTIES
          Name                #CustExcludeInterestCharges
          Table               #CustTable
          Origin              #{B2BE5DB7-9AC8-474C-A855-D32DA1107E2A}
          LegacyId            #141
          ExtendedDataType    #CustExcludeInterestCharges
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #CustFinalUser_BR
        ENUM
        PROPERTIES
          Name                #CustFinalUser_BR
          HelpText            #@GLS339
          Table               #CustTable
          Origin              #{2DA8B8E5-08F6-47D7-A79F-930906540593}
          LegacyId            #8009
          ExtendedDataType    #CustVendFinalUser_BR
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #CustGroup
        STRING
        PROPERTIES
          Name                #CustGroup
          HelpText            #@SYS16728
          Mandatory           #Yes
          Table               #CustTable
          Origin              #{E7AB34BC-2920-4B95-B2B3-1BA9F43440E7}
          LegacyId            #7
          ExtendedDataType    #CustGroupId
        ENDPROPERTIES
        
      FIELD #CustItemGroupId
        STRING
        PROPERTIES
          Name                #CustItemGroupId
          Table               #CustTable
          Origin              #{CAD43EEC-95BC-4412-8002-791A37AA2AA0}
          LegacyId            #61
          ExtendedDataType    #CustItemGroupId
        ENDPROPERTIES
        
      FIELD #CustTradingPartnerCode
        INT64
        PROPERTIES
          Name                #CustTradingPartnerCode
          Table               #CustTable
          Origin              #{6BDD7231-83F2-46E6-9C3A-A9C68960802B}
          ExtendedDataType    #TradingPartnerCodeRecId
        ENDPROPERTIES
        
      FIELD #CustWhtContributionType_BR
        ENUM
        PROPERTIES
          Name                #CustWhtContributionType_BR
          Table               #CustTable
          CountryRegionCodes  #BR
          Origin              #{0FA2DE8F-DF9B-446E-A599-5230189D434B}
          ExtendedDataType    #WhtContributionType_BR
          EnumType            #CustWhtContributionType_BR
        ENDPROPERTIES
        
      FIELD #DAXIntegrationId
        GUID
        PROPERTIES
          Name                #DAXIntegrationId
          Label               #@SYS4004696
          HelpText            #@SYS4004696
          Table               #CustTable
          Origin              #{CCCF9068-B6C4-4C2D-AA3F-C6C759480318}
          ExtendedDataType    #ConnIntegrationKey
        ENDPROPERTIES
        
      FIELD #DefaultDimension
        INT64
        PROPERTIES
          Name                #DefaultDimension
          Table               #CustTable
          Origin              #{61AB3751-3515-4F33-8D11-254F06819026}
          LegacyId            #136
          ExtendedDataType    #DimensionDefault
        ENDPROPERTIES
        
      FIELD #DefaultDirectDebitMandate
        INT64
        PROPERTIES
          Name                #DefaultDirectDebitMandate
          Table               #CustTable
          Origin              #{FD432245-E5B7-41A9-9472-FFA64CCF127B}
          ExtendedDataType    #CustDirectDebitMandateRecId
        ENDPROPERTIES
        
      FIELD #DefaultInventStatusId
        STRING
        PROPERTIES
          Name                #DefaultInventStatusId
          Table               #CustTable
          Origin              #{FC89A72A-CC49-4E45-AED1-34B584F7D10C}
          ExtendedDataType    #WHSDefaultStatusId
        ENDPROPERTIES
        
      FIELD #DestinationCodeId
        STRING
        PROPERTIES
          Name                #DestinationCodeId
          Table               #CustTable
          Origin              #{80D55E3C-BF30-47D7-9B5A-45A148C8BC8A}
          LegacyId            #66
          ExtendedDataType    #CustDestinationCodeId
        ENDPROPERTIES
        
      FIELD #DlvMode
        STRING
        PROPERTIES
          Name                #DlvMode
          HelpText            #@SYS316660
          Table               #CustTable
          Origin              #{DE0A2445-B397-4F32-AAE7-DB3399B0C721}
          LegacyId            #29
          ExtendedDataType    #CustDlvModeId
        ENDPROPERTIES
        
      FIELD #DlvReason
        STRING
        PROPERTIES
          Name                #DlvReason
          Table               #CustTable
          Origin              #{FA6B04AF-2A99-4281-9A40-BD632AB541C9}
          LegacyId            #87
          ExtendedDataType    #DlvReasonId
        ENDPROPERTIES
        
      FIELD #DlvTerm
        STRING
        PROPERTIES
          Name                #DlvTerm
          HelpText            #@SYS316659
          Table               #CustTable
          Origin              #{BC034F6A-656B-4D0E-9DA7-E46FDC35C2C3}
          LegacyId            #28
          ExtendedDataType    #CustDlvTermId
        ENDPROPERTIES
        
      FIELD #EInvoice
        ENUM
        PROPERTIES
          Name                #EInvoice
          Label               #@SYS344739
          HelpText            #@SYS344742
          Table               #CustTable
          CountryRegionCodes  #DK,NO,AT
          Origin              #{1A9FFE78-FCD6-40DF-B177-6FB2C5B842DD}
          LegacyId            #289
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #EinvoiceEANNum
        STRING
        PROPERTIES
          Name                #EinvoiceEANNum
          HelpText            #@SYS316378
          Table               #CustTable
          CountryRegionCodes  #DK
          Origin              #{9661E42F-8575-4345-9122-FFEC97F0F012}
          LegacyId            #84
          ExtendedDataType    #EinvoiceEANNum
          StringSize          #13
        ENDPROPERTIES
        
      FIELD #EInvoiceRegister_IT
        ENUM
        PROPERTIES
          Name                #EInvoiceRegister_IT
          Label               #@SYP4881672
          HelpText            #@SYS344742
          Table               #CustTable
          CountryRegionCodes  #IT
          Origin              #{713DDDFA-993C-400F-A859-550BFAB3EBF3}
          LegacyId            #302
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #EndDisc
        STRING
        PROPERTIES
          Name                #EndDisc
          Label               #@SYS316403
          HelpText            #@SYS316404
          Table               #CustTable
          Origin              #{293FBA06-F7CE-4193-95FE-74DA85D616E1}
          LegacyId            #24
          ExtendedDataType    #CustEndDiscCode
        ENDPROPERTIES
        
      FIELD #EnterpriseCode
        STRING
        PROPERTIES
          Name                #EnterpriseCode
          HelpText            #@gls220837
          Table               #CustTable
          Origin              #{43287BE6-FD25-4AC0-92E7-43275E9E078D}
          LegacyId            #16015
          ExtendedDataType    #EnterpriseCode
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #EnterpriseNumber
        STRING
        PROPERTIES
          Name                #EnterpriseNumber
          Table               #CustTable
          Origin              #{514DBB75-6E5E-49CE-8BF4-26F398934DEC}
          LegacyId            #93
          ExtendedDataType    #TaxEnterpriseNumber
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #EntryCertificateRequired_W
        ENUM
        PROPERTIES
          Name                #EntryCertificateRequired_W
          Table               #CustTable
          Origin              #{1B1B8026-0B23-4B53-ABFA-EB07BFE273D7}
          ExtendedDataType    #EntryCertificateRequired_W
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ExportSales_PL
        ENUM
        PROPERTIES
          Name                #ExportSales_PL
          Table               #CustTable
          Origin              #{78EA45F0-9B33-42AF-B5DE-A76276588AF7}
          ExtendedDataType    #PlExportSales
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ExpressBillOfLading
        ENUM
        PROPERTIES
          Name                #ExpressBillOfLading
          Table               #CustTable
          Origin              #{5F059525-ECEC-4EB3-A516-C82F7F19EF6C}
          ExtendedDataType    #TMSExpressBillofLading
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #FactoringAccount
        STRING
        PROPERTIES
          Name                #FactoringAccount
          Table               #CustTable
          Origin              #{317E4BF3-FA71-4F89-B1D5-CDA3FD95608D}
          LegacyId            #129
          ExtendedDataType    #BankCustFactoringAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #FederalComments
        STRING
        PROPERTIES
          Name                #FederalComments
          Table               #CustTable
          Origin              #{BACA8281-D4AB-40F0-B1C4-052102E4988F}
          LegacyId            #16068
          ExtendedDataType    #FederalComments
          StringSize          #60
        ENDPROPERTIES
        
      FIELD #FedNonFedIndicator
        ENUM
        PROPERTIES
          Name                #FedNonFedIndicator
          Table               #CustTable
          Origin              #{18D64807-3631-42F1-8DF9-EE7E239E7443}
          LegacyId            #16065
          EnumType            #FederalNonFederalIndicatorCode
        ENDPROPERTIES
        
      FIELD #FineCode_BR
        STRING
        PROPERTIES
          Name                #FineCode_BR
          Table               #CustTable
          CountryRegionCodes  #BR
          Origin              #{826336E1-DE86-4F32-B80A-9232CA651442}
          LegacyId            #8012
          ExtendedDataType    #CustFineCode_BR
        ENDPROPERTIES
        
      FIELD #FiscalCode
        STRING
        PROPERTIES
          Name                #FiscalCode
          HelpText            #@SYS79253
          Table               #CustTable
          Origin              #{E83BE782-23FB-4E89-AEAB-A45484BB3D3B}
          LegacyId            #86
          ExtendedDataType    #FiscalCode
          StringSize          #16
        ENDPROPERTIES
        
      FIELD #FiscalDocType_PL
        ENUM
        PROPERTIES
          Name                #FiscalDocType_PL
          Table               #CustTable
          CountryRegionCodes  #PL
          Origin              #{18F0C6FE-DA06-4F7C-A487-695DD0545C99}
          EnumType            #PlFiscalDocType
        ENDPROPERTIES
        
      FIELD #ForecastDMPInclude
        ENUM
        PROPERTIES
          Name                #ForecastDMPInclude
          HelpText            #@SYS316618
          Table               #CustTable
          Origin              #{A5681696-A737-4807-9AA2-AF3C022BAF2C}
          LegacyId            #88
          ExtendedDataType    #ForecastDMPInclude
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ForeignerId_BR
        STRING
        PROPERTIES
          Name                #ForeignerId_BR
          Table               #CustTable
          Origin              #{A1A513DE-6FDC-4660-9C12-3D2BC996D40C}
          LegacyId            #8194
          ExtendedDataType    #EFDocForeignerId_BR
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ForeignResident_RU
        ENUM
        PROPERTIES
          Name                #ForeignResident_RU
          Table               #CustTable
          Origin              #{D462FC5B-8181-47DB-BCFB-A60EB9DC8E48}
          ExtendedDataType    #ForeignResident_RU
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #FreightZone
        STRING
        PROPERTIES
          Name                #FreightZone
          Table               #CustTable
          Origin              #{E85F5BA4-649F-4E10-A35B-B2706F73499D}
          LegacyId            #39
          ExtendedDataType    #CustFreightZoneId
        ENDPROPERTIES
        
      FIELD #GenerateIncomingFiscalDocument_BR
        ENUM
        PROPERTIES
          Name                #GenerateIncomingFiscalDocument_BR
          Table               #CustTable
          Origin              #{87067691-7056-4629-9397-0B60DC1F6EB8}
          ExtendedDataType    #GenerateIncomingFiscalDocument_BR
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #GiroType
        ENUM
        PROPERTIES
          Name                #GiroType
          Label               #@SYS316648
          HelpText            #@SYS316649
          Table               #CustTable
          Origin              #{BCF46AB4-9439-4E36-A81D-0AF7741E492E}
          LegacyId            #67
          ExtendedDataType    #PaymentStubInvoiceId
          EnumType            #PaymentStub
        ENDPROPERTIES
        
      FIELD #GiroTypeAccountStatement
        ENUM
        PROPERTIES
          Name                #GiroTypeAccountStatement
          Table               #CustTable
          Origin              #{568716A8-2124-4A59-83A9-90B73300BF0D}
          LegacyId            #153
          ExtendedDataType    #PaymentStubAccountStatementId
          EnumType            #PaymentStub
        ENDPROPERTIES
        
      FIELD #GiroTypeCollectionletter
        ENUM
        PROPERTIES
          Name                #GiroTypeCollectionletter
          Label               #@SYS316654
          HelpText            #@SYS316655
          Table               #CustTable
          Origin              #{9C0113F3-9170-45DC-A5C2-FA1E70510833}
          LegacyId            #89
          ExtendedDataType    #PaymentStubCollectionId
          EnumType            #PaymentStub
        ENDPROPERTIES
        
      FIELD #GiroTypeFreeTextInvoice
        ENUM
        PROPERTIES
          Name                #GiroTypeFreeTextInvoice
          Label               #@SYS316650
          HelpText            #@SYS316651
          Table               #CustTable
          Origin              #{E956DDEF-82A9-4AA4-A204-0D32E5D497DF}
          LegacyId            #105
          ExtendedDataType    #PaymentStubInvoiceId
          EnumType            #PaymentStub
        ENDPROPERTIES
        
      FIELD #GiroTypeInterestNote
        ENUM
        PROPERTIES
          Name                #GiroTypeInterestNote
          Label               #@SYS316652
          HelpText            #@SYS316653
          Table               #CustTable
          Origin              #{05805ED0-1DCB-4CB3-87F7-3AB8CA301A56}
          LegacyId            #69
          ExtendedDataType    #PaymentStubInterestId
          EnumType            #PaymentStub
        ENDPROPERTIES
        
      FIELD #GiroTypeProjInvoice
        ENUM
        PROPERTIES
          Name                #GiroTypeProjInvoice
          Label               #@SYS316656
          HelpText            #@SYS316657
          Table               #CustTable
          Origin              #{5A5F0D56-FCCC-440E-886F-1F9927A502E1}
          LegacyId            #95
          ExtendedDataType    #PaymentStubProjId
          EnumType            #PaymentStub
        ENDPROPERTIES
        
      FIELD #ICMSContributor_BR
        ENUM
        PROPERTIES
          Name                #ICMSContributor_BR
          HelpText            #@GLS9
          Table               #CustTable
          Origin              #{B183BABE-3CB4-47B2-8E91-1ACA5D1C2EC9}
          LegacyId            #8068
          ExtendedDataType    #ICMSContributor_BR
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #IdentificationNumber
        STRING
        PROPERTIES
          Name                #IdentificationNumber
          Table               #CustTable
          Origin              #{75D784AC-A35C-45FE-BD65-9C71CAC80D4D}
          LegacyId            #122
          ExtendedDataType    #CustIdentificationNumber
          StringSize          #50
        ENDPROPERTIES
        
      FIELD #IENum_BR
        STRING
        PROPERTIES
          Name                #IENum_BR
          HelpText            #@GLS346
          Table               #CustTable
          Origin              #{F0173D21-C635-471D-AD0C-0D83D40D3A13}
          LegacyId            #8003
          ExtendedDataType    #IENum_BR
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InclTax
        ENUM
        PROPERTIES
          Name                #InclTax
          HelpText            #@SYS316374
          Table               #CustTable
          Origin              #{15239411-C7C2-4258-82E2-4B6469362514}
          LegacyId            #60
          ExtendedDataType    #InclTax
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #INSSCEI_BR
        STRING
        PROPERTIES
          Name                #INSSCEI_BR
          Table               #CustTable
          Origin              #{C7E440EE-3AF2-4631-925D-BA57411EF542}
          LegacyId            #8066
          ExtendedDataType    #INSSCEI_BR
          StringSize          #15
        ENDPROPERTIES
        
      FIELD #IntBank_LV
        STRING
        PROPERTIES
          Name                #IntBank_LV
          Label               #@GLS108468
          Table               #CustTable
          CountryRegionCodes  #LV
          Origin              #{5EBFC42A-E428-4401-ACC1-407029BD5EF7}
          LegacyId            #16022
          ExtendedDataType    #CustBankAccountId
        ENDPROPERTIES
        
      FIELD #InterCompanyAllowIndirectCreation
        ENUM
        PROPERTIES
          Name                #InterCompanyAllowIndirectCreation
          Label               #@SYS316385
          HelpText            #@SYS316386
          Table               #CustTable
          Origin              #{7A7C33C8-2A28-476C-87B7-17FB3AAAAD1F}
          LegacyId            #80
          ExtendedDataType    #InterCompanyAllowIndirectCreation
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterCompanyAutoCreateOrders
        ENUM
        PROPERTIES
          Name                #InterCompanyAutoCreateOrders
          Label               #@SYS316382
          HelpText            #@SYS316383
          Table               #CustTable
          Origin              #{AA4514DD-18B1-45B1-9616-5B18F2993E67}
          LegacyId            #12
          ExtendedDataType    #InterCompanyAutoCreateOrders
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterCompanyDirectDelivery
        ENUM
        PROPERTIES
          Name                #InterCompanyDirectDelivery
          HelpText            #@SYS316384
          Table               #CustTable
          Origin              #{A5FE014C-7282-4908-99FA-1038FC4A7911}
          LegacyId            #92
          ExtendedDataType    #InterCompanyDirectDelivery
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #InterestCode_BR
        STRING
        PROPERTIES
          Name                #InterestCode_BR
          Table               #CustTable
          CountryRegionCodes  #BR
          Origin              #{8B3355FF-9FC5-4157-BFAE-09C7218D624E}
          LegacyId            #8011
          ExtendedDataType    #CustInterestCode_BR
        ENDPROPERTIES
        
      FIELD #InventLocation
        STRING
        PROPERTIES
          Name                #InventLocation
          HelpText            #@SYS316390
          Table               #CustTable
          Origin              #{D767E493-AA28-4065-9DDB-505B94E79D6E}
          LegacyId            #27
          ExtendedDataType    #InventLocationId
        ENDPROPERTIES
        
      FIELD #InventProfileId_RU
        STRING
        PROPERTIES
          Name                #InventProfileId_RU
          Table               #CustTable
          Origin              #{B8B1B994-B7AE-4697-927A-03128062A337}
          LegacyId            #8083
          ExtendedDataType    #InventProfileId_RU
        ENDPROPERTIES
        
      FIELD #InventProfileType_RU
        ENUM
        PROPERTIES
          Name                #InventProfileType_RU
          Table               #CustTable
          Origin              #{A907150F-A000-4EDC-89A1-7B086E6C467F}
          LegacyId            #8082
          EnumType            #InventProfileType_RU
        ENDPROPERTIES
        
      FIELD #InventSiteId
        STRING
        PROPERTIES
          Name                #InventSiteId
          HelpText            #@SYS316389
          Table               #CustTable
          Origin              #{3A38AD86-B51F-42AA-BE80-BDA8D2C0303E}
          LegacyId            #96
          ExtendedDataType    #InventSiteId
        ENDPROPERTIES
        
      FIELD #InvoiceAccount
        STRING
        PROPERTIES
          Name                #InvoiceAccount
          HelpText            #@SYS316645
          Table               #CustTable
          Origin              #{D38A3091-F05A-4106-8BB5-EC2008FBC429}
          LegacyId            #6
          ExtendedDataType    #CustInvoiceAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #InvoiceAddress
        ENUM
        PROPERTIES
          Name                #InvoiceAddress
          Table               #CustTable
          Origin              #{14F87D70-9DAF-4ACC-9513-DC6D1C875DDE}
          LegacyId            #49
          ExtendedDataType    #CustInvoiceAddress
          EnumType            #InvoiceOrderAccount
        ENDPROPERTIES
        
      FIELD #InvoicePostingType_RU
        ENUM
        PROPERTIES
          Name                #InvoicePostingType_RU
          HelpText            #@GLS114789
          Table               #CustTable
          Origin              #{AA1119E3-0BF8-459B-875A-1E5B16E6D4CD}
          EnumType            #SalesInvoicePostingType_RU
        ENDPROPERTIES
        
      FIELD #IRS1099CIndicator
        ENUM
        PROPERTIES
          Name                #IRS1099CIndicator
          Label               #@SPS136
          HelpText            #@SPS137
          Table               #CustTable
          Origin              #{8920A28F-A358-4CD0-8E59-AF7096B89CAD}
          LegacyId            #16066
          ExtendedDataType    #CustIRS1099CIndicator
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #IsResident_LV
        ENUM
        PROPERTIES
          Name                #IsResident_LV
          Visible             #No
          Table               #CustTable
          Origin              #{85D35E26-68D8-4786-BD24-563E3EF9D59B}
          LegacyId            #16021
          ExtendedDataType    #LvResident
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #IssueOwnEntryCertificate_W
        ENUM
        PROPERTIES
          Name                #IssueOwnEntryCertificate_W
          Table               #CustTable
          Origin              #{5D5A52AC-91BB-4BF9-A8E3-7BD367473650}
          ExtendedDataType    #IssueOwnEntryCertificate_W
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #IssuerCountry_HU
        STRING
        PROPERTIES
          Name                #IssuerCountry_HU
          Label               #@GLS112618
          HelpText            #@GLS112619
          Table               #CustTable
          CountryRegionCodes  #HU
          Origin              #{160F5473-D19C-4C3D-97AB-CF34843ECAAE}
          ExtendedDataType    #AddressCountryRegionId
        ENDPROPERTIES
        
      FIELD #LineDisc
        STRING
        PROPERTIES
          Name                #LineDisc
          Label               #@SYS316407
          HelpText            #@SYS316408
          Table               #CustTable
          Origin              #{84198433-3386-4CC3-AE34-AFA5A0DE6E40}
          LegacyId            #8
          ExtendedDataType    #CustLineDiscCode
        ENDPROPERTIES
        
      FIELD #LineOfBusinessId
        STRING
        PROPERTIES
          Name                #LineOfBusinessId
          HelpText            #@SYS316634
          Table               #CustTable
          Origin              #{F4B09055-931D-4008-B0C6-DB8F5A8ED7B7}
          LegacyId            #65
          ExtendedDataType    #CustLineOfBusinessId
        ENDPROPERTIES
        
      FIELD #LvPaymTransCodes
        INT64
        PROPERTIES
          Name                #LvPaymTransCodes
          Table               #CustTable
          Origin              #{CE3CF0E8-B04C-4E88-B302-72BAE4E0D12B}
          ExtendedDataType    #PaymTransCodeRecId
        ENDPROPERTIES
        
      FIELD #MainContactWorker
        INT64
        PROPERTIES
          Name                #MainContactWorker
          Label               #@SYS316635
          HelpText            #@SYS316636
          Table               #CustTable
          Origin              #{96E49BC5-D994-44FB-9D6B-19DDF0460864}
          LegacyId            #177
          ExtendedDataType    #smmBusRelAccResponsibleWorker
        ENDPROPERTIES
        
      FIELD #MandatoryCreditLimit
        ENUM
        PROPERTIES
          Name                #MandatoryCreditLimit
          HelpText            #@SYS316619
          Table               #CustTable
          Origin              #{4BBED910-6EC5-40C9-9058-B47B0BB7751E}
          LegacyId            #18
          ExtendedDataType    #MandatoryCreditLimit
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #MandatoryVatDate_PL
        ENUM
        PROPERTIES
          Name                #MandatoryVatDate_PL
          Table               #CustTable
          Origin              #{470D6195-04F9-4864-9893-6C17627B39A4}
          ExtendedDataType    #PlMandatoryVatDate
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #MarkupGroup
        STRING
        PROPERTIES
          Name                #MarkupGroup
          HelpText            #@SYS316388
          Table               #CustTable
          Origin              #{CF3893E6-C130-40BE-B186-F3B84F884ACC}
          LegacyId            #30
          ExtendedDataType    #CustMarkupGroupId
        ENDPROPERTIES
        
      FIELD #mb_RequisitionNumber
        ENUM
        PROPERTIES
          Name                #mb_RequisitionNumber
          Label               #@BGM73
          HelpText            #@SYS24880
          Table               #CustTable
          Origin              #{8066B154-E2C3-4F48-A888-D303CB3F4919}
          ExtendedDataType    #mb_RequisitionNumber
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #MCRMergedParent
        STRING
        PROPERTIES
          Name                #MCRMergedParent
          Label               #@MCR12159
          HelpText            #@MCR12161
          Table               #CustTable
          IgnoreEDTRelation   #Yes
          Origin              #{19F9EF66-AEE2-4C30-AD53-A29D3BCF9A03}
          LegacyId            #30029
          ExtendedDataType    #CustAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #MCRMergedRoot
        STRING
        PROPERTIES
          Name                #MCRMergedRoot
          Label               #@MCR12158
          HelpText            #@MCR12160
          Table               #CustTable
          IgnoreEDTRelation   #Yes
          Origin              #{B3A5CCAD-8002-44C6-97D5-A43BAA3070DF}
          LegacyId            #30030
          ExtendedDataType    #CustAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Memo
        STRING
        PROPERTIES
          Name                #Memo
          HelpText            #@SYS316643
          ConfigurationKey    #SmmCRM
          Table               #CustTable
          Origin              #{053AAD1F-A031-45DA-8204-CD0DA43CAA74}
          LegacyId            #108
          ExtendedDataType    #smmBusRelMemo
          StringSize          #(Memo)
        ENDPROPERTIES
        
      FIELD #MultiLineDisc
        STRING
        PROPERTIES
          Name                #MultiLineDisc
          Label               #@SYS316401
          HelpText            #@SYS316402
          Table               #CustTable
          Origin              #{C43CE4BA-D29F-4D56-9D4A-D864324B7147}
          LegacyId            #23
          ExtendedDataType    #CustMultiLineDiscCode
        ENDPROPERTIES
        
      FIELD #NIT_BR
        STRING
        PROPERTIES
          Name                #NIT_BR
          Table               #CustTable
          Origin              #{66CAEAF9-45B3-4258-8853-AA486BE8F511}
          LegacyId            #8065
          ExtendedDataType    #NIT_BR
          StringSize          #14
        ENDPROPERTIES
        
      FIELD #numberSequenceGroup
        STRING
        PROPERTIES
          Name                #numberSequenceGroup
          HelpText            #@SYS316647
          Table               #CustTable
          Origin              #{10D8E75A-1A28-4E44-8EC8-482C77EB8D5B}
          LegacyId            #62
          ExtendedDataType    #NumberSequenceGroupId
        ENDPROPERTIES
        
      FIELD #OneTimeCustomer
        ENUM
        PROPERTIES
          Name                #OneTimeCustomer
          Table               #CustTable
          Origin              #{3D51738E-4230-4983-AC90-611549C523A8}
          LegacyId            #15
          ExtendedDataType    #OneTimeCustomer
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #OrderEntryDeadlineGroupId
        STRING
        PROPERTIES
          Name                #OrderEntryDeadlineGroupId
          Label               #@SYS111450
          HelpText            #@SYS316400
          Table               #CustTable
          Origin              #{58D89268-655A-40E8-ADFA-871EE9717F77}
          LegacyId            #97
          ExtendedDataType    #InventOrderEntryDeadlineGroupId
        ENDPROPERTIES
        
      FIELD #OrgId
        STRING
        PROPERTIES
          Name                #OrgId
          Table               #CustTable
          Origin              #{338068B2-FB2F-4DAB-BD91-DCE84E6501DE}
          LegacyId            #127
          ExtendedDataType    #OrgId
        ENDPROPERTIES
        
      FIELD #OurAccountNum
        STRING
        PROPERTIES
          Name                #OurAccountNum
          Label               #@SYS316394
          Table               #CustTable
          Origin              #{2AFEE152-D3EE-48F3-ACA8-7EC08073770C}
          LegacyId            #50
          ExtendedDataType    #CustAccountExt
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PackageDepositExcempt_PL
        ENUM
        PROPERTIES
          Name                #PackageDepositExcempt_PL
          Table               #CustTable
          Origin              #{2A53B722-B6BB-4414-B742-16BDA0F46243}
          LegacyId            #16028
          ExtendedDataType    #PlPackageDepositExcempt
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PackedExtensions
        QUEUE
        PROPERTIES
          Name                #PackedExtensions
          SaveContents        #No
          Visible             #No
          Table               #CustTable
          Origin              #{64BA92E9-C426-4F08-9186-D563AAFA6C07}
          ExtendedDataType    #SysExtensionSerializerPackedContainer
        ENDPROPERTIES
        
      FIELD #PackMaterialFeeLicenseNum
        STRING
        PROPERTIES
          Name                #PackMaterialFeeLicenseNum
          Label               #@SYS316376
          HelpText            #@SYS316377
          Table               #CustTable
          Origin              #{FBB98D67-64DD-46E7-813C-B499338D614E}
          LegacyId            #82
          ExtendedDataType    #InventPackingMaterialFeeLicenseNum
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Party
        INT64
        PROPERTIES
          Name                #Party
          Table               #CustTable
          Origin              #{936A8C49-9517-41CA-BE09-0182610D7962}
          LegacyId            #121
          ExtendedDataType    #DirPartyRecId
        ENDPROPERTIES
        
      FIELD #PartyCountry
        STRING
        PROPERTIES
          Name                #PartyCountry
          HelpText            #@SYS316629
          Table               #CustTable
          Origin              #{D44563DF-E1B7-4C0A-B966-323310141185}
          LegacyId            #123
          ExtendedDataType    #AddressCountryRegionId
        ENDPROPERTIES
        
      FIELD #PartyState
        STRING
        PROPERTIES
          Name                #PartyState
          HelpText            #@SYS316630
          Table               #CustTable
          Origin              #{9EBFB73C-4C48-4CEC-AD34-023E32F4EB91}
          LegacyId            #124
          ExtendedDataType    #AddressStateId
        ENDPROPERTIES
        
      FIELD #PassportNo_HU
        STRING
        PROPERTIES
          Name                #PassportNo_HU
          HelpText            #@GLS112606
          Table               #CustTable
          CountryRegionCodes  #HU
          Origin              #{2F1EC9D2-2BA8-4C58-9C61-A301D60AC17C}
          ExtendedDataType    #PassportNo_HU
          StringSize          #13
        ENDPROPERTIES
        
      FIELD #PaymDayId
        STRING
        PROPERTIES
          Name                #PaymDayId
          HelpText            #@SYS316418
          Table               #CustTable
          Origin              #{DCDA1FAE-A64A-464A-8036-B47478F8FE7D}
          LegacyId            #64
          ExtendedDataType    #CustPaymDayId
        ENDPROPERTIES
        
      FIELD #PaymentReference_EE
        STRING
        PROPERTIES
          Name                #PaymentReference_EE
          Table               #CustTable
          CountryRegionCodes  #EE
          Origin              #{C8881C62-2448-4A27-B20E-4426112C37A8}
          LegacyId            #16024
          ExtendedDataType    #CustPaymReference_EE
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PaymIdType
        STRING
        PROPERTIES
          Name                #PaymIdType
          Visible             #No
          Table               #CustTable
          Origin              #{F7B7B95E-162D-4A72-926F-1D430C121AB7}
          LegacyId            #128
          ExtendedDataType    #BankCustPaymIdType
        ENDPROPERTIES
        
      FIELD #PaymMode
        STRING
        PROPERTIES
          Name                #PaymMode
          HelpText            #@SYS316415
          Table               #CustTable
          Origin              #{8C6AD3A0-0680-44A4-AA07-59C55FDFEB7F}
          LegacyId            #43
          ExtendedDataType    #CustPaymMode
        ENDPROPERTIES
        
      FIELD #PaymSched
        STRING
        PROPERTIES
          Name                #PaymSched
          HelpText            #@SYS316417
          Table               #CustTable
          Origin              #{B774DEB2-79C3-4399-80E3-F0BA2A550E64}
          LegacyId            #46
          ExtendedDataType    #PaymSchedId
          StringSize          #30
        ENDPROPERTIES
        
      FIELD #PaymSpec
        STRING
        PROPERTIES
          Name                #PaymSpec
          HelpText            #@SYS316416
          Table               #CustTable
          Origin              #{CAE2AA90-D879-44EE-AE62-7950D287D37D}
          LegacyId            #72
          ExtendedDataType    #PaymSpec
        ENDPROPERTIES
        
      FIELD #PaymTermId
        STRING
        PROPERTIES
          Name                #PaymTermId
          HelpText            #@SYS316414
          Table               #CustTable
          Origin              #{6A0537E6-328E-425F-8AB5-9EEB01B926CE}
          LegacyId            #9
          ExtendedDataType    #CustPaymTermId
        ENDPROPERTIES
        
      FIELD #PBACustGroupId
        STRING
        PROPERTIES
          Name                #PBACustGroupId
          Label               #@SYS316395
          HelpText            #@SYS316396
          Table               #CustTable
          Origin              #{C8BA950C-8B09-466C-981F-289D3452084C}
          LegacyId            #8002
          ExtendedDataType    #PBACustGroupId
        ENDPROPERTIES
        
      FIELD #PdsCustRebateGroupId
        STRING
        PROPERTIES
          Name                #PdsCustRebateGroupId
          Table               #CustTable
          Origin              #{A980EED2-081F-4787-B928-B4AD4867C2A3}
          ExtendedDataType    #PdsCustRebateGroupId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #PdsFreightAccrued
        ENUM
        PROPERTIES
          Name                #PdsFreightAccrued
          Table               #CustTable
          Origin              #{DE2FF548-B4F4-4C37-BCBC-7C659779A05A}
          ExtendedDataType    #PdsFreightAccrued
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #PdsRebateTMAGroup
        STRING
        PROPERTIES
          Name                #PdsRebateTMAGroup
          Table               #CustTable
          Origin              #{510C1D38-A0D5-4C2A-93E9-C6E4A19C68F1}
          ExtendedDataType    #PdsRebateProgramTMAGroup
        ENDPROPERTIES
        
      FIELD #PresenceType_BR
        ENUM
        PROPERTIES
          Name                #PresenceType_BR
          Table               #CustTable
          Origin              #{CED2A914-4E41-4423-8313-8AE6C04BCF4B}
          EnumType            #EFDocPresenceType_BR
        ENDPROPERTIES
        
      FIELD #PriceGroup
        STRING
        PROPERTIES
          Name                #PriceGroup
          HelpText            #@SYS316406
          Table               #CustTable
          Origin              #{41D03E5D-1AA9-4032-B785-496BF05A0B5A}
          LegacyId            #22
          ExtendedDataType    #CustPriceGroup
        ENDPROPERTIES
        
      FIELD #RegNum_W
        STRING
        PROPERTIES
          Name                #RegNum_W
          Label               #@GLS108954
          HelpText            #@SYS24188
          Table               #CustTable
          CountryRegionCodes  #RU,EE,LV,LT,HU,PL,CZ
          Origin              #{430112D2-5C42-47A4-9C89-25B0756118D3}
          LegacyId            #16019
          ExtendedDataType    #CompanyRegNum
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ResidenceForeignCountryRegionId_IT
        STRING
        PROPERTIES
          Name                #ResidenceForeignCountryRegionId_IT
          Label               #@SYS81763
          HelpText            #@SYS343695
          Table               #CustTable
          CountryRegionCodes  #IT
          Origin              #{0CB148A8-B150-4BED-88ED-03C01DA7256F}
          LegacyId            #276
          ExtendedDataType    #LogisticsAddressCountryRegionId
        ENDPROPERTIES
        
      FIELD #Rfc_MX
        STRING
        PROPERTIES
          Name                #Rfc_MX
          Table               #CustTable
          Origin              #{C8440935-837F-4498-BD00-A749423F12E3}
          LegacyId            #273
          ExtendedDataType    #Rfc_MX
          StringSize          #13
        ENDPROPERTIES
        
      FIELD #RFIDCaseTagging
        ENUM
        PROPERTIES
          Name                #RFIDCaseTagging
          HelpText            #@SYS316380
          Table               #CustTable
          Origin              #{1C04DB41-C3DE-4499-AD3D-5A59CD4368D8}
          LegacyId            #113
          ExtendedDataType    #RFIDCaseTagging
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #RFIDItemTagging
        ENUM
        PROPERTIES
          Name                #RFIDItemTagging
          HelpText            #@SYS316379
          Table               #CustTable
          Origin              #{01AAF133-2E78-4EE2-9685-9F35318A2D55}
          LegacyId            #112
          ExtendedDataType    #RFIDItemTagging
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #RFIDPalletTagging
        ENUM
        PROPERTIES
          Name                #RFIDPalletTagging
          HelpText            #@SYS316381
          Table               #CustTable
          Origin              #{43B31FFF-62BA-4D21-B4AE-B928D5E4BC80}
          LegacyId            #114
          ExtendedDataType    #RFIDPalletTagging
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SalesCalendarId
        STRING
        PROPERTIES
          Name                #SalesCalendarId
          HelpText            #@SYS316662
          Table               #CustTable
          Origin              #{C7442AF0-A1A5-4282-8E25-980A84154303}
          LegacyId            #90
          ExtendedDataType    #SalesCalendarId
        ENDPROPERTIES
        
      FIELD #SalesDistrictId
        STRING
        PROPERTIES
          Name                #SalesDistrictId
          HelpText            #@SYS316640
          ConfigurationKey    #SmmCRM
          Table               #CustTable
          Origin              #{8F1F24EA-0CA9-4CFA-9D3A-03F3FA66540A}
          LegacyId            #109
          ExtendedDataType    #smmSalesDistrictId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #SalesGroup
        STRING
        PROPERTIES
          Name                #SalesGroup
          HelpText            #@SYS316393
          Table               #CustTable
          Origin              #{1F963910-34B2-48B2-9BE4-1FDD35CFCCC8}
          LegacyId            #13
          ExtendedDataType    #CommissSalesGroup
        ENDPROPERTIES
        
      FIELD #SalesPoolId
        STRING
        PROPERTIES
          Name                #SalesPoolId
          Table               #CustTable
          Origin              #{1463A229-4E8B-437D-ADE2-47A5AB49A1AF}
          LegacyId            #51
          ExtendedDataType    #CustSalesPoolId
        ENDPROPERTIES
        
      FIELD #SegmentId
        STRING
        PROPERTIES
          Name                #SegmentId
          HelpText            #@SYS316637
          ConfigurationKey    #SmmCRM
          Table               #CustTable
          Origin              #{E1BC960E-34A6-4A26-88E4-9C11116AE9AA}
          LegacyId            #110
          ExtendedDataType    #smmSegmentId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ServiceCodeOnDlvAddress_BR
        ENUM
        PROPERTIES
          Name                #ServiceCodeOnDlvAddress_BR
          Table               #CustTable
          Origin              #{99FA5511-43F8-4F6A-B32A-0C5648A22F7E}
          LegacyId            #8069
          ExtendedDataType    #TaxServiceCodeOnDlvAddress_BR
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ShipCarrierAccount
        STRING
        PROPERTIES
          Name                #ShipCarrierAccount
          ConfigurationKey    #ShipCarrier
          Table               #CustTable
          Origin              #{061C95CF-D649-456F-9E67-F8EDCC120D9D}
          LegacyId            #94
          ExtendedDataType    #ShipCarrierAccount
          StringSize          #25
        ENDPROPERTIES
        
      FIELD #ShipCarrierAccountCode
        STRING
        PROPERTIES
          Name                #ShipCarrierAccountCode
          ConfigurationKey    #ShipCarrier
          Table               #CustTable
          Origin              #{B9551C32-03FA-43A4-A2E7-9763F7C7C0B3}
          LegacyId            #103
          ExtendedDataType    #ShipCarrierAccountCode
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #ShipCarrierBlindShipment
        ENUM
        PROPERTIES
          Name                #ShipCarrierBlindShipment
          ConfigurationKey    #ShipCarrier
          Table               #CustTable
          Origin              #{353E0EB5-6389-49C7-871C-47C760F0D452}
          LegacyId            #100
          ExtendedDataType    #ShipCarrierBlindShipment
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ShipCarrierFuelSurcharge
        ENUM
        PROPERTIES
          Name                #ShipCarrierFuelSurcharge
          HelpText            #@SYS316663
          ConfigurationKey    #ShipCarrier
          Table               #CustTable
          Origin              #{0E80C619-1430-455B-927D-826A8856BC67}
          LegacyId            #99
          ExtendedDataType    #ShipCarrierFuelSurcharge
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #ShipCarrierId
        STRING
        PROPERTIES
          Name                #ShipCarrierId
          AllowEdit           #No
          ConfigurationKey    #ShipCarrier
          Table               #CustTable
          Origin              #{021A22C4-F82F-4F71-AB9D-BDF0A03057D5}
          LegacyId            #98
          ExtendedDataType    #ShipCarrierId
        ENDPROPERTIES
        
      FIELD #StateInscription_MX
        STRING
        PROPERTIES
          Name                #StateInscription_MX
          Table               #CustTable
          Origin              #{B59BC7B8-17A4-47D1-87D8-53C66E78AFB6}
          LegacyId            #275
          ExtendedDataType    #StateInscription_MX
          StringSize          #30
        ENDPROPERTIES
        
      FIELD #StatisticsGroup
        STRING
        PROPERTIES
          Name                #StatisticsGroup
          Table               #CustTable
          Origin              #{CE0A98BC-48B3-4651-B160-9FDCB05680C4}
          LegacyId            #42
          ExtendedDataType    #CustStatGroupId
        ENDPROPERTIES
        
      FIELD #SubsegmentId
        STRING
        PROPERTIES
          Name                #SubsegmentId
          HelpText            #@SYS316638
          ConfigurationKey    #SmmCRM
          Table               #CustTable
          Origin              #{9465C5B0-C1B9-4503-A946-9DA31CF4B972}
          LegacyId            #111
          ExtendedDataType    #smmSubsegmentId
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #Suframa_BR
        ENUM
        PROPERTIES
          Name                #Suframa_BR
          HelpText            #@GLS349
          Table               #CustTable
          Origin              #{4981C86F-2745-4938-8636-97089A6480BB}
          LegacyId            #8008
          ExtendedDataType    #CustSuframa_BR
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SuframaNumber_BR
        STRING
        PROPERTIES
          Name                #SuframaNumber_BR
          Table               #CustTable
          Origin              #{FF2A6279-4B13-4143-BC62-A6B4F5957BA5}
          LegacyId            #8007
          ExtendedDataType    #CustSuframaNumber_BR
        ENDPROPERTIES
        
      FIELD #SuframaPISCOFINS_BR
        ENUM
        PROPERTIES
          Name                #SuframaPISCOFINS_BR
          Label               #@GLS1335
          HelpText            #@GLS1336
          Table               #CustTable
          CountryRegionCodes  #BR
          Origin              #{B4EF6B39-904C-4B22-B431-CDD79675A672}
          LegacyId            #8013
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #SuppItemGroupId
        STRING
        PROPERTIES
          Name                #SuppItemGroupId
          Table               #CustTable
          Origin              #{0BC1CE1C-E171-4BC4-96B0-548DE6D2B18D}
          LegacyId            #68
          ExtendedDataType    #CustSuppItemGroupId
        ENDPROPERTIES
        
      FIELD #SyncEntityId
        GUID
        PROPERTIES
          Name                #SyncEntityId
          Table               #CustTable
          Origin              #{B674C9BA-DB65-4FE5-BDEB-5687BEC35B08}
          LegacyId            #106
          ExtendedDataType    #SyncEntityId
        ENDPROPERTIES
        
      FIELD #SyncVersion
        INT64
        PROPERTIES
          Name                #SyncVersion
          Table               #CustTable
          Origin              #{32936185-4C42-43D9-8D01-A0545933C689}
          LegacyId            #107
          ExtendedDataType    #SyncVersion
        ENDPROPERTIES
        
      FIELD #TaxBorderNumber_FI
        STRING
        PROPERTIES
          Name                #TaxBorderNumber_FI
          Table               #CustTable
          Origin              #{2A8D3835-C985-4CA3-A1E5-C1336DA3E31B}
          LegacyId            #83
          ExtendedDataType    #TaxBorderNumber_FI
        ENDPROPERTIES
        
      FIELD #TaxGroup
        STRING
        PROPERTIES
          Name                #TaxGroup
          HelpText            #@SYS316664
          Table               #CustTable
          Origin              #{934D676D-B19F-40F1-88BB-E0FCCC70EE87}
          LegacyId            #41
          ExtendedDataType    #TaxGroup
        ENDPROPERTIES
        
      FIELD #TaxGSTReliefGroupHeading_MY
        INT64
        PROPERTIES
          Name                #TaxGSTReliefGroupHeading_MY
          Table               #CustTable
          Origin              #{B8B7AF20-A51E-426F-81A0-2E25910018A7}
          ExtendedDataType    #TaxGSTReliefGroupRecId_MY
        ENDPROPERTIES
        
      FIELD #TaxLicenseNum
        STRING
        PROPERTIES
          Name                #TaxLicenseNum
          Table               #CustTable
          Origin              #{CB0AA467-1BE0-4321-AC7B-C9B28CD763A1}
          LegacyId            #70
          ExtendedDataType    #TaxPackagingLicenseNum
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #TaxPeriodPaymentCode_PL
        STRING
        PROPERTIES
          Name                #TaxPeriodPaymentCode_PL
          Table               #CustTable
          Origin              #{8E7C7FBC-BF69-467C-8B59-37D977C3CE0A}
          ExtendedDataType    #PlTaxPeriodPaymentCode
        ENDPROPERTIES
        
      FIELD #TaxWithholdCalculate_IN
        ENUM
        PROPERTIES
          Name                #TaxWithholdCalculate_IN
          Label               #@SYS81757
          HelpText            #@GLS5438
          Table               #CustTable
          CountryRegionCodes  #IN
          Origin              #{53C394A9-DA4F-4136-8F43-ACB09EECE474}
          LegacyId            #8169
          ExtendedDataType    #NoYesId
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #TaxWithholdCalculate_TH
        ENUM
        PROPERTIES
          Name                #TaxWithholdCalculate_TH
          Table               #CustTable
          Origin              #{C13AF9E8-7A91-4648-8E02-6C5DD331CCCA}
          LegacyId            #8035
          ExtendedDataType    #TaxWithholdCalculate_TH
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #TaxWithholdGroup_TH
        STRING
        PROPERTIES
          Name                #TaxWithholdGroup_TH
          Table               #CustTable
          CountryRegionCodes  #TH,SA,GB,IE,BR
          Origin              #{67B422DE-59CA-4152-B574-CDF9344E6F30}
          LegacyId            #8036
          ExtendedDataType    #TaxWithholdGroup
        ENDPROPERTIES
        
      FIELD #Test
        STRING
        PROPERTIES
          Name                #Test
          Label               #@SYS31561
          HelpText            #@BGM72
          Visible             #No
          Table               #CustTable
          Origin              #{C9E6E5B9-AAED-4502-AF86-D915D6FD8A15}
        ENDPROPERTIES
        
      FIELD #UnitedVATInvoice_LT
        ENUM
        PROPERTIES
          Name                #UnitedVATInvoice_LT
          Table               #CustTable
          Origin              #{2B9C4725-D18B-4B23-9000-528F88459585}
          LegacyId            #8190
          ExtendedDataType    #UnitedVATInvoice_LT
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #UseCashDisc
        ENUM
        PROPERTIES
          Name                #UseCashDisc
          Table               #CustTable
          Origin              #{36552521-B6BC-43DF-ADA2-51AB92B29106}
          EnumType            #UseCashDisc
        ENDPROPERTIES
        
      FIELD #usePurchRequest
        ENUM
        PROPERTIES
          Name                #usePurchRequest
          Table               #CustTable
          Origin              #{DDBE6DA8-67CF-40CC-B482-49C840CDA89D}
          LegacyId            #16090
          ExtendedDataType    #RetailUsePurchRequest
          EnumType            #NoYes
        ENDPROPERTIES
        
      FIELD #VATNum
        STRING
        PROPERTIES
          Name                #VATNum
          HelpText            #@SYS316665
          Table               #CustTable
          Origin              #{61685AB1-3C4D-4A5C-94EF-4FBB55B5653C}
          LegacyId            #25
          ExtendedDataType    #VATNum
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #VendAccount
        STRING
        PROPERTIES
          Name                #VendAccount
          HelpText            #@SYS316626
          Table               #CustTable
          Origin              #{6F5AC1D0-6838-4D16-ADEF-A0FB259B9611}
          LegacyId            #20
          ExtendedDataType    #VendAccount
          StringSize          #20
        ENDPROPERTIES
        
      FIELD #WebSalesOrderDisplay
        ENUM
        PROPERTIES
          Name                #WebSalesOrderDisplay
          Table               #CustTable
          Origin              #{0691240B-5405-4FCF-9985-0FE1E834B7D6}
          LegacyId            #71
          EnumType            #ECPsalesOrdersViewType
        ENDPROPERTIES
        
    ENDFIELDS
    GROUPS
      GROUP #AutoSummary
        PROPERTIES
          Name                #AutoSummary
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustGroup
          #DlvMode
          #DlvTerm
          #TaxGroup
          #PaymTermId
          #PaymMode
          #PaymSched
          #CreditRating
          #CreditMax
          #SalesDistrictId
          #LineOfBusinessId
          #SegmentId
          #SubsegmentId
          #CompanyChainId
          #Blocked
          #SalesGroup
          #EndDisc
          #CustClassificationId
          #AccountStatement
          #StatisticsGroup
          #Currency
          #FreightZone
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AutoReport
        PROPERTIES
          Name                #AutoReport
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
          #Party
          #OrgId
          #Currency
          #CustGroup
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AutoLookup
        PROPERTIES
          Name                #AutoLookup
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
          #Party
          #OurAccountNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AddressLookup
        PROPERTIES
          Name                #AddressLookup
          Label               #@SYS88672
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Administration
        PROPERTIES
          Name                #Administration
          Label               #@SYS9853
        ENDPROPERTIES
        
        GROUPFIELDS
          #Blocked
          #OneTimeCustomer
          #StatisticsGroup
          #AccountStatement
          #ForecastDMPInclude
          #CustExcludeCollectionFee
          #CustExcludeInterestCharges
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #AdministrationEP
        PROPERTIES
          Name                #AdministrationEP
          Label               #@SYS9853
        ENDPROPERTIES
        
        GROUPFIELDS
          #Blocked
          #OneTimeCustomer
          #StatisticsGroup
          #AccountStatement
          #ForecastDMPInclude
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Affiliated_RU
        PROPERTIES
          Name                #Affiliated_RU
          Label               #@SYS4002123
        ENDPROPERTIES
        
        GROUPFIELDS
          #Affiliated_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #All
        PROPERTIES
          Name                #All
          Label               #@SYS80094
        ENDPROPERTIES
        
        GROUPFIELDS
          #usePurchRequest
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Budget
        PROPERTIES
          Name                #Budget
          Label               #@SYS15436
        ENDPROPERTIES
        
        GROUPFIELDS
          #ClearingPeriod
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CarrierInfo
        PROPERTIES
          Name                #CarrierInfo
          Label               #@SYS50722
        ENDPROPERTIES
        
        GROUPFIELDS
          #ShipCarrierId
          #ShipCarrierAccountCode
          #ShipCarrierAccount
          #ShipCarrierBlindShipment
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CaseMoreInformation
        PROPERTIES
          Name                #CaseMoreInformation
          Label               #@SYS314356
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
          #name
          #InvoiceAccount
          #CustGroup
          #Currency
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Classification
        PROPERTIES
          Name                #Classification
          Label               #@SYS81508
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustClassificationId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CompanyChain
        PROPERTIES
          Name                #CompanyChain
          Label               #@SYS105799
        ENDPROPERTIES
        
        GROUPFIELDS
          #CompanyChainId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ConnIntegration
        PROPERTIES
          Name                #ConnIntegration
          Label               #@SYS4004713
        ENDPROPERTIES
        
        GROUPFIELDS
          #DAXIntegrationId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ConsDay_JP
        PROPERTIES
          Name                #ConsDay_JP
          Label               #@GLS60066
        ENDPROPERTIES
        
        GROUPFIELDS
          #ConsDay_JP
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ContactInfo
        PROPERTIES
          Name                #ContactInfo
          Label               #@SYS21663
        ENDPROPERTIES
        
        GROUPFIELDS
          #ContactPersonId
          #editContactPersonName
          #LineOfBusinessId
          #BirthPlace_IT
          #BirthDate_IT
          #BirthCountyCode_IT
          #ResidenceForeignCountryRegionId_IT
          #AuthorityOffice_IT
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Credit
        PROPERTIES
          Name                #Credit
          Label               #@SYS7084
        ENDPROPERTIES
        
        GROUPFIELDS
          #MandatoryCreditLimit
          #CreditRating
          #CreditMax
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CreditCardProcessing
        PROPERTIES
          Name                #CreditCardProcessing
          Label               #@SYS327526
        ENDPROPERTIES
        
        GROUPFIELDS
          #CreditCardAddressVerification
          #CreditCardAddressVerificationVoid
          #CreditCardAddressVerificationLevel
          #CreditCardCVC
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Currency
        PROPERTIES
          Name                #Currency
          Label               #@sys7572
        ENDPROPERTIES
        
        GROUPFIELDS
          #Currency
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #CustomerSelfService
        PROPERTIES
          Name                #CustomerSelfService
          Label               #@SYS58654
        ENDPROPERTIES
        
        GROUPFIELDS
          #WebSalesOrderDisplay
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Delivery
        PROPERTIES
          Name                #Delivery
          Label               #@SYS4508
        ENDPROPERTIES
        
        GROUPFIELDS
          #FreightZone
          #DlvTerm
          #DlvMode
          #DlvReason
          #DestinationCodeId
          #SalesCalendarId
          #ShipCarrierFuelSurcharge
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DeliveryTerms
        PROPERTIES
          Name                #DeliveryTerms
          Label               #@SYS27703
        ENDPROPERTIES
        
        GROUPFIELDS
          #PaymTermId
          #PaymMode
          #PaymSpec
          #PaymSched
          #CashDisc
          #BankAccount
          #PaymDayId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Dimension
        PROPERTIES
          Name                #Dimension
          Label               #@SYS342338
        ENDPROPERTIES
        
        GROUPFIELDS
          #DefaultDimension
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #DirectDebit
        PROPERTIES
          Name                #DirectDebit
          Label               #@SYS4002617
        ENDPROPERTIES
        
        GROUPFIELDS
          #DefaultDirectDebitMandate
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Einvoice
        PROPERTIES
          Name                #Einvoice
          Label               #@SYS100769
        ENDPROPERTIES
        
        GROUPFIELDS
          #EInvoice
          #EinvoiceEANNum
          #EInvoiceRegister_IT
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EntryCertificate_W
        PROPERTIES
          Name                #EntryCertificate_W
          Label               #@SYS4004104
        ENDPROPERTIES
        
        GROUPFIELDS
          #EntryCertificateRequired_W
          #IssueOwnEntryCertificate_W
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPCharacteristics
        PROPERTIES
          Name                #EPCharacteristics
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
          #CustGroup
          #Currency
          #CustClassificationId
          #Memo
          #Party
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPCharacteristics2
        PROPERTIES
          Name                #EPCharacteristics2
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #SegmentId
          #SubsegmentId
          #CompanyChainId
          #SalesDistrictId
          #MainContactWorker
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPContactInfoAddEdit
        PROPERTIES
          Name                #EPContactInfoAddEdit
          Label               #@SYS21663
        ENDPROPERTIES
        
        GROUPFIELDS
          #ContactPersonId
          #editContactPersonName
          #LineOfBusinessId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPCreditInfo
        PROPERTIES
          Name                #EPCreditInfo
          Label               #@SYS7084
        ENDPROPERTIES
        
        GROUPFIELDS
          #creditMaxCur
          #balanceAllCurrency
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPCustomer
        PROPERTIES
          Name                #EPCustomer
          Label               #@SYS53631
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustGroup
          #Currency
          #Blocked
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPDetailsOther
        PROPERTIES
          Name                #EPDetailsOther
          Label               #@SYS316631
        ENDPROPERTIES
        
        GROUPFIELDS
          #ContactPersonId
          #LineOfBusinessId
          #MainContactWorker
          #SegmentId
          #SubsegmentId
          #CompanyChainId
          #SalesDistrictId
          #Currency
          #Memo
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPFrench
        PROPERTIES
          Name                #EPFrench
          Label               #@SYS21663
        ENDPROPERTIES
        
        GROUPFIELDS
          #CompanyIdSiret
          #CompanyNAFCode
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPGeneral3
        PROPERTIES
          Name                #EPGeneral3
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #MandatoryCreditLimit
          #CreditRating
          #CreditMax
          #Blocked
          #OneTimeCustomer
          #StatisticsGroup
          #AccountStatement
          #ForecastDMPInclude
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPMiniPage
        PROPERTIES
          Name                #EPMiniPage
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustGroup
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPPayment1
        PROPERTIES
          Name                #EPPayment1
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #PaymTermId
          #PaymMode
          #PaymSpec
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPPayment2
        PROPERTIES
          Name                #EPPayment2
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #PaymSched
          #PaymDayId
          #CashDisc
          #BankAccount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPSetup1
        PROPERTIES
          Name                #EPSetup1
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #InvoiceAccount
          #InvoiceAddress
          #numberSequenceGroup
          #GiroType
          #GiroTypeFreeTextInvoice
          #GiroTypeInterestNote
          #GiroTypeCollectionletter
          #GiroTypeProjInvoice
          #GiroTypeAccountStatement
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPSetup2
        PROPERTIES
          Name                #EPSetup2
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #FreightZone
          #DlvTerm
          #DlvMode
          #DlvReason
          #DestinationCodeId
          #SalesCalendarId
          #TaxGroup
          #VATNum
          #EnterpriseNumber
          #InclTax
          #TaxLicenseNum
          #FiscalCode
          #TaxBorderNumber_FI
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #EPSetup3
        PROPERTIES
          Name                #EPSetup3
          Label               #@SYS108232
        ENDPROPERTIES
        
        GROUPFIELDS
          #RFIDItemTagging
          #RFIDCaseTagging
          #RFIDPalletTagging
          #InterCompanyAutoCreateOrders
          #InterCompanyDirectDelivery
          #InterCompanyAllowIndirectCreation
          #EinvoiceEANNum
          #PackMaterialFeeLicenseNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #FederalAttributes
        PROPERTIES
          Name                #FederalAttributes
          Label               #@SPS130
        ENDPROPERTIES
        
        GROUPFIELDS
          #FedNonFedIndicator
          #CustTradingPartnerCode
          #AgencyLocationCode
          #IRS1099CIndicator
          #FederalComments
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #FiscalInformation_BR
        PROPERTIES
          Name                #FiscalInformation_BR
          Label               #@GLS56
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustFinalUser_BR
          #ICMSContributor_BR
          #PresenceType_BR
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Gateway
        PROPERTIES
          Name                #Gateway
          Label               #@SYS72001
        ENDPROPERTIES
        
        GROUPFIELDS
          #balanceAllCurrency
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #GiroMoneyTransferSlip
        PROPERTIES
          Name                #GiroMoneyTransferSlip
          Label               #@SYS316960
        ENDPROPERTIES
        
        GROUPFIELDS
          #GiroType
          #GiroTypeFreeTextInvoice
          #GiroTypeInterestNote
          #GiroTypeCollectionletter
          #GiroTypeProjInvoice
          #GiroTypeAccountStatement
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #GiroMoneyTransferSlipEP
        PROPERTIES
          Name                #GiroMoneyTransferSlipEP
          Label               #@SYS316960
        ENDPROPERTIES
        
        GROUPFIELDS
          #GiroType
          #GiroTypeFreeTextInvoice
          #GiroTypeInterestNote
          #GiroTypeCollectionletter
          #GiroTypeProjInvoice
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #GovernmentIdentification
        PROPERTIES
          Name                #GovernmentIdentification
          Label               #@SYS114299
        ENDPROPERTIES
        
        GROUPFIELDS
          #IdentificationNumber
          #PartyCountry
          #PartyState
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Identification
        PROPERTIES
          Name                #Identification
          Label               #@SYS5711
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
          #Party
          #OrgId
          #RegNum_W
          #CommercialRegister
          #CommercialRegisterInsetNumber
          #CommercialRegisterSection
          #ForeignResident_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Integration
        PROPERTIES
          Name                #Integration
          Label               #@SYS104440
        ENDPROPERTIES
        
        GROUPFIELDS
          #SyncVersion
          #SyncEntityId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Intercompany
        PROPERTIES
          Name                #Intercompany
          Label               #@SYS74106
        ENDPROPERTIES
        
        GROUPFIELDS
          #interCompanyTradingRelationActive
          #interCompanyTradingPartnerCompanyID
          #interCompanyTradingPartnerAccount
          #InterCompanyAutoCreateOrders
          #InterCompanyDirectDelivery
          #InterCompanyAllowIndirectCreation
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Inventory
        PROPERTIES
          Name                #Inventory
          Label               #@SYS981
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventSiteId
          #InventLocation
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #InventoryStatus
        PROPERTIES
          Name                #InventoryStatus
          Label               #@WAX357
        ENDPROPERTIES
        
        GROUPFIELDS
          #DefaultInventStatusId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #InventProfile_RU
        PROPERTIES
          Name                #InventProfile_RU
          Label               #@GLS113769
        ENDPROPERTIES
        
        GROUPFIELDS
          #InventProfileType_RU
          #InventProfileId_RU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Invoice
        PROPERTIES
          Name                #Invoice
          Label               #@SYS12128
        ENDPROPERTIES
        
        GROUPFIELDS
          #InvoiceAccount
          #InvoiceAddress
          #numberSequenceGroup
          #UnitedVATInvoice_LT
          #FiscalDocType_PL
          #editInvReportFormat
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #LeadEditCustomerDetails
        PROPERTIES
          Name                #LeadEditCustomerDetails
          Label               #@SYS110471
        ENDPROPERTIES
        
        GROUPFIELDS
          #customerGroup
          #Currency
          #SegmentId
          #SubsegmentId
          #SalesDistrictId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #MainContact
        PROPERTIES
          Name                #MainContact
          Label               #@SYS105800
        ENDPROPERTIES
        
        GROUPFIELDS
          #MainContactWorker
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #MCRCustMerge
        PROPERTIES
          Name                #MCRCustMerge
          Label               #@MCR12188
        ENDPROPERTIES
        
        GROUPFIELDS
          #MCRMergedRoot
          #MCRMergedParent
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Memo
        PROPERTIES
          Name                #Memo
          Label               #@SYS105801
        ENDPROPERTIES
        
        GROUPFIELDS
          #Memo
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #National_BR
        PROPERTIES
          Name                #National_BR
          Label               #@GLS30
        ENDPROPERTIES
        
        GROUPFIELDS
          #CNPJCPFNum_BR
          #IENum_BR
          #CCMNum_BR
          #NIT_BR
          #INSSCEI_BR
          #CNAE_BR
          #ForeignerId_BR
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #NotificationToTheCentralBank
        PROPERTIES
          Name                #NotificationToTheCentralBank
          Label               #@SYS67156
        ENDPROPERTIES
        
        GROUPFIELDS
          #BankCentralBankPurposeCode
          #BankCentralBankPurposeText
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PackagingMaterialFee
        PROPERTIES
          Name                #PackagingMaterialFee
          Label               #@SYS72996
        ENDPROPERTIES
        
        GROUPFIELDS
          #PackMaterialFeeLicenseNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Payment
        PROPERTIES
          Name                #Payment
          Label               #@SYS828
        ENDPROPERTIES
        
        GROUPFIELDS
          #PaymTermId
          #PaymMode
          #PaymSpec
          #PaymSched
          #PaymDayId
          #CashDisc
          #CashDiscBaseDays
          #BankAccount
          #FactoringAccount
          #BankCustPaymIdTable
          #bankAccountNum
          #UseCashDisc
          #PaymentReference_EE
          #IntBank_LV
          #LvPaymTransCodes
          #FineCode_BR
          #InterestCode_BR
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #PdsFreightAccrued
        PROPERTIES
          Name                #PdsFreightAccrued
          Label               #@SYS1655
        ENDPROPERTIES
        
        GROUPFIELDS
          #PdsFreightAccrued
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Posting
        PROPERTIES
          Name                #Posting
          Label               #@SYS12919
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustGroup
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #quickCreateDetails
        PROPERTIES
          Name                #quickCreateDetails
          Label               #@SYS340108
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustGroup
          #Currency
          #PaymTermId
          #DlvTerm
          #DlvMode
          #TaxGroup
          #VATNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #quickCreateHeader
        PROPERTIES
          Name                #quickCreateHeader
          Label               #@SYS340399
        ENDPROPERTIES
        
        GROUPFIELDS
          #AccountNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #ReturnablePackage_PL
        PROPERTIES
          Name                #ReturnablePackage_PL
          Label               #@GLS110272
        ENDPROPERTIES
        
        GROUPFIELDS
          #PackageDepositExcempt_PL
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #RFIDTagging
        PROPERTIES
          Name                #RFIDTagging
          Label               #@SYS90171
        ENDPROPERTIES
        
        GROUPFIELDS
          #RFIDItemTagging
          #RFIDCaseTagging
          #RFIDPalletTagging
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesDiscount
        PROPERTIES
          Name                #SalesDiscount
          Label               #@SYS14375
        ENDPROPERTIES
        
        GROUPFIELDS
          #MultiLineDisc
          #EndDisc
          #PriceGroup
          #LineDisc
          #PdsCustRebateGroupId
          #PdsRebateTMAGroup
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesDistrict
        PROPERTIES
          Name                #SalesDistrict
          Label               #@SYS105802
        ENDPROPERTIES
        
        GROUPFIELDS
          #SalesDistrictId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesOrder
        PROPERTIES
          Name                #SalesOrder
          Label               #@SYS7443
        ENDPROPERTIES
        
        GROUPFIELDS
          #MarkupGroup
          #InventSiteId
          #InventLocation
          #CustItemGroupId
          #CommissionGroup
          #SalesGroup
          #SalesPoolId
          #OurAccountNum
          #PBACustGroupId
          #interCompanyTradingPartnerCompanyID
          #OrderEntryDeadlineGroupId
          #InvoicePostingType_RU
          #ExportSales_PL
          #mb_RequisitionNumber
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesOrderOther
        PROPERTIES
          Name                #SalesOrderOther
          Label               #@SYS30289
        ENDPROPERTIES
        
        GROUPFIELDS
          #SuppItemGroupId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesReturn_BR
        PROPERTIES
          Name                #SalesReturn_BR
          Label               #@GLS220586
        ENDPROPERTIES
        
        GROUPFIELDS
          #GenerateIncomingFiscalDocument_BR
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesTax
        PROPERTIES
          Name                #SalesTax
          Label               #@SYS5878
        ENDPROPERTIES
        
        GROUPFIELDS
          #TaxGroup
          #VATNum
          #EnterpriseNumber
          #InclTax
          #TaxLicenseNum
          #FiscalCode
          #TaxBorderNumber_FI
          #EnterpriseCode
          #MandatoryVatDate_PL
          #TaxPeriodPaymentCode_PL
          #TaxGSTReliefGroupHeading_MY
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesTaxEP
        PROPERTIES
          Name                #SalesTaxEP
          Label               #@SYS5878
        ENDPROPERTIES
        
        GROUPFIELDS
          #TaxGroup
          #VATNum
          #InclTax
          #TaxLicenseNum
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SalesTaxExchangeRate
        PROPERTIES
          Name                #SalesTaxExchangeRate
          Label               #@GLS112406
        ENDPROPERTIES
        
        GROUPFIELDS
          #PassportNo_HU
          #IssuerCountry_HU
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Segment
        PROPERTIES
          Name                #Segment
          Label               #@SYS105803
        ENDPROPERTIES
        
        GROUPFIELDS
          #SegmentId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Services_BR
        PROPERTIES
          Name                #Services_BR
          Label               #@SYS35620
        ENDPROPERTIES
        
        GROUPFIELDS
          #ServiceCodeOnDlvAddress_BR
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Subsegment
        PROPERTIES
          Name                #Subsegment
          Label               #@SYS105805
        ENDPROPERTIES
        
        GROUPFIELDS
          #SubsegmentId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SuframaRegion_BR
        PROPERTIES
          Name                #SuframaRegion_BR
          Label               #@GLS129
        ENDPROPERTIES
        
        GROUPFIELDS
          #Suframa_BR
          #SuframaNumber_BR
          #SuframaPISCOFINS_BR
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #SupplementaryItem
        PROPERTIES
          Name                #SupplementaryItem
          Label               #@SYS58240
        ENDPROPERTIES
        
        GROUPFIELDS
          #SuppItemGroupId
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #TaxRegistration_MX
        PROPERTIES
          Name                #TaxRegistration_MX
          Label               #@SYS312490
        ENDPROPERTIES
        
        GROUPFIELDS
          #CompanyType_MX
          #Rfc_MX
          #Curp_MX
          #StateInscription_MX
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #TMS
        PROPERTIES
          Name                #TMS
          Label               #@TRX1
        ENDPROPERTIES
        
        GROUPFIELDS
          #ExpressBillOfLading
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #Vendor
        PROPERTIES
          Name                #Vendor
          Label               #@SYS9455
        ENDPROPERTIES
        
        GROUPFIELDS
          #VendAccount
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WebCategoryBrowsing
        PROPERTIES
          Name                #WebCategoryBrowsing
          Label               #@SYS74258
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustGroup
          #Currency
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WhtContribution_BR
        PROPERTIES
          Name                #WhtContribution_BR
          Label               #@FBK30
        ENDPROPERTIES
        
        GROUPFIELDS
          #CustWhtContributionType_BR
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WithholdingTax
        PROPERTIES
          Name                #WithholdingTax
          Label               #@SYS7372
        ENDPROPERTIES
        
        GROUPFIELDS
          #TaxWithholdCalculate_TH
          #TaxWithholdGroup_TH
        ENDGROUPFIELDS
      ENDGROUP
      GROUP #WithholdingTax_IN
        PROPERTIES
          Name                #WithholdingTax_IN
          Label               #@SYS33817
        ENDPROPERTIES
        
        GROUPFIELDS
          #TaxWithholdCalculate_IN
        ENDGROUPFIELDS
      ENDGROUP
    ENDGROUPS
    
    INDICES
      #AccountIdx
      PROPERTIES
        Name                #AccountIdx
        AllowDuplicates     #No
        Origin              #{2B0A0001-004D-1000-CD51-C781756E7449}
        LegacyId            #1
      ENDPROPERTIES
      
      INDEXFIELDS
        #AccountNum
      ENDINDEXFIELDS
      
      #Party
      PROPERTIES
        Name                #Party
        AllowDuplicates     #No
        AlternateKey        #Yes
        Origin              #{2B050003-004D-1000-5061-727479000000}
        LegacyId            #3
      ENDPROPERTIES
      
      INDEXFIELDS
        #Party
        #dataAreaId
      ENDINDEXFIELDS
      
      #OurAccountNumIdx
      PROPERTIES
        Name                #OurAccountNumIdx
        Origin              #{2B100005-004D-1000-E97E-7594CDCE326F}
        LegacyId            #5
      ENDPROPERTIES
      
      INDEXFIELDS
        #OurAccountNum
      ENDINDEXFIELDS
      
      #CompanyNAFCodeIdx
      PROPERTIES
        Name                #CompanyNAFCodeIdx
        Origin              #{2B110007-004D-1000-C613-4C6CEC6CA910}
        LegacyId            #7
      ENDPROPERTIES
      
      INDEXFIELDS
        #CompanyNAFCode
      ENDINDEXFIELDS
      
      #BankCustPaymIdTableIdx
      PROPERTIES
        Name                #BankCustPaymIdTableIdx
        Origin              #{2B16000B-004D-1000-0831-44A6713205A6}
        LegacyId            #11
      ENDPROPERTIES
      
      INDEXFIELDS
        #BankCustPaymIdTable
      ENDINDEXFIELDS
      
      #HcmWorkerIdx
      PROPERTIES
        Name                #HcmWorkerIdx
        Origin              #{3199FECC-F113-4698-B0C8-A07F1FF26570}
        LegacyId            #16
      ENDPROPERTIES
      
      INDEXFIELDS
        #MainContactWorker
      ENDINDEXFIELDS
      
      #PaymRefIdx_EE
      PROPERTIES
        Name                #PaymRefIdx_EE
        Origin              #{E63F570D-77D4-4359-93BF-D0C36400AADD}
        LegacyId            #16001
      ENDPROPERTIES
      
      INDEXFIELDS
        #PaymentReference_EE
      ENDINDEXFIELDS
      
      #LogisticsAddressCountryRegionIdx
      PROPERTIES
        Name                #LogisticsAddressCountryRegionIdx
        Origin              #{B4BE6DE0-679B-4ABA-9BF9-177EB32B72D5}
      ENDPROPERTIES
      
      INDEXFIELDS
        #ResidenceForeignCountryRegionId_IT
      ENDINDEXFIELDS
      
      #PlTaxDueTableIdx
      PROPERTIES
        Name                #PlTaxDueTableIdx
        Origin              #{5AB281E6-AFFB-4EDD-ADDD-7985CF918288}
      ENDPROPERTIES
      
      INDEXFIELDS
        #TaxPeriodPaymentCode_PL
      ENDINDEXFIELDS
      
      #CustTradingPartnerCodeIdx
      PROPERTIES
        Name                #CustTradingPartnerCodeIdx
        ConfigurationKey    #PublicSector
        Origin              #{3D7EE0EB-93C1-4076-8784-E8238567C174}
      ENDPROPERTIES
      
      INDEXFIELDS
        #CustTradingPartnerCode
      ENDINDEXFIELDS
      
      #LvPaymTransCodesIdx
      PROPERTIES
        Name                #LvPaymTransCodesIdx
        Origin              #{8451AAE2-9BB2-4EF5-854F-DB2A45409A5E}
      ENDPROPERTIES
      
      INDEXFIELDS
        #LvPaymTransCodes
      ENDINDEXFIELDS
      
      #VendAccount
      PROPERTIES
        Name                #VendAccount
        Origin              #{54D7072B-55DC-4759-A587-5C8176DC532E}
      ENDPROPERTIES
      
      INDEXFIELDS
        #VendAccount
      ENDINDEXFIELDS
      
      #MCRMergeIdx
      PROPERTIES
        Name                #MCRMergeIdx
        ConfigurationKey    #MCRCallCenter
        Origin              #{2E6C5DA3-2E9F-4EF8-A021-2E951D35CC21}
      ENDPROPERTIES
      
      INDEXFIELDS
        #MCRMergedRoot
      ENDINDEXFIELDS
      
      #CustGroupIdx
      PROPERTIES
        Name                #CustGroupIdx
        Origin              #{FB4FD648-64C6-46E0-B6FA-01AF1AB86F0B}
      ENDPROPERTIES
      
      INDEXFIELDS
        #CustGroup
      ENDINDEXFIELDS
      
    ENDINDICES
    FULLTEXTINDICES
    ENDFULLTEXTINDICES
    REFERENCES
      REFERENCE #BankAccounts
        PROPERTIES
          Name                #BankAccounts
          Table               #CustBankAccount
          EntityRelationshipRole  #@SYS123560
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Aggregation
          RelatedTableRole    #BankAccounts
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AccountNum
            RelatedField        #CustAccount
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #BankAccount
            RelatedField        #AccountID
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #BankAccounts_LV
        PROPERTIES
          Name                #BankAccounts_LV
          Table               #CustBankAccount
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Aggregation
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #AccountNum
            RelatedField        #CustAccount
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #IntBank_LV
            RelatedField        #AccountID
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #BankCentralBankPurpose
        PROPERTIES
          Name                #BankCentralBankPurpose
          Table               #BankCentralBankPurpose
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #BankCentralBankPurposeCode
            RelatedField        #Code
            SourceEDT           #BankCentralBankPurposeCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #BankCustPaymIdTable
        PROPERTIES
          Name                #BankCustPaymIdTable
          Table               #BankCustPaymIdTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #BankCustPaymIdTable
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #BankCustPaymIdTable
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #BirthCounty
        PROPERTIES
          Name                #BirthCounty
          Table               #LogisticsAddressCounty
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #LogisticsAddressCounty
          Role                #CustTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #BirthCountyCode_IT
            RelatedField        #CountyCode_IT
            SourceEDT           #AddressCountyCode_IT
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CashDisc
        PROPERTIES
          Name                #CashDisc
          Table               #CashDisc
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CashDisc
            RelatedField        #CashDiscCode
            SourceEDT           #CustCashDiscCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CommissionCustomerGroup
        PROPERTIES
          Name                #CommissionCustomerGroup
          Table               #CommissionCustomerGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CommissionGroup
            RelatedField        #GroupId
            SourceEDT           #CommissCustomerGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CommissionSalesGroup
        PROPERTIES
          Name                #CommissionSalesGroup
          Table               #CommissionSalesGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesGroup
            RelatedField        #GroupId
            SourceEDT           #CommissSalesGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CompanyNAFCode
        PROPERTIES
          Name                #CompanyNAFCode
          Table               #CompanyNAFCode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CompanyNAFCode
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CompanyNAFCode
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ContactPerson
        PROPERTIES
          Name                #ContactPerson
          Table               #ContactPerson
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ContactPersonId
            RelatedField        #ContactPersonId
            SourceEDT           #ContactPersonId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #Currency
        PROPERTIES
          Name                #Currency
          Table               #Currency
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #Currency
            RelatedField        #CurrencyCode
            SourceEDT           #CustCurrencyCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustClassificationGroup
        PROPERTIES
          Name                #CustClassificationGroup
          Table               #CustClassificationGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #CustClassificationGroup
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #CustClassificationId
            RelatedField        #Code
            SourceEDT           #CustClassificationId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustDirectDebitMandate
        PROPERTIES
          Name                #CustDirectDebitMandate
          Table               #CustDirectDebitMandate
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #DefaultDirectDebitMandate
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustFineSetup_BR
        PROPERTIES
          Name                #CustFineSetup_BR
          Table               #CustFineSetup_BR
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #FineCode_BR
            RelatedField        #FineCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustGroup
        PROPERTIES
          Name                #CustGroup
          Table               #CustGroup
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CustGroup
            RelatedField        #CustGroup
            SourceEDT           #CustGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustInterestSetup_BR
        PROPERTIES
          Name                #CustInterestSetup_BR
          Table               #CustInterestSetup_BR
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InterestCode_BR
            RelatedField        #InterestCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustPaymentModeSpec
        PROPERTIES
          Name                #CustPaymentModeSpec
          Table               #CustPaymModeSpec
          EntityRelationshipRole  #@SYS125116
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CustPaymentModeSpec
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PaymMode
            RelatedField        #PaymMode
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PaymSpec
            RelatedField        #Specification
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustPaymModeTable
        PROPERTIES
          Name                #CustPaymModeTable
          Table               #CustPaymModeTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PaymMode
            RelatedField        #PaymMode
            SourceEDT           #CustPaymMode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustStatisticsGroup
        PROPERTIES
          Name                #CustStatisticsGroup
          Table               #CustStatisticsGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #StatisticsGroup
            RelatedField        #CustStatisticsGroup
            SourceEDT           #CustStatGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustTable_FactoringAccount
        PROPERTIES
          Name                #CustTable_FactoringAccount
          Table               #CustTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #CustTable_FactoringAccount
          Role                #CustTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #FactoringAccount
            RelatedField        #AccountNum
            SourceEDT           #BankCustFactoringAccount
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustTable_InvoiceAccount
        PROPERTIES
          Name                #CustTable_InvoiceAccount
          Table               #CustTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #CustTable_InvoiceAccount
          Role                #CustTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InvoiceAccount
            RelatedField        #AccountNum
            SourceEDT           #CustInvoiceAccount
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustTradingPartnerCode
        PROPERTIES
          Name                #CustTradingPartnerCode
          Table               #CustTradingPartnerCode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #CustTradingPartnerCode
          Role                #CustTradingPartnerCode_CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CustTradingPartnerCode
            RelatedField        #RecId
            SourceEDT           #TradingPartnerCodeRecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #CustVendItemGroup
        PROPERTIES
          Name                #CustVendItemGroup
          Table               #CustVendItemGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #CustItemGroupId
            RelatedField        #GroupId
            SourceEDT           #CustItemGroupId
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #CustVendItemGroup
            RelatedField        #Module
            SourceEDT           #CustItemGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DefaultDimension
        PROPERTIES
          Name                #DefaultDimension
          Table               #DimensionAttributeValueSet
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #DefaultDimension
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DefaultDimension
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DestinationCode
        PROPERTIES
          Name                #DestinationCode
          Table               #DestinationCode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DestinationCodeId
            RelatedField        #DestinationCodeId
            SourceEDT           #CustDestinationCodeId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DirAddressBookParty
        PROPERTIES
          Name                #DirAddressBookParty
          Table               #DirAddressBookPartyAllView
          Validate            #No
          RelationshipType    #Link
          UseDefaultRoleNames #Yes
          RelatedTableRole    #DirAddressBookPartyAllView
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #Party
            RelatedField        #Party
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DirPartyTable_FK
        PROPERTIES
          Name                #DirPartyTable_FK
          Table               #DirPartyTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          RelatedTableRole    #DirPartyTable_FK
          Role                #CustTable
          CreateNavigationPropertyMethods           #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #Party
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DirPartyView
        PROPERTIES
          Name                #DirPartyView
          Table               #DirPartyView
          Validate            #No
          EntityRelationshipRole  #@SYS124637
          RelationshipType    #Link
          RelatedTableRole    #DirPartyView
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #Party
            RelatedField        #Party
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DlvMode
        PROPERTIES
          Name                #DlvMode
          Table               #DlvMode
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DlvMode
            RelatedField        #Code
            SourceEDT           #CustDlvModeId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DlvReason
        PROPERTIES
          Name                #DlvReason
          Table               #DlvReason
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DlvReason
            RelatedField        #Code
            SourceEDT           #DlvReasonId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #DlvTerm
        PROPERTIES
          Name                #DlvTerm
          Table               #DlvTerm
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #DlvTerm
            RelatedField        #Code
            SourceEDT           #CustDlvTermId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventLocation
        PROPERTIES
          Name                #InventLocation
          Table               #InventLocation
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InventLocation
            RelatedField        #InventLocationId
            SourceEDT           #InventLocationId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventOrderEntryDeadlineGroup
        PROPERTIES
          Name                #InventOrderEntryDeadlineGroup
          Table               #InventOrderEntryDeadlineGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #OrderEntryDeadlineGroupId
            RelatedField        #DeadlineGroupId
            SourceEDT           #InventOrderEntryDeadlineGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventProfile_RU
        PROPERTIES
          Name                #InventProfile_RU
          Table               #InventProfile_RU
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InventProfileId_RU
            RelatedField        #InventProfileId
            SourceEDT           #InventProfileId_RU
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #InventSite
        PROPERTIES
          Name                #InventSite
          Table               #InventSite
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #InventSiteId
            RelatedField        #SiteId
            SourceEDT           #InventSiteId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #LineOfBusiness
        PROPERTIES
          Name                #LineOfBusiness
          Table               #LineOfBusiness
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #LineOfBusinessId
            RelatedField        #LineOfBusinessId
            SourceEDT           #CustLineOfBusinessId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #LogisticsAddressCountryRegion
        PROPERTIES
          Name                #LogisticsAddressCountryRegion
          Table               #LogisticsAddressCountryRegion
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PartyCountry
            RelatedField        #CountryRegionId
            SourceEDT           #AddressCountryRegionId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #LogisticsAddressCountryRegion_RFIT
        PROPERTIES
          Name                #LogisticsAddressCountryRegion_RFIT
          Table               #LogisticsAddressCountryRegion
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #LogisticsAddressCountryRegion_RFIT
          Role                #CustTable_RFIT
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ResidenceForeignCountryRegionId_IT
            RelatedField        #CountryRegionId
            SourceEDT           #LogisticsAddressCountryRegionId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #LvPaymTransCodes
        PROPERTIES
          Name                #LvPaymTransCodes
          Table               #LvPaymTransCodes
          RelatedTableCardinality   #ExactlyOne
          Cardinality         #ZeroOne
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #LvPaymTransCodes
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #MainContactWorker
        PROPERTIES
          Name                #MainContactWorker
          Table               #HcmWorker
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #HcmWorker
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #MainContactWorker
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #MarkupGroup
        PROPERTIES
          Name                #MarkupGroup
          Table               #MarkupGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #MarkupGroup
            RelatedField        #GroupId
            SourceEDT           #CustMarkupGroupId
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #MarkupGroup
            RelatedField        #Module
            SourceEDT           #CustMarkupGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #NumberSequenceGroup
        PROPERTIES
          Name                #NumberSequenceGroup
          Table               #NumberSequenceGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #numberSequenceGroup
            RelatedField        #numberSequenceGroupId
            SourceEDT           #NumberSequenceGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PartyState
        PROPERTIES
          Name                #PartyState
          Table               #LogisticsAddressState
          EntityRelationshipRole  #@SYS125117
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #PartyState
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PartyCountry
            RelatedField        #CountryRegionId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PartyState
            RelatedField        #StateId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PassportIssuerLogisticsAddressCountry_HU
        PROPERTIES
          Name                #PassportIssuerLogisticsAddressCountry_HU
          Table               #LogisticsAddressCountryRegion
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PassportIssuerCountryRegion
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #IssuerCountry_HU
            RelatedField        #CountryRegionId
            SourceEDT           #AddressCountryRegionId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PaymDay
        PROPERTIES
          Name                #PaymDay
          Table               #PaymDay
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PaymDayId
            RelatedField        #PaymDayId
            SourceEDT           #CustPaymDayId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PaymSched
        PROPERTIES
          Name                #PaymSched
          Table               #PaymSched
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PaymSched
            RelatedField        #Name
            SourceEDT           #PaymSchedId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PaymTerm_ClearingPeriod
        PROPERTIES
          Name                #PaymTerm_ClearingPeriod
          Table               #PaymTerm
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PaymTerm_ClearingPeriod
          Role                #CustTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ClearingPeriod
            RelatedField        #PaymTermId
            SourceEDT           #CustClearingPeriod
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PaymTerm_PaymTermId
        PROPERTIES
          Name                #PaymTerm_PaymTermId
          Table               #PaymTerm
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PaymTerm_PaymTermId
          Role                #CustTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PaymTermId
            RelatedField        #PaymTermId
            SourceEDT           #CustPaymTermId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PBACustGroup
        PROPERTIES
          Name                #PBACustGroup
          Table               #PBACustGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #PBACustGroupId
            RelatedField        #PBACustGroupId
            SourceEDT           #PBACustGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PdsCustRebateGroup
        PROPERTIES
          Name                #PdsCustRebateGroup
          Table               #PdsCustRebateGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PdsCustRebateGroupId
            RelatedField        #PdsCustRebateGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PdsRebateProgramTMATable
        PROPERTIES
          Name                #PdsRebateProgramTMATable
          Table               #PdsRebateProgramTMATable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PdsRebateTMAGroup
            RelatedField        #PdsRebateProgramTMAGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PlTaxDueTable
        PROPERTIES
          Name                #PlTaxDueTable
          Table               #PlTaxDueTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PlTaxDueTable
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TaxPeriodPaymentCode_PL
            RelatedField        #TaxPeriodPaymentCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PriceDiscGroup_EndDisc
        PROPERTIES
          Name                #PriceDiscGroup_EndDisc
          Table               #PriceDiscGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PriceDiscGroup_EndDisc
          Role                #CustTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #EndDisc
            RelatedField        #GroupId
            SourceEDT           #CustEndDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #3
            Table               #PriceDiscGroup
            RelatedField        #Type
            SourceEDT           #CustEndDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Module
            SourceEDT           #CustEndDiscCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PriceDiscGroup_LineDisc
        PROPERTIES
          Name                #PriceDiscGroup_LineDisc
          Table               #PriceDiscGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PriceDiscGroup_LineDisc
          Role                #CustTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #LineDisc
            RelatedField        #GroupId
            SourceEDT           #CustLineDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Type
            SourceEDT           #CustLineDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Module
            SourceEDT           #CustLineDiscCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PriceDiscGroup_MultiLineDisc
        PROPERTIES
          Name                #PriceDiscGroup_MultiLineDisc
          Table               #PriceDiscGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PriceDiscGroup_MultiLineDisc
          Role                #CustTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #MultiLineDisc
            RelatedField        #GroupId
            SourceEDT           #CustMultiLineDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #2
            Table               #PriceDiscGroup
            RelatedField        #Type
            SourceEDT           #CustMultiLineDiscCode
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Module
            SourceEDT           #CustMultiLineDiscCode
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #PriceDiscGroup_PriceGroup
        PROPERTIES
          Name                #PriceDiscGroup_PriceGroup
          Table               #PriceDiscGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          RelatedTableRole    #PriceDiscGroup_PriceGroup
          Role                #CustTable
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #PriceGroup
            RelatedField        #GroupId
            SourceEDT           #CustPriceGroup
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Table               #PriceDiscGroup
            RelatedField        #Type
            SourceEDT           #CustPriceGroup
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #PriceDiscGroup
            RelatedField        #Module
            SourceEDT           #CustPriceGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SalesPool
        PROPERTIES
          Name                #SalesPool
          Table               #SalesPool
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesPoolId
            RelatedField        #SalesPoolId
            SourceEDT           #CustSalesPoolId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #ShipCarrierTable
        PROPERTIES
          Name                #ShipCarrierTable
          Table               #ShipCarrierTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #ShipCarrierId
            RelatedField        #CarrierId
            SourceEDT           #ShipCarrierId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #smmBusRelChainGroup
        PROPERTIES
          Name                #smmBusRelChainGroup
          Table               #smmBusRelChainGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #CompanyChainId
            RelatedField        #ChainId
            SourceEDT           #smmChainId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #smmBusRelSalesDistrictGroup
        PROPERTIES
          Name                #smmBusRelSalesDistrictGroup
          Table               #smmBusRelSalesDistrictGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesDistrictId
            RelatedField        #SalesDistrictId
            SourceEDT           #smmSalesDistrictId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #smmBusRelSegmentGroup
        PROPERTIES
          Name                #smmBusRelSegmentGroup
          Table               #smmBusRelSegmentGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SegmentId
            RelatedField        #SegmentId
            SourceEDT           #smmSegmentId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #smmBusRelSubSegmentGroup
        PROPERTIES
          Name                #smmBusRelSubSegmentGroup
          Table               #smmBusRelSubSegmentGroup
          EntityRelationshipRole  #@SYS124723
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #smmBusRelSubSegmentGroup
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SegmentId
            RelatedField        #SegmentId
          ENDPROPERTIES
          
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SubsegmentId
            RelatedField        #SubsegmentId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #SuppItemGroup
        PROPERTIES
          Name                #SuppItemGroup
          Table               #SuppItemGroup
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #SuppItemGroupId
            RelatedField        #GroupId
            SourceEDT           #CustSuppItemGroupId
          ENDPROPERTIES
          
          REFERENCETYPE EXTERNFIXED
          PROPERTIES
            Value               #1
            Table               #SuppItemGroup
            RelatedField        #Module
            SourceEDT           #CustSuppItemGroupId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxGroupHeading
        PROPERTIES
          Name                #TaxGroupHeading
          Table               #TaxGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TaxGroup
            RelatedField        #TaxGroup
            SourceEDT           #TaxGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxGSTReliefGroupHeading_MY
        PROPERTIES
          Name                #TaxGSTReliefGroupHeading_MY
          Table               #TaxGSTReliefGroupHeading_MY
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TaxGSTReliefGroupHeading_MY
            RelatedField        #RecId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #TaxWithholdGroupHeading
        PROPERTIES
          Name                #TaxWithholdGroupHeading
          Table               #TaxWithholdGroupHeading
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #TaxWithholdGroup_TH
            RelatedField        #TaxWithholdGroup
            SourceEDT           #TaxWithholdGroup
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #VatNum
        PROPERTIES
          Name                #VatNum
          Table               #TaxVATNumTable
          EntityRelationshipRole  #@SYS125042
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          RelatedTableRole    #VatNum
          Role                #CustTable
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #VATNum
            RelatedField        #VATNum
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #VendTable
        PROPERTIES
          Name                #VendTable
          Table               #VendTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #VendAccount
            RelatedField        #AccountNum
            SourceEDT           #VendAccount
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #WHSInventStatus
        PROPERTIES
          Name                #WHSInventStatus
          Table               #WHSInventStatus
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE NORMAL
          PROPERTIES
            Field               #DefaultInventStatusId
            RelatedField        #InventStatusId
            SourceEDT           #WHSDefaultStatusId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
      REFERENCE #WorkCalendarTable
        PROPERTIES
          Name                #WorkCalendarTable
          Table               #WorkCalendarTable
          RelatedTableCardinality   #ZeroOne
          Cardinality         #ZeroMore
          RelationshipType    #Association
          UseDefaultRoleNames #Yes
          EDTRelation         #Yes
        ENDPROPERTIES
        
        FIELDREFERENCES
          REFERENCETYPE PKFK
          PROPERTIES
            Field               #SalesCalendarId
            RelatedField        #CalendarId
            SourceEDT           #SalesCalendarId
          ENDPROPERTIES
          
        ENDFIELDREFERENCES
      ENDREFERENCE
    ENDREFERENCES
    
    DELETEACTIONS
      #RetailCustAffiliation(CustTable)
      PROPERTIES
        Table               #RetailCustAffiliation
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #CustDirectDebitMandate(CustTable)
      PROPERTIES
        Table               #CustDirectDebitMandate
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #TMSShipmentConstraint(CustTable)
      PROPERTIES
        Table               #TMSShipmentConstraint
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #TMSChargeOverride(CustTable)
      PROPERTIES
        Table               #TMSChargeOverride
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #TMSDiscountTable(CustTable)
      PROPERTIES
        Table               #TMSDiscountTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #TMSAccessorialAssignment(CustTable)
      PROPERTIES
        Table               #TMSAccessorialAssignment
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRCustTable(CustTable)
      PROPERTIES
        Table               #MCRCustTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRCustTableIndex(CustTable)
      PROPERTIES
        Table               #MCRCustTableIndex
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #TAMTradePromotion(CustTable)
      PROPERTIES
        Table               #TAMTradePromotion
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #TAMPromotionItem(CustTable)
      PROPERTIES
        Table               #TAMPromotionItem
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #TAMPromotionFund(CustTable)
      PROPERTIES
        Table               #TAMPromotionFund
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #TAMPromotionCust(MCRPromotionCust)
      PROPERTIES
        Table               #TAMPromotionCust
        DeleteAction        #Restricted
        Relation            #MCRPromotionCust
      ENDPROPERTIES
      
      #TAMPromotionCust(CustAccount)
      PROPERTIES
        Table               #TAMPromotionCust
        DeleteAction        #Restricted
        Relation            #CustAccount
      ENDPROPERTIES
      
      #TAMMerchEventPricing(CustTable)
      PROPERTIES
        Table               #TAMMerchEventPricing
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #TAMMerchandisingEvent(CustTable)
      PROPERTIES
        Table               #TAMMerchandisingEvent
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #TAMFundCustCategory(CustTable)
      PROPERTIES
        Table               #TAMFundCustCategory
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #TAMFundCust(CustTable)
      PROPERTIES
        Table               #TAMFundCust
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #TAMCustAssignmentsFlat(CustTable)
      PROPERTIES
        Table               #TAMCustAssignmentsFlat
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRSalesStatsCustTable(CustTable)
      PROPERTIES
        Table               #MCRSalesStatsCustTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRSalesStatsCustItem(CustTable)
      PROPERTIES
        Table               #MCRSalesStatsCustItem
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRRFMHistory(CustTable)
      PROPERTIES
        Table               #MCRRFMHistory
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRPriceDiscGroupCustomer(CustAccount)
      PROPERTIES
        Table               #MCRPriceDiscGroupCustomer
        DeleteAction        #Restricted
        Relation            #CustAccount
      ENDPROPERTIES
      
      #MCRNCOAFileTable(CustTable)
      PROPERTIES
        Table               #MCRNCOAFileTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRMessageAssociation(CustTable)
      PROPERTIES
        Table               #MCRMessageAssociation
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRInstallmentPayment(CustTable)
      PROPERTIES
        Table               #MCRInstallmentPayment
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRHistSalesTable(CustTable)
      PROPERTIES
        Table               #MCRHistSalesTable
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRHistSalesLine(CustTableShipTo)
      PROPERTIES
        Table               #MCRHistSalesLine
        DeleteAction        #Restricted
        Relation            #CustTableShipTo
      ENDPROPERTIES
      
      #MCRHistSalesLine(CustTable)
      PROPERTIES
        Table               #MCRHistSalesLine
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #TAMDeduction(CustTable)
      PROPERTIES
        Table               #TAMDeduction
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRCustRFMScore(CustTable)
      PROPERTIES
        Table               #MCRCustRFMScore
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRCustMergeTable(ValidAccount)
      PROPERTIES
        Table               #MCRCustMergeTable
        DeleteAction        #Cascade
        Relation            #ValidAccount
      ENDPROPERTIES
      
      #MCRCustMergeTable(DuplicateAccount)
      PROPERTIES
        Table               #MCRCustMergeTable
        DeleteAction        #Cascade
        Relation            #DuplicateAccount
      ENDPROPERTIES
      
      #MCRCustCreditTable(CustTable)
      PROPERTIES
        Table               #MCRCustCreditTable
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRCustCategory(CustTable)
      PROPERTIES
        Table               #MCRCustCategory
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRCouponSalesTable(CustTable)
      PROPERTIES
        Table               #MCRCouponSalesTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRContinuityPayment(CustTable)
      PROPERTIES
        Table               #MCRContinuityPayment
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRContinuityCustHeader(CustTable)
      PROPERTIES
        Table               #MCRContinuityCustHeader
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRCatalogRequest(CustTable)
      PROPERTIES
        Table               #MCRCatalogRequest
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #CustTable(CustTable_jsMergedRoot)
      PROPERTIES
        Table               #CustTable
        DeleteAction        #Cascade
        Relation            #CustTable_jsMergedRoot
      ENDPROPERTIES
      
      #CustTable(CustTable_jsMergedParent)
      PROPERTIES
        Table               #CustTable
        DeleteAction        #Cascade
        Relation            #CustTable_jsMergedParent
      ENDPROPERTIES
      
      #PlInventPackageReturn
      PROPERTIES
        Table               #PlInventPackageReturn
        DeleteAction        #Restricted
      ENDPROPERTIES
      
      #RetailCustTable
      PROPERTIES
        Table               #RetailCustTable
        DeleteAction        #Cascade
      ENDPROPERTIES
      
      #TaxInformationCustTable_IN(CustTable)
      PROPERTIES
        Table               #TaxInformationCustTable_IN
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #SalesAgreementHeader(CustTable)
      PROPERTIES
        Table               #SalesAgreementHeader
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #CreditCardCust(CustTable)
      PROPERTIES
        Table               #CreditCardCust
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #PlInventPackageReturn(CustTable)
      PROPERTIES
        Table               #PlInventPackageReturn
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #RetailCustTable(CustTable)
      PROPERTIES
        Table               #RetailCustTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #PdsBatchAttribByItemCustomer(CustTable)
      PROPERTIES
        Table               #PdsBatchAttribByItemCustomer
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #WHSCustTable(CustTable)
      PROPERTIES
        Table               #WHSCustTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #WHSFilterTable(CustTable)
      PROPERTIES
        Table               #WHSFilterTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #BusinessStatisticsData(CustTable)
      PROPERTIES
        Table               #BusinessStatisticsData
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #CommissionCalc(CustTable)
      PROPERTIES
        Table               #CommissionCalc
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #CustBankAccount(CustTable)
      PROPERTIES
        Table               #CustBankAccount
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #CustDefaultLocation(CustTable)
      PROPERTIES
        Table               #CustDefaultLocation
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #CustInvoiceTable(CustTable)
      PROPERTIES
        Table               #CustInvoiceTable
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #CustLedgerAccounts(CustTable)
      PROPERTIES
        Table               #CustLedgerAccounts
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #CustTrans(CustTable)
      PROPERTIES
        Table               #CustTrans
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #CustVendExternalItem(CustTable)
      PROPERTIES
        Table               #CustVendExternalItem
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #DocuRef(CustTable)
      PROPERTIES
        Table               #DocuRef
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #ECPParameters(CustTable)
      PROPERTIES
        Table               #ECPParameters
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #ExtCodeValueTable(CustTable)
      PROPERTIES
        Table               #ExtCodeValueTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #ForecastSales(CustTable)
      PROPERTIES
        Table               #ForecastSales
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #InventTestAssociationTable(CustTable)
      PROPERTIES
        Table               #InventTestAssociationTable
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #MarkupAutoTable(CustTable)
      PROPERTIES
        Table               #MarkupAutoTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #PriceDiscAdmTrans(CustTable)
      PROPERTIES
        Table               #PriceDiscAdmTrans
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #PriceDiscTable(CustTable)
      PROPERTIES
        Table               #PriceDiscTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #PrintMgmtDocInstance(CustTable)
      PROPERTIES
        Table               #PrintMgmtDocInstance
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #ProjInvoiceTable(CustTable)
      PROPERTIES
        Table               #ProjInvoiceTable
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #ProjTable(CustTable)
      PROPERTIES
        Table               #ProjTable
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #SalesBasket(CustTable)
      PROPERTIES
        Table               #SalesBasket
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #SalesJournalAutoSummary(CustTable)
      PROPERTIES
        Table               #SalesJournalAutoSummary
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #SalesQuotationTable(CustTable)
      PROPERTIES
        Table               #SalesQuotationTable
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #SalesTable(CustTable)
      PROPERTIES
        Table               #SalesTable
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #smmResponsibilitiesEmplTable(CustTable)
      PROPERTIES
        Table               #smmResponsibilitiesEmplTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #SuppItemTable(CustTable)
      PROPERTIES
        Table               #SuppItemTable
        DeleteAction        #Cascade
        Relation            #CustTable
      ENDPROPERTIES
      
      #WMSBillOfLading(CustTable)
      PROPERTIES
        Table               #WMSBillOfLading
        DeleteAction        #Restricted
        Relation            #CustTable
      ENDPROPERTIES
      
      #MCRTargetList
      PROPERTIES
        Table               #MCRTargetList
        DeleteAction        #Restricted
      ENDPROPERTIES
      
    ENDDELETEACTIONS
    
    METHODS
      SOURCE #address
        #//BP deviation documented
        #display LogisticsAddressing address()
        #{
        #    return this.postalAddress().Address;
        #}
      ENDSOURCE
      SOURCE #addressComplement_BR
        #/// <summary>
        #///    Gets the building name of the customer.
        #/// </summary>
        #/// <returns>
        #///    Customer BuildingCompliment.
        #/// </returns>
        #// <GBR>
        #display LogisticsAddressBuildingCompliment addressComplement_BR()
        #{
        #    return this.postalAddress().BuildingCompliment;
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #amountChargedNotPosted
        #/// <summary>
        #/// Gets the sum of the <c>amountToAccount</c> field for the current customer account.
        #/// </summary>
        #/// <returns>
        #/// The total sum of the customer account.
        #/// </returns>
        #//BP deviation documented
        #display AmountMST amountChargedNotPosted()
        #{
        #    RetailTransactionTable transactionTable;
        #
        #    select sum(AmountToAccount) from transactionTable
        #        where transactionTable.EntryStatus == RetailEntryStatus::None
        #           && transactionTable.CustAccount == this.AccountNum;
        #
        #    return transactionTable.AmountToAccount;
        #}
      ENDSOURCE
      SOURCE #axCustTable
        #[SysObsoleteAttribute("@SYS4110071", false)]
        #public AxCustTable axCustTable()
        #{
        #    return AxCustTable::newCustTable(this);
        #}
        #
      ENDSOURCE
      SOURCE #balanceAllCurrency
        #//BP Deviation Documented
        #display AmountCur balanceAllCurrency(CustCurrencyCode _currencyCode = this.Currency)
        #{
        #    return this.CustVendTable::balanceAllCurrency(_currencyCode);
        #}
      ENDSOURCE
      SOURCE #balanceCurPerDate
        #server AmountCur balanceCurPerDate(TransDate    _transactionDate    = systemDateGet(),
        #                                   CurrencyCode _currencyCode       = CompanyInfo::standardCurrency())
        #{
        #    return this.CustVendTable::balanceCurPerDate(_transactionDate, _currencyCode);
        #}
      ENDSOURCE
      SOURCE #balanceCurrency
        #AmountCur balanceCurrency(TransDate     _fromDate       = dateNull(),
        #                          TransDate     _toDate         = dateMax(),
        #                          CurrencyCode  _fromCurrency   = '',
        #                          CurrencyCode  _toCurrency     = '')
        #{
        #    return this.CustVendTable::balanceCurrency(_fromDate,
        #                                               _toDate,
        #                                               _fromCurrency,
        #                                               _toCurrency);
        #}
      ENDSOURCE
      SOURCE #balanceMST
        #//BP Deviation Documented
        #display AmountMST balanceMST(FromDate   _fromDate   = dateNull(),
        #                             ToDate     _toDate     = dateMax())
        #{
        #    return this.CustVendTable::balanceMST(_fromDate, _toDate);
        #}
      ENDSOURCE
      SOURCE #balancePerDate
        #server AmountMST balancePerDate(TransDate _transactionDate = systemDateGet())
        #{
        #    return this.CustVendTable::balancePerDate(_transactionDate);
        #}
      ENDSOURCE
      SOURCE #bankAccountNum
        #//BP Deviation documented
        #server display CustomerBankAccount bankAccountNum()
        #{
        #    CustomerBankAccount bankAccount;
        #    SecurityRights  sr;
        #    SecurityTableRights stRights;
        #    AccessRight ar;
        #
        #    sr = SecurityRights::construct();
        #    stRights = sr.tableFieldAccessRights('CustBankAccount');
        #    ar = stRights.fieldAccessRight('AccountNum');
        #
        #    unchecked(Uncheck::TableSecurityPermission)
        #    {
        #        // Only make database call when the AccountNum and bankAccount is not empty.
        #        if (ar != AccessRight::NoAccess && this.AccountNum != '' && this.BankAccount != '')
        #        {
        #            bankAccount = CustBankAccount::find(this.AccountNum, this.BankAccount).AccountNum;
        #        }
        #    }
        #
        #    return bankAccount;
        #}
      ENDSOURCE
      SOURCE #canDisplayCreditLimit
        #/// <summary>
        #///    Determines whether the credit limit can be displayed.
        #/// </summary>
        #/// <returns>
        #///    true if the credit limit can be displayed; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #///    The determination is based on whether a meaningful value has been entered.
        #/// </remarks>
        #public boolean canDisplayCreditLimit()
        #{
        #    boolean canDisplay;
        #
        #    canDisplay =
        #        (this.CreditMax != 0) &&
        #        (this.Currency != '') &&
        #        (this.Currency == CompanyInfo::standardCurrency());
        #
        #    return canDisplay;
        #}
        #
      ENDSOURCE
      SOURCE #cashDiscName
        #//BP Deviation Documented
        #display CustCashDiscName cashDiscName()
        #{
        #    return CashDisc::find(this.CashDisc).Description;
        #}
      ENDSOURCE
      SOURCE #checkAccountBlocked
        #boolean checkAccountBlocked(AmountCur _amountCur)
        #{
        #    boolean ret = true;
        #
        #    if (this.Blocked    == CustVendorBlocked::All ||
        #       (this.Blocked    == CustVendorBlocked::Invoice && _amountCur > 0))
        #    {
        #        ret = checkFailed(strFmt("@SYS7987", this.AccountNum));
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkBlockedAll
        #boolean checkBlockedAll()
        #{
        #    boolean ret = true;
        #
        #    if (this.Blocked == CustVendorBlocked::All)
        #    {
        #        ret = checkFailed(strFmt("@SYS18389", this.AccountNum, CustVendorBlocked::All));
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkRelatedAgreement_RU
        #/// <summary>
        #/// Validates if intercompany agreement exists.
        #/// </summary>
        #/// <returns>
        #/// false if related agreement exists.
        #/// </returns>
        #// <GEERU>
        #public boolean checkRelatedAgreement_RU()
        #{
        #    SalesAgreementHeader salesAgreementHeader;
        #    PurchAgreementHeader purchAgreementHeader;
        #    boolean              checkOk = true;
        #
        #    setPrefix("@GLS115652");
        #
        #    while select salesAgreementHeader
        #        where salesAgreementHeader.CustAccount        == this.AccountNum
        #           && salesAgreementHeader.SellingLegalEntity == CompanyInfo::find().RecId
        #    {
        #        purchAgreementHeader = salesAgreementHeader.purchAgreementHeader_RU();
        #
        #        checkOk = checkFailed(strFmt("@GLS115653",
        #                                     salesAgreementHeader.SalesNumberSequence,
        #                                     salesAgreementHeader.CustAccount,
        #                                     purchAgreementHeader.PurchNumberSequence,
        #                                     purchAgreementHeader.VendAccount));
        #    }
        #
        #    return checkOk;
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #checkVATNumUsed
        #boolean checkVATNumUsed()
        #{
        #    boolean    ret = true;
        #    CustTable  tmpCustTable;
        #
        #    #ISOCountryRegionCodes
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIT]) && this.vatNum)
        #    {
        #        select firstonly RecId from tmpCustTable
        #            where tmpCustTable.RecId  != this.RecId  &&
        #                  tmpCustTable.vatNum == this.vatNum;
        #        if (tmpCustTable.RecId)
        #        {
        #            ret = checkFailed(strFmt("@SYS79490",fieldPName(CustTable, vatNum)));
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #cityName_BR
        #/// <summary>
        #///     Gets the city name based on the customer primary postal address
        #/// </summary>
        #/// <returns>
        #///     The city name
        #/// </returns>
        #// <GBR>
        #display LogisticsAddressCity cityName_BR()
        #{
        #    return this.postalAddress().City;
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #clearingLedgerDimension
        #public LedgerDimensionDefaultAccount clearingLedgerDimension(CustPostingProfile postingProfile = CustParameters::find().PostingProfile)
        #{
        #    return this.CustVendTable::clearingLedgerDimension(postingProfile, this.AccountNum);
        #}
      ENDSOURCE
      SOURCE #clearingLedgerDimensionGroup
        #public LedgerDimensionDefaultAccount clearingLedgerDimensionGroup(
        #    CustAccount         _custAccount,
        #    CustPostingProfile  _custPostingProfile = CustParameters::find().PostingProfile)
        #{
        #    CustLedgerAccounts  custLedgerAccounts;
        #
        #    return CustVendLedgerDimensions::clearingLedgerDimension(_custAccount,
        #                                                   _custPostingProfile,
        #                                                   custLedgerAccounts,
        #                                                   TableGroupAll::GroupId);
        #}
      ENDSOURCE
      SOURCE #clearingPeriod
        #ClearingPeriod clearingPeriod()
        #{
        #    return (this.ClearingPeriod ? this.ClearingPeriod : CustGroup::find(this.CustGroup).clearingPeriod());
        #}
      ENDSOURCE
      SOURCE #companyCountryRegionISOCode
        #/// <summary>
        #/// Retrieves the <c>LogisticsAddressCountryRegionISOCode</c> code associated with the current record.
        #/// </summary>
        #/// <returns>
        #/// The <c>LogisticsAddressCountryRegionISOCode</c> code.
        #/// </returns>
        #//BP Deviation Documented
        #display LogisticsAddressCountryRegionISOCode companyCountryRegionISOCode()
        #{
        #    return SysCountryRegionCode::countryInfo(this.DataAreaId);
        #}
      ENDSOURCE
      SOURCE #companyInfo
        #/// <summary>
        #/// Retrieves the <c>CompanyInfo</c> record associated with the current record.
        #/// </summary>
        #/// <returns>
        #/// The <c>CompanyInfo</c> record.
        #/// </returns>
        #public CompanyInfo companyInfo()
        #{
        #    return CompanyInfo::findDataArea(this.company());
        #}
      ENDSOURCE
      SOURCE #convertCurrencyCode
        #server void convertCurrencyCode()
        #{
        #    CurrencyCode        origCurrencyCode;
        #    SalesTable          salesTable;
        #    CustInvoiceTable    custInvoiceTable;
        #
        #    origCurrencyCode = this.orig().Currency;
        #
        #    ttsbegin;
        #
        #    salesTable  = SalesTable::custOpenOrders(this.AccountNum,true);
        #
        #    while (salesTable)
        #    {
        #        if (salesTable.CurrencyCode == origCurrencyCode)
        #        {
        #            salesTable.convertCurrencyCode(this.Currency);
        #            salesTable.update();
        #        }
        #        next salesTable;
        #    }
        #
        #    custInvoiceTable = CustInvoiceTable::custOpenInvoices(this.AccountNum,true);
        #
        #    while (custInvoiceTable)
        #    {
        #        if (custInvoiceTable.CurrencyCode == origCurrencyCode)
        #        {
        #            custInvoiceTable.convertCurrencyCode(this.Currency);
        #            custInvoiceTable.update();
        #        }
        #        next custInvoiceTable;
        #    }
        #
        #    ttscommit;
        #}
        #
      ENDSOURCE
      SOURCE #copyDimension
        #/// <summary>
        #/// Retrieves a dimension set that can be applied to the <c>defaultDimension</c> field on this table.
        #/// </summary>
        #/// <param name="_defaultDimension">
        #/// A dimension set to apply to the <c>defaultDimension</c> field on this table.
        #/// </param>
        #/// <param name="_dimensionCopy">
        #/// A <c>dimensionCopy</c> object that was previously initialized by using the current buffer; optional.
        #/// </param>
        #/// <returns>
        #/// A dimension set that can be applied to the <c>defaultDimension</c> field on this table.
        #/// </returns>
        #/// <remarks>
        #/// This method makes sure that potential linked dimensions are not overwritten.
        #/// </remarks>
        #
        #public DimensionDefault copyDimension(
        #    DimensionDefault _defaultDimension,
        #    DimensionCopy    _dimensionCopy = DimensionCopy::newFromTable(this,
        #                                                                  this.companyInfo().RecId
        #                                                                  )
        #    )
        #{
        #    return _dimensionCopy.copy(_defaultDimension);
        #}
      ENDSOURCE
      SOURCE #countryName
        #//BP Deviation Documented
        #display LogisticsAddressCountryRegionShortName countryName()
        #{
        #    LogisticsPostalAddress postalAddress = this.postalAddress();
        #
        #    return LogisticsAddressCountryRegionTranslation::find(postalAddress.CountryRegionId).ShortName;
        #}
      ENDSOURCE
      SOURCE #countryRegionId
        #/// <summary>
        #/// Retrieves the <c>LogisticsAddressCountryRegionId</c> code associated with the current record.
        #/// </summary>
        #/// <returns>
        #/// The <c>LogisticsAddressCountryRegionId</c> code.
        #/// </returns>
        #LogisticsAddressCountryRegionId countryRegionId()
        #{
        #    return this.postalAddress().CountryRegionId;
        #}
        #
      ENDSOURCE
      SOURCE #countyName
        #//BP Deviation Documented
        #display LogisticsAddressCountyName countyName()
        #{
        #    LogisticsPostalAddress postalAddress = this.postalAddress();
        #
        #    return LogisticsAddressCounty::find(postalAddress.CountryRegionId, postalAddress.State, postalAddress.County).Name;
        #}
      ENDSOURCE
      SOURCE #creditMaxCur
        #//BP Deviation Documented
        #display CustCreditMaxCur creditMaxCur()
        #{
        #    return Currency::curAmount(this.CreditMax, this.Currency);
        #}
      ENDSOURCE
      SOURCE #currencyName
        #//BP Deviation Documented
        #display CurrencyName currencyName()
        #{
        #    return Currency::find(this.Currency).Txt;
        #}
      ENDSOURCE
      SOURCE #custCNPJ_BR
        #// <GBR>
        #//BP deviation documented
        #display CNPJCPFNum_BR custCNPJ_BR()
        #{
        #    if (!hasFieldAccess(tableNum(CustTable), fieldNum(CustTable, cnpjcpfNum_BR ), AccessType::View))
        #    {
        #        throw error("@SYS57330"); // Insufficient rights
        #    }
        #
        #    return strAlpha(CustTable::findRecId(this.RecId).cnpjcpfNum_BR);
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #customerGroup
        #//BP Deviation documented
        #display smmCustomerGroup customerGroup()
        #{
        #    return  CustGroup::find(this.CustGroup).Name;
        #}
        #
      ENDSOURCE
      SOURCE #delete
        #void delete()
        #{
        #    SyncAppCompany              syncAppCompany;
        #    PdsBatchAttribByItemCustomer    pdsBatchAttribByItemCustomer;
        #
        #    // Check to see if the associated dimension attribute value has been used
        #    // in a way that would prevent deletion.
        #    if (!DimensionValidation::canDeleteEntityValue(this))
        #    {
        #        throw error(strFmt("@SYS134392", this.AccountNum));
        #    }
        #
        #    ttsbegin;
        #
        #    // Update the associated dimension attribute value.
        #    DimensionAttributeValue::updateForEntityValueDelete(this);
        #
        #    // Delete the business relation
        #    smmBusRelTable::deleteFromCustVend(this.TableId,this.Party);
        #
        #    // Remove links to contact person
        #    ContactPerson::removeCustVendLink(this.TableId, this.AccountNum);
        #
        #    InventPosting::deleteFromCust(this.AccountNum);
        #    if (CustParameters::find().SalesCycle)
        #    {
        #        SalesPurchCycle::deleteFromCust(this.AccountNum);
        #    }
        #
        #    // For the Customer lookup,
        #    // Set the delete flag for this Customer integrated the Project Server application associated with current company
        #    syncAppCompany = SyncAppCompany::find(curext(), SyncAppType::ProjectServer);
        #    if (syncAppCompany)
        #    {
        #        SyncCustTableLookup::deleteLookupNodes(syncAppCompany.AppId, curext(), this.AccountNum);
        #    }
        #
        #    super();
        #
        #    delete_from pdsBatchAttribByItemCustomer
        #        where   pdsBatchAttribByItemCustomer.PdsBatchAttribAccountCode      == TableGroupAll::Table
        #        &&      pdsBatchAttribByItemCustomer.PdsBatchAttribAccountRelation  == this.AccountNum;
        #    DirPartyRelationship::removeLegalEntityRelationship(this.Party, DirSystemRelationshipType::Customer);
        #
        #    // Auto delete party at backend
        #    DirParty::autoDeleteParty(this.Party);
        #
        #    smmTransLog::initTrans(this, smmLogAction::delete);
        #
        #    ttscommit;
        #}
        #
      ENDSOURCE
      SOURCE #diffCurrencyCodes
        #container diffCurrencyCodes()
        #{
        #    CustTrans   custTranslocal;
        #    container   currencyCodes;
        #
        #    while select CurrencyCode from custTranslocal
        #        group by CurrencyCode
        #        where custTranslocal.AccountNum == this.AccountNum
        #    {
        #        currencyCodes += custTranslocal.CurrencyCode;
        #    }
        #
        #    return currencyCodes;
        #}
      ENDSOURCE
      SOURCE #diffCurrencyCodesOnOpen
        #container diffCurrencyCodesOnOpen(TransDate _transactionDate = systemDateGet())
        #{
        #    CustTrans   custTranslocal;
        #    container   currencyCodes;
        #
        #    while select CurrencyCode from custTranslocal
        #        group by CurrencyCode
        #        where custTranslocal.AccountNum == this.AccountNum
        #    {
        #        if (this.balanceCurPerDate(_transactionDate, custTranslocal.CurrencyCode))
        #        {
        #            currencyCodes += custTranslocal.CurrencyCode;
        #        }
        #    }
        #
        #    return currencyCodes;
        #}
      ENDSOURCE
      SOURCE #districtName_BR
        #/// <summary>
        #///     Gets the district name based on the customer primary postal address
        #/// </summary>
        #/// <returns>
        #///     The district name
        #/// </returns>
        #// <GBR>
        #display LogisticsAddressDistrictName districtName_BR()
        #{
        #    return this.postalAddress().DistrictName;
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #dspVendorName
        #//todo_comment
        #display Name dspVendorName()
        #{
        #    DirPartyTable   dirPArtyTable;
        #    VendTable       VendTable;
        #
        #    select Name from dirPartyTable
        #        join VendTable
        #            where VendTable.Party == dirPArtyTable.RecId
        #                &&  vendTable.AccountNum == this.VendAccount;
        #
        #    return dirPArtyTable.name;
        #}
      ENDSOURCE
      SOURCE #editContactPersonName
        #//AOSRunMode::Called
        #//BP Deviation Documented
        #edit CustContactPersonName editContactPersonName(boolean _set, ContactPersonName _name)
        #{
        #    return this.CustVendTable::editContactPersonName(_set, _name);
        #}
      ENDSOURCE
      SOURCE #editInvReportFormat
        #/// <summary>
        #/// Sets the report format in print setting of the Customer
        #/// </summary>
        #/// <param name="_set">
        #/// boolean value true/ false if format changed
        #/// </param>
        #/// <param name="_newReportFormat">
        #/// new report format selected
        #/// </param>
        #/// <returns>
        #/// returns report format
        #/// </returns>
        #public server edit ProjInvReportFmtDesc editInvReportFormat(boolean _set, PrintMgmtReportFormatDescription  _newReportFormat)
        #{
        #    PrintMgmtReportFormatDescription    newReportFormat = _newReportFormat;
        #    PrintMgmtReportFormatDescription    reportFormat;
        #
        #    reportFormat = ProjInvoicePrintMgmt::getReportFormat(this);
        #    if(_set)
        #    {
        #        if(this.RecId && newReportFormat && newReportFormat != reportFormat)
        #        {
        #            ProjInvoicePrintMgmt::createOrUpdateInvoicePrintSettings(this,PrintMgmtNodeType::CustTable,newReportFormat);
        #            reportFormat = newReportFormat;
        #        }
        #    }
        #    return reportFormat;
        #}
      ENDSOURCE
      SOURCE #email
        #//BP Deviation Documented
        #display Email email()
        #{
        #    LogisticsElectronicAddress electronicAddress;
        #
        #    electronicAddress = DirParty::primaryElectronicAddress(this.Party, LogisticsElectronicAddressMethodType::Email);
        #
        #    return electronicAddress ? electronicAddress.Locator : '';
        #}
      ENDSOURCE
      SOURCE #endDiscName
        #//BP Deviation Documented
        #display EndDiscName endDiscName()
        #{
        #    return PriceDiscGroup::find(ModuleInventCustVend::Cust,
        #                                PriceGroupType::EndDiscGroup,
        #                                this.EndDisc).Name;
        #}
        #
      ENDSOURCE
      SOURCE #exceedMax
        #AmountMST exceedMax(Amount _nowBalance)
        #{
        #    if (this.CreditMax)
        #    {
        #        return max(0, _nowBalance - this.CreditMax);
        #    }
        #    else
        #    {
        #        return 0;
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #existOpenOrders
        #boolean existOpenOrders()
        #{
        #    return (SalesTable::existCustOpenOrder(this.AccountNum) || CustInvoiceTable::existCustOpenInvoice(this.AccountNum));
        #}
        #
      ENDSOURCE
      SOURCE #firstOpenPayment
        #CustTransOpen firstOpenPayment()
        #{
        #    CustTransOpen   custTransOpen;
        #
        #    custTransOpen = this.CustVendTable::firstOpenPayment();
        #
        #    return custTransOpen;
        #}
      ENDSOURCE
      SOURCE #firstSettledPayment
        #CustSettlement firstSettledPayment()
        #{
        #    CustSettlement  custSettlement;
        #
        #    custSettlement = this.CustVendTable::firstSettledPayment();
        #
        #    return custSettlement;
        #}
      ENDSOURCE
      SOURCE #freeValueCur
        #//BP Deviation Documented
        #display CustCreditFreeValueCur freeValueCur(AmountMST _adjustment = 0)
        #{
        #    return this.CustVendTable::freeValueCur(_adjustment);
        #}
      ENDSOURCE
      SOURCE #freeValueMST
        #//BP Deviation Documented
        #display CustCreditFreeValueMST freeValueMST(AmountMST _adjustment = 0)
        #{
        #    return this.CustVendTable::freeValueMST(_adjustment);
        #}
      ENDSOURCE
      SOURCE #getCurrenciesForAllTrans
        #/// <summary>
        #/// Gets the list of currencies for the transactions in the specified date range.
        #/// </summary>
        #/// <param name="_startDate">
        #/// The date of the first transactions to be included.
        #/// </param>
        #/// <param name="_endDate">
        #/// The date of the last transactions to be included.
        #/// </param>
        #/// <param name="_includeReversedTrans">
        #/// A Boolean value that indicates whether to include reversed transactions.
        #/// </param>
        #/// <returns>
        #/// A list of currencies.
        #/// </returns>
        #/// <remarks>
        #/// Exchange adjustment transactions are not included. A unique currency is
        #/// only included in the list once.
        #/// </remarks>
        #public container getCurrenciesForAllTrans(
        #    TransDate _startDate,
        #    TransDate _endDate,
        #    boolean _includeReversedTrans)
        #{
        #    return this.getCurrenciesForTrans(_startDate, _endDate, _includeReversedTrans, false);
        #}
        #
      ENDSOURCE
      SOURCE #getCurrenciesForOpenTrans
        #/// <summary>
        #/// Gets the list of currencies for the open transactions in the specified date range.
        #/// </summary>
        #/// <param name="_startDate">
        #/// The date of the first open transactions to be included.
        #/// </param>
        #/// <param name="_endDate">
        #/// The date of the last open transactions to be included.
        #/// </param>
        #/// <param name="_includeReversedTrans">
        #/// A Boolean value that indicates whether to include reversed transactions.
        #/// </param>
        #/// <returns>
        #/// A list of currencies.
        #/// </returns>
        #/// <remarks>
        #/// Exchange adjustment transactions are not included. A unique currency is
        #/// only included in the list once.
        #/// </remarks>
        #public container getCurrenciesForOpenTrans(
        #    TransDate _startDate,
        #    TransDate _endDate,
        #    boolean _includeReversedTrans)
        #{
        #    return this.getCurrenciesForTrans(_startDate, _endDate, _includeReversedTrans, true);
        #}
        #
      ENDSOURCE
      SOURCE #getCurrenciesForTrans
        #/// <summary>
        #/// Gets the list of currencies for the transactions in the specified date range.
        #/// </summary>
        #/// <param name="_startDate">
        #/// The date of the first transactions to be included.
        #/// </param>
        #/// <param name="_endDate">
        #/// The date of the last transactions to be included.
        #/// </param>
        #/// <param name="_includeReversedTrans">
        #/// A Boolean value that indicates whether to include reversed transactions.
        #/// </param>
        #/// <param name="_openOnly">
        #/// A Boolean value that indicates whether to only include open transactions.
        #/// </param>
        #/// <returns>
        #/// A list of currencies.
        #/// </returns>
        #/// <remarks>
        #/// Exchange adjustment transactions are not included. A unique currency is
        #/// only included in the list once.
        #/// </remarks>
        #private container getCurrenciesForTrans(
        #    TransDate _startDate,
        #    TransDate _endDate,
        #    boolean _includeReversedTrans,
        #    boolean _openOnly = false)
        #{
        #    CustTrans               trans;
        #    Query                   q = new Query();
        #    QueryRun                run;
        #    QueryBuildDataSource    transDataSource;
        #    QueryBuildDataSource    transOpenDataSource;
        #    QueryBuildDataSource    reversalDataSource;
        #    QueryBuildRange         range;
        #    container               currencyList;
        #
        #    Debug::assert(this.AccountNum != '');
        #    Debug::assert(_startDate <= _endDate);
        #
        #    transDataSource = q.addDataSource(tableNum(CustTrans));
        #    transDataSource.addGroupByField(fieldNum(CustTrans, CurrencyCode));
        #
        #    range = transDataSource.addRange(fieldNum(CustTrans, AccountNum));
        #    range.value(SysQuery::value(this.AccountNum));
        #
        #    range = transDataSource.addRange(fieldNum(CustTrans, TransDate));
        #    range.value(SysQuery::range(_startDate, _endDate));
        #
        #    range = transDataSource.addRange(fieldNum(CustTrans, TransType));
        #    range.value(SysQuery::valueNot(LedgerTransType::ExchAdjustment));
        #
        #    if (_openOnly)
        #    {
        #        transOpenDataSource = transDataSource.addDataSource(tableNum(CustTransOpen));
        #        transOpenDataSource.joinMode(JoinMode::ExistsJoin);
        #        transOpenDataSource.addLink(fieldNum(CustTrans, RecId), fieldNum(CustTransOpen, RefRecId));
        #        transOpenDataSource.addLink(fieldNum(CustTrans, AccountNum), fieldNum(CustTransOpen, AccountNum));
        #    }
        #
        #    if (!_includeReversedTrans)
        #    {
        #        reversalDataSource = transDataSource.addDataSource(tableNum(TransactionReversalTrans));
        #        reversalDataSource.joinMode(JoinMode::NoExistsJoin);
        #        reversalDataSource.addLink(fieldNum(CustTrans, TableId), fieldNum(TransactionReversalTrans, RefTableId));
        #        reversalDataSource.addLink(fieldNum(CustTrans, RecId), fieldNum(TransactionReversalTrans, RefRecId));
        #        reversalDataSource.addRange(fieldNum(TransactionReversalTrans, Reversed)).value(enum2str(NoYes::Yes));
        #    }
        #
        #    run = new QueryRun(q);
        #    while (run.next())
        #    {
        #        trans = run.get(tableNum(CustTrans)) as CustTrans;
        #
        #        currencyList += trans.CurrencyCode;
        #    }
        #
        #    return currencyList;
        #}
      ENDSOURCE
      SOURCE #getDefaultTaxInformation_TH
        #/// <summary>
        #///  Get default tax information of current customer's invoice address.
        #/// </summary>
        #/// <returns>
        #/// The tax information from customer's invoice address.
        #/// </returns>
        #/// <remarks>
        #/// If customer has no invoice address, the primary address will be returned.
        #/// </remarks>
        #// <GTH>
        #public TaxInformation_TH getDefaultTaxInformation_TH()
        #{
        #    TaxInformation_TH       taxInformation_TH;
        #    LogisticsPostalAddress  invoiceAddress;
        #
        #    invoiceAddress = this.invoiceAddress();
        #
        #    if (invoiceAddress)
        #    {
        #        select firstonly taxInformation_TH
        #            where taxInformation_TH.LogisticsLocation == invoiceAddress.Location;
        #    }
        #
        #    return taxInformation_TH;
        #}
        #// </GTH>
      ENDSOURCE
      SOURCE #getDefaultTaxRegistration_TH
        #/// <summary>
        #///  Get default tax registration of current customer's invoice address.
        #/// </summary>
        #/// <param name="_transDate">
        #/// The effective date of tax registration, default is today.
        #/// </param>
        #/// <returns>
        #/// The tax registration from customer's invoice address.
        #/// </returns>
        #/// <remarks>
        #/// If customer has no invoice address, the primary address will be returned.
        #/// </remarks>
        #// <GTH>
        #public TaxRegistration getDefaultTaxRegistration_TH(TransDate _transDate = systemDateGet())
        #{
        #    DirPartyLocation                        dirPartyLocation;
        #    TaxRegistration                         taxRegistration;
        #    TaxRegistrationTypeApplicabilityRule    taxRegistrationTypeApplicabilityRule;
        #
        #    if (_transDate)
        #    {
        #        dirPartyLocation = DirPartyLocation::findByPartyLocation(
        #            this.Party,
        #            this.invoiceAddress().Location);
        #
        #        if (dirPartyLocation)
        #        {
        #            select firstonly validTimeState(_transDate) taxRegistration
        #                where taxRegistration.DirPartyLocation == dirPartyLocation.RecId
        #                join RecId from taxRegistrationTypeApplicabilityRule
        #                    order by taxRegistrationTypeApplicabilityRule.IsPrimaryAddressRestricted desc
        #                    where taxRegistration.TaxRegistrationTypeApplicabilityRule == taxRegistrationTypeApplicabilityRule.RecId;
        #        }
        #    }
        #
        #    return taxRegistration;
        #}
        #// </GTH>
      ENDSOURCE
      SOURCE #getSettleDate
        #public TransDate getSettleDate(SettleDatePrinc    _saveDatePrinciple      = SettleDatePrinc::DateOfPayment,
        #                               TransDate          _saveDate               = dateNull())
        #{
        #    return this.CustVendTable::getSettleDate(_saveDatePrinciple, _saveDate);
        #}
      ENDSOURCE
      SOURCE #getStructDepartment_RU
        #/// <summary>
        #/// Implementation of \Data Dictionary\Maps\CustVendTable\Methods\getStructDepartment_RU
        #/// </summary>
        #/// <returns>
        #/// Returns current structure department
        #/// </returns>
        #// <GEERU>
        #public StructDepartment_RU getStructDepartment_RU()
        #{
        #    return "";
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #getTaxInformationCustTable_IN
        #/// <summary>
        #/// get TaxInformation of customer.
        #/// </summary>
        #/// <param name="_forUpdate">
        #/// whether the record can be update.
        #/// </param>
        #/// <returns>
        #/// the customer taxInformation transaction.
        #/// </returns>
        #public TaxInformationCustTable_IN getTaxInformationCustTable_IN(boolean  _forUpdate = false)
        #{
        #    TaxInformationCustTable_IN taxInformationCustTable_IN;
        #
        #    taxInformationCustTable_IN.selectForUpdate(_forUpdate);
        #
        #    select firstonly taxInformationCustTable_IN
        #        where taxInformationCustTable_IN.CustTable == this.AccountNum;
        #
        #    return taxInformationCustTable_IN;
        #}
        #
      ENDSOURCE
      SOURCE #getTaxWithholdGroup
        #/// <summary>
        #/// Gets the withholding tax group of current customer.
        #/// </summary>
        #/// <returns>
        #/// The withholding tax group.
        #/// </returns>
        #/// <remarks>
        #/// For Thailand, if the "Calculate withholding tax" is not checked, then always return empty.
        #/// </remarks>
        #//<GTH>
        #public TaxWithholdGroup getTaxWithholdGroup()
        #{
        #    if (TaxThaiGovCertificationFeatureChecker::isTaxWithholdEnabled()
        #        && this.TaxWithholdCalculate_TH == NoYes::No)
        #    {
        #        return '';
        #    }
        #    else
        #    {
        #        return this.TaxWithholdGroup_TH;
        #    }
        #}
        #//</GTH>
      ENDSOURCE
      SOURCE #graphicsByAgeAllocate
        #client void graphicsByAgeAllocate(Graphics_ByAgeAllocation _graph)
        #{
        #    this.CustVendTable::graphicsByAgeAllocate(_graph, NoYes::No);
        #}
      ENDSOURCE
      SOURCE #hasForecastSales
        #//BP Deviation Documented
        #display ForecastHasSales hasForecastSales()
        #{
        #    return (select forecastSales
        #                where forecastSales.CustAccountId == this.AccountNum).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #initFromCustGroup
        #void initFromCustGroup(CustGroup _custGroup)
        #{
        #    // <GEEPL>
        #    #isoCountryRegionCodes
        #    // </GEEPL>
        #    //
        #    //If Terms of Payment is set on customer group
        #    //then only Terms of Payment on customers is filled in by default from PaymTermId
        #    //
        #    if (_custGroup.PaymTermId)
        #    {
        #        this.PaymTermId = _custGroup.PaymTermId;
        #    }
        #
        #    this.PaymSched  = PaymTerm::find(this.PaymTermId).PaymSched;
        #
        #    //
        #    //If default tax group is set on customer group
        #    //than sales tax group on customers is filled in by default from TaxGroupId
        #    //
        #    if (_custGroup.TaxGroupId)
        #    {
        #        this.TaxGroup = _custGroup.TaxGroupId;
        #    }
        #
        #    //<GEEPL>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]))
        #    {
        #        this.TaxPeriodPaymentCode_PL = _custGroup.TaxPeriodPaymentCode_PL?
        #                                    _custGroup.TaxPeriodPaymentCode_PL:
        #                                    CustParameters::find().TaxPeriodPaymentCode_PL;
        #    }
        #    //</GEEPL>
        #
        #    //
        #    //Use the default PriceIncludesSalesTax value for the given CustomerGroup
        #    //
        #    this.InclTax = _custGroup.PriceIncludeSalesTax;
        #}
      ENDSOURCE
      SOURCE #initValue
        #void initValue()
        #{
        #    CustFormletterParameters custFormletterParameters;
        #    CompanyInfo companyInfo;
        #    //<GEERU>
        #    #ISOCountryRegionCodes
        #    //</GEERU>
        #
        #    super();
        #    this.Party = 0;            // Reset PartyId, it might be set when templates are used
        #
        #    // If the languageId and Currency are empty strings a blank new cutomer is created in the table and thus
        #    // the following values should be initialised with default values. If the languageId and Currency are non-empty
        #    // the customer is created from a template and the values should not be touched.
        #    if ( this.Currency == "")
        #    {
        #        companyInfo                     = CompanyInfo::find();
        #        this.Currency                   = Ledger::accountingCurrency(companyInfo.RecId);
        #
        #        custFormletterParameters        = CustFormletterParameters::find();
        #        this.GiroType                   = custFormletterParameters.GiroOnInvoice;
        #        this.GiroTypeInterestNote       = custFormletterParameters.GiroOnInterest;
        #        this.GiroTypeCollectionletter   = custFormletterParameters.GiroOnCollectionletter;
        #        this.GiroTypeFreeTextInvoice    = custFormletterParameters.GiroOnFreeTextInvoice;
        #        this.GiroTypeProjInvoice        = ProjFormletterParameters::find().GiroOnInvoice;
        #        this.GiroTypeAccountStatement   = custFormletterParameters.GiroOnAccountStatement;
        #    }
        #    //<GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        this.InvoicePostingType_RU = SalesParameters::find().InvoicePostingType_RU;
        #    }
        #    //<GEERU>
        #
        #    this.MainContactWorker = smmUtility::getCurrentContactWorker();
        #}
        #
      ENDSOURCE
      SOURCE #insert
        #void insert(DirPartyType _partyType = DirPartyType::None, Name _name = '',boolean _updateCRM=true)
        #{
        #    SyncAppCompany syncAppCompany;
        #    DirPartyType   type;
        #    // <GEERU>
        #    #isoCountryRegionCodes
        #    // </GEERU>
        #
        #    // <GBR>
        #    CustTable sourceCustTable;
        #    // </GBR>
        #
        #    ttsbegin;
        #
        #    // <GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        this.setInventProfileId_RU();
        #    }
        #    // </GEERU>
        #
        #    // Check if not associated to Party
        #    if (!this.Party)
        #    {
        #        // Create a Party entry for customer
        #        this.Party = DirPartyTable::createNew(_partyType, _name).RecId;
        #    }
        #
        #    if (!this.IdentificationNumber && this.Party)
        #    {
        #        if (!this.validateIdentificationForCreditLimit())
        #        {
        #            type = DirPartyTable::findRec(this.Party).type();
        #            switch (type)
        #            {
        #                case DirPartyType::Organization:
        #                    throw error(strFmt("@SYS114304","@SYS114297"));
        #
        #                case DirPartyType::Person:
        #                    throw error(strFmt("@SYS114304","@SYS114298"));
        #
        #                default:
        #                    throw error(strFmt("@SYS12580",type));
        #            }
        #        }
        #        // <GBR>
        #        if (BrazilParameters::isEnabled() && this.partyType() == DirPartyType::Person)
        #        {
        #            this.GenerateIncomingFiscalDocument_BR = NoYes::Yes;
        #        }
        #        // </GBR>
        #    }
        #
        #    // Add for Connector integration
        #    if (this.daxIntegrationId == emptyGuid())
        #    {
        #        this.daxIntegrationId = newGuid();
        #    }
        #
        #    super();
        #
        #    // Insert new customer in full text search table
        #    MCRFullTextSearch::insert(this);
        #
        #    this.SysExtensionSerializerMap::postInsert();
        #
        #    // <GBR>
        #    if (BrazilParameters::isEnabled())
        #    {
        #        select crossCompany * from sourceCustTable
        #            where sourceCustTable.Party == this.Party;
        #
        #        FiscalInformationUtil_BR::copyFiscalInfoToCustVend(sourceCustTable);
        #    }
        #    // </GBR>
        #
        #    SalesJournalAutoSummary::initAllFromCustTable(this, true);
        #
        #    smmTransLog::initTrans(this, smmLogAction::insert);
        #
        #    // Integrate this new customer with the integrated Project Server app associated with the current company
        #    syncAppCompany = SyncAppCompany::find(curext(), SyncAppType::ProjectServer);
        #    if (syncAppCompany)
        #    {
        #        SyncCustTableLookup::insertLookupNodes(syncAppCompany.AppId, curext(), this.AccountNum, this.name());
        #    }
        #
        #    DirPartyRelationship::createLegalEntityRelationship(this.Party, this.DataAreaId, DirSystemRelationshipType::Customer);
        #
        #    // Add links to contact person
        #    ContactPerson::addCustVendLink(this.TableId, this.Party, this.AccountNum);
        #
        #    // Create default location if using existing party
        #    LogisticsLocationDefault::createDefaultForExistingParty(this);
        #
        #    ttscommit;
        #}
        #
        #
        #
      ENDSOURCE
      SOURCE #interCompanyTradingPartner
        #/// <summary>
        #/// Finds the specified record in the <c>InterCompanyTradingPartner</c> table base on the current customer.
        #/// </summary>
        #/// <returns>
        #/// A record in the <c>InterCompanyTradingPartner</c> table; otherwise, an empty record.
        #/// </returns>
        #public InterCompanyTradingPartner interCompanyTradingPartner()
        #{
        #    return InterCompanyTradingPartner::findCustomer(this.Party,
        #                                                    this.company()
        #                                                    );
        #}
      ENDSOURCE
      SOURCE #interCompanyTradingPartnerAccount
        #/// <summary>
        #/// Finds the account ID for the corresponding vendor for the current customer intercompany trading
        #/// relation.
        #/// </summary>
        #/// <returns>
        #/// A <c>VendAccount</c> object for the corresponding vendor intercompany trading partner.
        #/// </returns>
        #//BP Deviation Documented
        #display VendAccount interCompanyTradingPartnerAccount()
        #{
        #    InterCompanyTradingPartner  interCompanyTradingPartnerVendor;
        #    InterCompanyTradingRelation interCompanyTradingRelation = this.interCompanyTradingPartner().interCompanyTradingRelation();
        #
        #    if (interCompanyTradingRelation)
        #    {
        #        interCompanyTradingPartnerVendor = InterCompanyTradingPartner::find(interCompanyTradingRelation.InterCompanyTradingVendor);
        #    }
        #
        #    return interCompanyTradingPartnerVendor.vendTable().AccountNum;
        #}
      ENDSOURCE
      SOURCE #interCompanyTradingPartnerCompanyID
        #/// <summary>
        #/// Finds the company ID for the corresponding vendor for the current customer intercompany trading relation.
        #/// </summary>
        #/// <returns>
        #/// A company ID for the corresponding vendor intercompany trading partner.
        #/// </returns>
        #//BP Deviation Documented
        #display InterCompanyCompanyId interCompanyTradingPartnerCompanyID()
        #{
        #    InterCompanyTradingPartner  interCompanyTradingPartnerVendor;
        #    InterCompanyTradingRelation interCompanyTradingRelation = this.interCompanyTradingPartner().interCompanyTradingRelation();
        #
        #    if (interCompanyTradingRelation)
        #    {
        #        interCompanyTradingPartnerVendor = InterCompanyTradingPartner::find(interCompanyTradingRelation.InterCompanyTradingVendor);
        #    }
        #
        #    return interCompanyTradingPartnerVendor.VendorDataAreaId;
        #}
      ENDSOURCE
      SOURCE #interCompanyTradingRelationActive
        #/// <summary>
        #/// Checks whether the current customer is in an active intercompany trading relation.
        #/// </summary>
        #/// <returns>
        #/// true if the customer is in an active intercompany trading relation; otherwise, false.
        #/// </returns>
        #// BP deviation documented
        #display InterCompanyTradingActive interCompanyTradingRelationActive()
        #{
        #    InterCompanyTradingRelation interCompanyTradingRelation = this.interCompanyTradingPartner().interCompanyTradingRelation();
        #
        #    return (interCompanyTradingRelation && interCompanyTradingRelation.Active);
        #}
      ENDSOURCE
      SOURCE #invoiceAccountName
        #//BP Deviation Documented
        #display CustInvoiceAccountName invoiceAccountName()
        #{
        #    return CustTable::find(this.InvoiceAccount).name();
        #}
      ENDSOURCE
      SOURCE #invoiceAddress
        #LogisticsPostalAddress invoiceAddress()
        #{
        #    LogisticsPostalAddress address = DirParty::postalAddress(this.Party, LogisticsLocationRoleType::Invoice);
        #
        #    if (!address)
        #    {
        #        address = DirParty::primaryPostalAddress(this.Party);
        #    }
        #    return address;
        #}
      ENDSOURCE
      SOURCE #isForeign
        #/// <summary>
        #/// Indicates whether a Customer is a Foreign.
        #/// </summary>
        #/// <returns>
        #/// true if a Customer is a Foreign; otherwise, false.
        #/// </returns>
        #public NoYes isForeign()
        #{
        #    return this.getTaxInformationCustTable_IN().IsForeign;
        #}
        #
      ENDSOURCE
      SOURCE #isForeigner_BR
        #/// <summary>
        #/// Indicates whether a customer is identified as foreigner based on primary postal address and company
        #/// </summary>
        #/// <returns>
        #/// true if a customer is a foreigner; otherwise, false.
        #/// </returns>
        #public boolean isForeigner_BR()
        #{
        #    boolean isForeigner = false;
        #
        #    if (this.postalAddress().CountryRegionId != CompanyInfo::find().postalAddress().CountryRegionId)
        #    {
        #        isForeigner = true;
        #    }
        #
        #    return isForeigner;
        #}
      ENDSOURCE
      SOURCE #isPreferential
        #/// <summary>
        #/// Indicates whether a Customer is a Preferential.
        #/// </summary>
        #/// <returns>
        #/// true if a Customer is a Preferential; otherwise, false.
        #/// </returns>
        #public NoYes isPreferential()
        #{
        #    return this.getTaxInformationCustTable_IN().IsPreferential;
        #}
      ENDSOURCE
      SOURCE #languageId
        #LanguageId languageId()
        #{
        #    return DirPartyTable::findRec(this.Party).LanguageId;
        #}
      ENDSOURCE
      SOURCE #lastCollectionLetterJour
        #CustCollectionLetterJour lastCollectionLetterJour()
        #{
        #    CustCollectionLetterJour    custCollectionLetterJour;
        #
        #    select firstonly custCollectionLetterJour
        #        order CollectionLetterNum desc
        #        where custCollectionLetterJour.AccountNum == this.AccountNum
        #        && custCollectionLetterJour.Canceled == dateNull();
        #
        #    return custCollectionLetterJour;
        #}
      ENDSOURCE
      SOURCE #lastInterestJournal
        #CustInterestJour lastInterestJournal()
        #{
        #    CustInterestJour    custInterestJour;
        #
        #    select firstonly custInterestJour
        #        order InterestNote desc
        #        where custInterestJour.AccountNum == this.AccountNum;
        #
        #    return custInterestJour;
        #}
      ENDSOURCE
      SOURCE #lastInvoice
        #CustInvoiceJour lastInvoice(NoYes _invoiceCustomer = NoYes::Yes)
        #{
        #    CustInvoiceJour custInvoiceJour;
        #
        #    select firstonly custInvoiceJour
        #    index hint InvoiceAccountIdx
        #    order by InvoiceDate desc, InvoiceId desc
        #    where custInvoiceJour.InvoiceAccount == this.AccountNum &&
        #          custInvoiceJour.InvoiceId;
        #    return custInvoiceJour;
        #}
      ENDSOURCE
      SOURCE #lastInvoiceDate
        #//BP Deviation Documented
        #display InvoiceDate lastInvoiceDate()
        #{
        #    return this.lastInvoice(NoYes::Yes).InvoiceDate;
        #}
      ENDSOURCE
      SOURCE #lastPayment
        #CustTrans lastPayment()
        #{
        #    CustTrans   custTrans;
        #
        #    select firstonly custTrans
        #        index hint AccountDateIdx
        #        order by TransDate desc, Voucher desc
        #        where custTrans.AccountNum  == this.AccountNum   &&
        #              custTrans.Invoice     == ''                &&
        #              custTrans.AmountCur   < 0;
        #
        #    return custTrans;
        #}
      ENDSOURCE
      SOURCE #lastPaymentDate
        #//BP Deviation Documented
        #display TransDate lastPaymentDate()
        #{
        #    return this.lastPayment().TransDate;
        #}
      ENDSOURCE
      SOURCE #lastProjInvoice
        #ProjInvoiceJour lastProjInvoice()
        #{
        #    ProjInvoiceJour projInvoiceJour;
        #
        #    select firstonly projInvoiceJour
        #    index hint InvoiceAccountIdx
        #    order by InvoiceDate desc, ProjInvoiceId desc
        #    where projInvoiceJour.InvoiceAccount == this.AccountNum &&
        #          projInvoiceJour.ProjInvoiceId;
        #
        #    return projInvoiceJour;
        #}
        #
      ENDSOURCE
      SOURCE #lastProjInvoiceDate
        #//BP Deviation Documented
        #display InvoiceDate lastProjInvoiceDate()
        #{
        #    return this.lastProjInvoice().InvoiceDate;
        #}
      ENDSOURCE
      SOURCE #lineDiscName
        #//BP Deviation Documented
        #display LineDiscName lineDiscName()
        #{
        #    return PriceDiscGroup::find(ModuleInventCustVend::Cust,
        #                                PriceGroupType::LineDiscGroup,
        #                                this.LineDisc).Name;
        #}
      ENDSOURCE
      SOURCE #mcrCustTable
        #/// <summary>
        #/// Recovers the retail customer record.
        #/// </summary>
        #/// <returns>
        #/// A record of <c>MCRCustTable</c>
        #/// </returns>
        #public MCRCustTable mcrCustTable()
        #{
        #    return this.SysExtensionSerializerMap::getExtensionTable(tableNum(MCRCustTable));
        #}
      ENDSOURCE
      SOURCE #mcrDefaultDeliveryPostalAddress
        #/// <summary>
        #/// Retrievest the postal address for the current <c>CustTable</c> record.
        #/// </summary>
        #/// <returns>
        #/// The postal address for the current <c>CustTable</c> record.
        #/// </returns>
        #public LogisticsPostalAddress mcrDefaultDeliveryPostalAddress()
        #{
        #    LogisticsLocationEntity location;
        #
        #    location = LogisticsLocationEntity::constructFromLocationRecId(LogisticsLocationDefault::findSimpleDefaultByRoleType(this, LogisticsLocationRoleType::Delivery).RecId);
        #
        #    return location.getPostalAddress();
        #}
      ENDSOURCE
      SOURCE #mcrDisplayIsMerged
        #/// <summary>
        #/// Displays if the customer was merged.
        #/// </summary>
        #/// <returns>
        #/// 'Yes' if the customer is merged; otherwise, ''.
        #/// </returns>
        #public display String15 mcrDisplayIsMerged()
        #{
        #    if (this.mcrMergedParent != '')
        #    {
        #        return enum2str(NoYes::Yes);
        #    }
        #
        #    return '';
        #}
      ENDSOURCE
      SOURCE #mcrIsMerged
        #/// <summary>
        #/// Makes a small x image if the customer is merged.
        #/// </summary>
        #/// <returns>
        #/// Returns the image number.
        #/// </returns>
        #public display MCRMergeIndicator mcrIsMerged()
        #{
        #    if (this.mcrMergedParent != '')
        #    {
        #        return 11341;  // small X sign
        #    }
        #
        #    return 11342;
        #}
      ENDSOURCE
      SOURCE #mcrPackMCRCustTable
        #/// <summary>
        #/// Packs the <c>MCRCustTable</c> record into the extension field on the corresponding
        #/// <c>CustTable</c> record.
        #/// </summary>
        #/// <param name="_mcrCustTable">
        #/// The <c>MCRCustTable</c> record to be packed.
        #/// </param>
        #public void mcrPackMCRCustTable(MCRCustTable _mcrCustTable)
        #{
        #    _mcrCustTable.CustTable = this.RecId;
        #    this.SysExtensionSerializerMap::packExtensionTable(_mcrCustTable);
        #}
      ENDSOURCE
      SOURCE #mergeDimension
        #/// <summary>
        #/// Retrieves a dimension set that holds the merged combination of the current <c>defaultDimension</c>
        #/// field on this table and the specified dimension set.
        #/// </summary>
        #/// <param name="_primaryDefaultDimension">
        #/// A first dimension set to merge with the current <c>defaultDimension</c> field on this table.
        #/// </param>
        #/// <param name="_secondaryDefaultDimension">
        #/// A second dimension set to merge with the current <c>defaultDimension</c> field on this table;
        #/// optional
        #/// </param>
        #/// <param name="_dimensionMerge">
        #/// A <c>dimensionMerge</c> object that was previously initialized by using the current buffer;
        #/// optional.
        #/// </param>
        #/// <returns>
        #/// A dimension set that holds the merged combination of the current <c>defaultDimension</c> field on
        #/// this table and the specified dimension set.
        #/// </returns>
        #/// <remarks>
        #/// This method makes sure that potential linked dimensions are not overwritten when merging. The
        #/// defaulting behavior of the entity specifier will be used.
        #/// </remarks>
        #
        #public DimensionDefault mergeDimension(
        #    DimensionDefault _primaryDefaultDimension,
        #    DimensionDefault _secondaryDefaultDimension = 0,
        #    DimensionMerge   _dimensionMerge = DimensionMerge::newFromTable(this,
        #                                                                    this.companyInfo().RecId
        #                                                                    )
        #
        #    )
        #{
        #    return _dimensionMerge.merge(_primaryDefaultDimension, _secondaryDefaultDimension);
        #}
      ENDSOURCE
      SOURCE #modifiedField
        #public void modifiedField(FieldId _fieldId)
        #{
        #    DlvMode         dlvMode;
        #
        #    #ISOCountryRegionCodes
        #
        #    super(_fieldId);
        #
        #    switch (_fieldId)
        #    {
        #        case fieldNum(CustTable, PaymTermId) :
        #            this.PaymSched = PaymTerm::find(this.PaymTermId).PaymSched;
        #            break;
        #
        #        case fieldNum(CustTable, CustGroup) :
        #            this.initFromCustGroup(CustGroup::find(this.CustGroup));
        #            break;
        #
        #        case fieldNum(CustTable, PaymMode) :
        #            this.CustVendTable::paymModeModified();
        #            break;
        #
        #        case fieldNum(CustTable, BankCentralBankPurposeCode) :
        #            this.CustVendTable::modifiedBankCentralBankPurposeCode();
        #            break;
        #        case fieldNum(CustTable, InventSiteId) :
        #            this.InventStorageDimMap::modifiedField(fieldNum(InventStorageDimMap, InventSiteId));
        #            break;
        #
        #        case fieldNum(CustTable, InventLocation) :
        #            this.InventStorageDimMap::modifiedField(fieldNum(InventStorageDimMap, InventLocationId));
        #            break;
        #
        #        //shipping module
        #        case fieldNum(CustTable, DlvMode) :
        #            dlvMode = DlvMode::find(this.DlvMode);
        #            this.ShipCarrierId = dlvMode.ShipCarrierId;
        #            this.ShipCarrierAccountCode = dlvMode.ShipCarrierAccountCode;
        #            break;
        #
        #        case fieldNum(CustTable, OrgId) :
        #            if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIS]))
        #            {
        #                if (this.RecId == 0
        #                    && (this.AccountNum == '' ||
        #                        Box::yesNo("@SYS113290", DialogButton::Yes) == DialogButton::Yes))
        #                {
        #                    this.AccountNum = this.OrgId;
        #                }
        #                else
        #                {
        #                    if (strCmp(this.OrgId, subStr(this.AccountNum, 1, strLen(this.OrgId))) != 0
        #                        && Box::yesNo(strFmt("@SYS113291", this.AccountNum), DialogButton::Yes) == DialogButton::Yes)
        #                    {
        #                        this.OrgId = this.orig().OrgId;
        #                    }
        #                }
        #            }
        #            break;
        #
        #        case fieldNum(CustTable, EnterpriseNumber) :
        #            if (this.EnterpriseNumber && LogisticsAddressCountryRegion::find(this.postalAddress().CountryRegionId).isOcode == #isoBE)
        #            {
        #                this.vatNum = TaxEnterpriseBranchNumber_BE::updateTaxVatNumTable(this.EnterpriseNumber, this.postalAddress().CountryRegionId, this.name());
        #            }
        #            break;
        #
        #        case fieldNum(CustTable, Party) :
        #            if (this.Party && !this.VendAccount && DirPartyTable::isvendor(this.Party))
        #            {
        #                this.VendAccount = VendTable::findByPartyRecId(this.Party).AccountNum;
        #            }
        #            break;
        #
        #        // <GEERU>
        #        case fieldNum(CustTable, InventProfileType_RU):
        #            if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #            {
        #                this.setInventProfileId_RU();
        #            }
        #            break;
        #        // </GEERU>
        #
        #        case fieldNum(CustTable, CompanyType_MX) :
        #            this.Rfc_MX                 = '';
        #            this.Curp_MX                = '';
        #            this.StateInscription_MX    = '';
        #            break;
        #
        #        case fieldNum(CustTable, EntryCertificateRequired_W) :
        #            if (this.EntryCertificateRequired_W == NoYes::No)
        #            {
        #                this.IssueOwnEntryCertificate_W = NoYes::No;
        #            }
        #            break;
        #    }
        #}
      ENDSOURCE
      SOURCE #multiLineDiscName
        #//BP Deviation Documented
        #display MultiLineDiscName multiLineDiscName()
        #{
        #    return PriceDiscGroup::find(ModuleInventCustVend::Cust,
        #                                PriceGroupType::MultiLineDiscGroup,
        #                                this.MultiLineDisc).Name;
        #}
      ENDSOURCE
      SOURCE #name
        #//BP deviation documented
        #display CustName name()
        #{
        #    DirPartyTable   dirPartyTable;
        #    CustName        custName;
        #    boolean         isSet = false;
        #
        #    try
        #    {
        #        if (this.hasRelatedTable(identifierStr(DirPartyTable_FK)))
        #        {
        #            dirPartyTable = this.relatedTable(identifierStr(DirPartyTable_FK)) as DirPartyTable;
        #
        #            //Check to make sure the fields we are accessing are selected.
        #            if (dirPartyTable && dirPartyTable.isFieldDataRetrieved(fieldStr(DirPartyTable, Name)))
        #            {
        #                custName = dirPartyTable.Name;
        #                isSet = true;
        #            }
        #        }
        #    }
        #    catch (Exception::Error)
        #    {
        #        isSet = false;
        #    }
        #
        #    //If we aren't joined to DirPartyTable or it isn't selected, then do a query to get it.
        #    if(!isSet)
        #    {
        #        custName = DirPartyTable::getName(this.Party);
        #    }
        #
        #    return custName;
        #}
      ENDSOURCE
      SOURCE #nameAlias
        #//BP deviation documented
        #display NameAlias nameAlias()
        #{
        #    DirPartyTable   dirPartyTable;
        #    NameAlias       nameAlias;
        #    boolean         isSet = false;
        #
        #    if (this.hasRelatedTable(identifierStr(DirPartyTable_FK)))
        #    {
        #        dirPartyTable = this.relatedTable(identifierStr(DirPartyTable_FK));
        #
        #        //Check to make sure the fields we are accessing are selected.
        #        if (dirPartyTable && dirPartyTable.isFieldDataRetrieved(fieldStr(DirPartyTable, NameAlias)))
        #        {
        #            //Check to make sure the fields we are accessing are selected.
        #            if (dirPartyTable.isFieldDataRetrieved(fieldStr(DirPartyTable, NameAlias)))
        #            {
        #                nameAlias = dirPartyTable.NameAlias;
        #                isSet = true;
        #            }
        #        }
        #    }
        #
        #    //If we aren't joined to DirPartyTable or it isn't selected, then do a query to get it.
        #    if(!isSet)
        #    {
        #        nameAlias = DirPartyTable::findRec(this.Party).NameAlias;
        #    }
        #
        #    return nameAlias;
        #}
      ENDSOURCE
      SOURCE #objectDeclaration
        #/*
        #//<<MB_CustOrderNumModif
        #    added:
        #        fields: <<NOV_24_2017
        #                \Data Dictionary\Tables\CustTable\Fields\mb_RequisitionNumber
        #                >>
        #//>>MB_CustOrderNumModif
        #*/
        #private void objectDeclaration()
        #{
        #}
      ENDSOURCE
      SOURCE #openBalanceCur
        #public AmountCur openBalanceCur(TransDate      _fromDate       = dateNull(),
        #                                TransDate      _toDate         = dateMax(),
        #                                TransDate      _assessmentDate = dateNull(),
        #                                CurrencyCode   _currency       = CompanyInfo::standardCurrency())
        #{
        #    return this.CustVendTable::openBalanceCur(_fromDate, _toDate, _assessmentDate, _currency);
        #}
      ENDSOURCE
      SOURCE #openBalanceMST
        #//BP Deviation Documented
        #display AmountMST openBalanceMST(FromDate   _fromDate       = dateNull(),
        #                                 ToDate     _toDate         = dateMax(),
        #                                 TransDate  _assessmentDate = dateNull())
        #{
        #    return this.CustVendTable::openBalanceMST(_fromDate, _toDate, _assessmentDate);
        #}
      ENDSOURCE
      SOURCE #openBalanceMSTDoc
        #AmountMST openBalanceMSTDoc(TransDate   _transDate  = dateNull(),
        #                            FromDate    _fromDate   = dateNull(),
        #                            ToDate      _toDate     = dateMax())
        #{
        #    return this.CustVendTable::openBalanceMSTDoc(_transDate, _fromDate, _toDate);
        #}
        #
      ENDSOURCE
      SOURCE #openBalanceMSTDue
        #AmountMST openBalanceMSTDue(TransDate   _transDate  = dateNull(),
        #                            FromDate    _fromDate   = dateNull(),
        #                            ToDate      _toDate     = dateMax())
        #{
        #    return this.CustVendTable::openBalanceMSTDue(_transDate, _fromDate, _toDate);
        #}
      ENDSOURCE
      SOURCE #openBalanceMSTPerAgreement_RU
        #/// <summary>
        #/// Calculate open customer balance with regards to contract (agreement)
        #/// </summary>
        #/// <param name="_agreementId">
        #/// Agreement ID
        #/// </param>
        #/// <returns>
        #/// Open customer balance with regards to contract (agreement)
        #/// </returns>
        #// <GEERU>
        #public AmountMST openBalanceMSTPerAgreement_RU(AgreementId_RU _agreementId)
        #{
        #    CustTrans               custTrans;
        #    CustSettlement          custSettlement;
        #    AgreementId_RU          agreementId;
        #    Name                    dimAttrName;
        #    AmountMST               balance;
        #    Query                   query;
        #    QueryBuildDataSource    qbds;
        #    QueryRun                qr;
        #    RecId                   dimAttrRecId = AgreementHeaderExt_RU::getAgreementDimensionAttribute();
        #
        #    if (!dimAttrRecId)
        #    {
        #        return 0;
        #    }
        #
        #    if (_agreementId)
        #    {
        #        agreementId = _agreementId;
        #    }
        #    else
        #    {
        #        agreementId = SysQuery::valueEmptyString();
        #    }
        #
        #    dimAttrName = DimensionAttribute::find(dimAttrRecId).Name;
        #
        #    query = new Query();
        #    qbds  = query.addDataSource(tableNum(CustTrans));
        #    qbds.addRange(fieldNum(CustTrans, AccountNum)).value(this.AccountNum);
        #    qbds.addSelectionField(fieldNum(CustTrans, AmountMST), SelectionField::Sum);
        #
        #    SysQuery::addDimensionAttributeRange(query,
        #        qbds.name(),
        #        fieldStr(CustTrans, DefaultDimension),
        #        DimensionComponent::DimensionAttribute,
        #        agreementId,
        #        dimAttrName);
        #
        #    qr = new QueryRun(query);
        #    if (qr.next())
        #    {
        #        custTrans = qr.get(tableNum(CustTrans));
        #        balance = custTrans.AmountMST;
        #    }
        #
        #    query = new Query();
        #    qbds  = query.addDataSource(tableNum(CustSettlement));
        #    qbds.addRange(fieldNum(CustSettlement, AccountNum)).value(this.AccountNum);
        #    qbds.addSelectionField(fieldNum(CustSettlement, SettleAmountMST));
        #    qbds.addSelectionField(fieldNum(CustSettlement, ExchAdjustment));
        #    qbds.addSelectionField(fieldNum(CustSettlement, TransRecId));
        #
        #    qbds = qbds.addDataSource(tableNum(CustTrans));
        #    qbds.addLink(fieldNum(CustSettlement, OffsetRecid), fieldNum(CustTrans, RecId));
        #    qbds.addSelectionField(fieldNum(CustTrans, TableId));
        #
        #    SysQuery::addDimensionAttributeRange(query,
        #        qbds.name(),
        #        fieldStr(CustTrans, DefaultDimension),
        #        DimensionComponent::DimensionAttribute,
        #        agreementId,
        #        dimAttrName);
        #
        #    qr = new QueryRun(query);
        #    while (qr.next())
        #    {
        #        custSettlement = qr.get(tableNum(CustSettlement));
        #        custTrans = CustTrans::find(custSettlement.TransRecId);
        #
        #        if (agreementId == SysQuery::valueEmptyString())
        #        {
        #            if (!AgreementHeaderExt_RU::findByDefaultDimension(custTrans.DefaultDimension))
        #            {
        #                continue;
        #            }
        #        }
        #        else
        #        {
        #            if (AgreementHeaderExt_RU::findByDefaultDimension(custTrans.DefaultDimension).AgreementId == agreementId)
        #            {
        #                continue;
        #            }
        #        }
        #
        #        balance += custSettlement.SettleAmountMST + custSettlement.ExchAdjustment;
        #    }
        #
        #    return balance;
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #openInvoiceBalanceMST
        #//BP Deviation Documented
        #display AmountMST openInvoiceBalanceMST(FromDate   _fromDate       = dateNull(),
        #                                 ToDate     _toDate         = dateMax(),
        #                                 TransDate  _assessmentDate = dateNull())
        #{
        #    CustTrans       custTrans;
        #    CustTransOpen   custTransOpen;
        #    CustSettlement  custSettlement;
        #    AmountMST       openBalanceMST = 0;
        #
        #    if (_assessmentDate)
        #    {
        #        if (!(hasFieldAccess(tableNum(CustSettlement), fieldNum(CustSettlement, SettleAmountMST) &&
        #              hasFieldAccess(tableNum(CustSettlement), fieldNum(CustSettlement, ExchAdjustment)))))
        #            throw error("@SYS57330");
        #
        #        select sum(SettleAmountMST),sum(ExchAdjustment) from custSettlement
        #            group by AccountNum
        #            where custSettlement.AccountNum == this.AccountNum
        #               && custSettlement.TransDate  >  _assessmentDate
        #        join custTrans
        #            where custTrans.RecId       == custSettlement.TransRecId
        #               && custTrans.TransDate   >= _fromDate
        #               && custTrans.TransDate   <= _toDate
        #               && (custTrans.Invoice    != ''
        #               || (custTrans.Invoice    == '' && custTrans.AmountMST   > 0));
        #
        #        openBalanceMST += custSettlement.SettleAmountMST + custSettlement.ExchAdjustment;
        #        openBalanceMST += this.openInvoiceBalanceMST(_fromDate, _toDate);
        #    }
        #    else
        #    {
        #        if (!hasFieldAccess(tableNum(CustTransOpen), fieldNum(CustTransOpen, AmountMST)))
        #            throw error("@SYS57330");
        #
        #        while select sum(AmountMST) from custTransOpen
        #        group by RefRecId
        #            where custTransOpen.AccountNum  == this.AccountNum
        #               && custTransOpen.TransDate   >= _fromDate
        #               && custTransOpen.TransDate   <= _toDate
        #            join RecId from custTrans
        #                where custTrans.RecId       == custTransOpen.RefRecId
        #                   && (custTrans.Invoice    != ''
        #                   || (custTrans.Invoice    == '' && custTrans.AmountMST   > 0))
        #        {
        #            openBalanceMST += custTransOpen.AmountMST;
        #        }
        #    }
        #
        #    return openBalanceMST;
        #}
      ENDSOURCE
      SOURCE #openinvoiceBalanceMSTDoc
        #AmountMST openinvoiceBalanceMSTDoc(TransDate   _transDate  = dateNull(),
        #                                   FromDate    _fromDate   = dateNull(),
        #                                   ToDate      _toDate     = dateMax())
        #{
        #    CustTrans      custTrans;
        #    CustTransOpen  custTransOpen;
        #    AmountMST      amountMST = 0;
        #
        #    while select sum(AmountMST) from custTransOpen
        #        order by RefRecId
        #        where custTransOpen.AccountNum  == this.AccountNum
        #           && custTransOpen.TransDate   <= _transDate
        #    exists join custTrans
        #        where custTrans.RecId           == custTransOpen.RefRecId
        #           && ((custTrans.DocumentDate
        #           &&   custTrans.DocumentDate  >= _fromDate
        #           &&   custTrans.DocumentDate  <= _toDate)
        #           ||  (!custTrans.DocumentDate
        #           &&    custTrans.TransDate    >= _fromDate
        #           &&    custTrans.TransDate    <= _toDate))
        #           && (custTrans.Invoice        != ''
        #           || (custTrans.Invoice        == '' && custTrans.AmountMST         > 0))
        #    {
        #        amountMST += custTransOpen.AmountMST;
        #    }
        #
        #    return amountMST;
        #}
        #
      ENDSOURCE
      SOURCE #openInvoiceBalanceMSTDue
        #AmountMST openInvoiceBalanceMSTDue(TransDate   _transDate  = dateNull(),
        #                            FromDate    _fromDate   = dateNull(),
        #                            ToDate      _toDate     = dateMax())
        #{
        #    CustTransOpen   custTransOpen;
        #    CustTrans       custTrans;
        #    AmountMST       amountMST = 0;
        #
        #    while select sum(AmountMST) from custTransOpen
        #    group by RefRecId
        #        where custTransOpen.AccountNum  == this.AccountNum
        #           && custTransOpen.TransDate   <= _transDate
        #           && custTransOpen.DueDate     >= _fromDate
        #           && custTransOpen.DueDate     <= _toDate
        #        join RecId from custTrans
        #            where custTrans.RecId       == custTransOpen.RefRecId
        #               && (custTrans.Invoice    != ''
        #               || (custTrans.Invoice    == '' && custTrans.AmountMST > 0))
        #    {
        #        amountMST += custTransOpen.AmountMST;
        #    }
        #
        #    return amountMST;
        #}
        #
      ENDSOURCE
      SOURCE #openPaymentBalanceMST
        #//BP Deviation Documented
        #display AmountMST openPaymentBalanceMST(FromDate   _fromDate       = dateNull(),
        #                                        ToDate     _toDate         = dateMax(),
        #                                        TransDate  _assessmentDate = dateNull())
        #{
        #    CustTrans       custTrans;
        #    CustTransOpen   custTransOpen;
        #    CustSettlement  custSettlement;
        #    AmountMST       openBalanceMST = 0;
        #
        #    if (_assessmentDate)
        #    {
        #        if (!(hasFieldAccess(tableNum(CustSettlement), fieldNum(CustSettlement, SettleAmountMST) &&
        #              hasFieldAccess(tableNum(CustSettlement), fieldNum(CustSettlement, ExchAdjustment)))))
        #            throw error("@SYS57330");
        #
        #        select sum(SettleAmountMST), sum(ExchAdjustment) from custSettlement
        #            group by AccountNum
        #            where custSettlement.AccountNum == this.AccountNum
        #               && custSettlement.TransDate  >  _assessmentDate
        #        join custTrans
        #            where custTrans.RecId       == custSettlement.TransRecId
        #               && custTrans.TransDate   >= _fromDate
        #               && custTrans.TransDate   <= _toDate
        #               && custTrans.Invoice     == ''
        #               && custTrans.AmountMST    < 0;
        #
        #        openBalanceMST  = custSettlement.SettleAmountMST + custSettlement.ExchAdjustment;
        #        openBalanceMST += this.openPaymentBalanceMST(_fromDate, _toDate);
        #    }
        #    else
        #    {
        #        if (!hasFieldAccess(tableNum(CustTransOpen), fieldNum(CustTransOpen, AmountMST)))
        #            throw error("@SYS57330");
        #
        #        while select sum(AmountMST) from custTransOpen
        #        group by RefRecId
        #            where custTransOpen.AccountNum  == this.AccountNum
        #               && custTransOpen.TransDate   >= _fromDate
        #               && custTransOpen.TransDate   <= _toDate
        #            join RecId from custTrans
        #                where custTrans.RecId       == custTransOpen.RefRecId
        #                   && custTrans.Invoice     == ''
        #                   && custTrans.AmountMST    < 0
        #        {
        #            openBalanceMST += custTransOpen.AmountMST;
        #        }
        #    }
        #
        #    return openBalanceMST;
        #}
      ENDSOURCE
      SOURCE #openPaymentBalanceMSTDoc
        #AmountMST openPaymentBalanceMSTDoc(TransDate   _transDate  = dateNull(),
        #                                   FromDate    _fromDate   = dateNull(),
        #                                   ToDate      _toDate     = dateMax())
        #{
        #    CustTrans       custTrans;
        #    CustTransOpen   custTransOpen;
        #    AmountMST       amountMST;
        #
        #    while select sum(AmountMST) from custTransOpen
        #        order by RefRecId
        #        where custTransOpen.AccountNum      == this.AccountNum
        #           && custTransOpen.TransDate       <= _transDate
        #     exists join custTrans
        #        where custTrans.RecId               == custTransOpen.RefRecId
        #           && ((custTrans.DocumentDate
        #           &&   custTrans.DocumentDate      >= _fromDate
        #           &&   custTrans.DocumentDate      <= _toDate)
        #           ||  (!custTrans.DocumentDate
        #           &&   custTrans.TransDate         >= _fromDate
        #           &&   custTrans.TransDate         <= _toDate))
        #           && custTrans.AmountMST            < 0
        #           && custTrans.Invoice             == ''
        #    {
        #        amountMST += custTransOpen.AmountMST;
        #    }
        #
        #    return amountMST;
        #}
        #
      ENDSOURCE
      SOURCE #openPaymentBalanceMSTDue
        #AmountMST openPaymentBalanceMSTDue(TransDate   _transDate  = dateNull(),
        #                                   FromDate    _fromDate   = dateNull(),
        #                                   ToDate      _toDate     = dateMax())
        #{
        #    CustTransOpen   custTransOpen;
        #    CustTrans       custTrans;
        #    AmountMST       amountMST;
        #
        #    while select sum(AmountMST) from custTransOpen
        #    group by RefRecId
        #        where custTransOpen.AccountNum  == this.AccountNum
        #           && custTransOpen.TransDate   <= _transDate
        #           && custTransOpen.DueDate     >= _fromDate
        #           && custTransOpen.DueDate     <= _toDate
        #        join RecId from custTrans
        #            where custTrans.RecId       == custTransOpen.RefRecId
        #               && custTrans.Invoice     == ''
        #               && custTrans.AmountMST    < 0
        #    {
        #        amountMST += custTransOpen.AmountMST;
        #    }
        #
        #    return amountMST;
        #}
        #
      ENDSOURCE
      SOURCE #partyINNasOfDate_RU
        #/// <summary>
        #/// Accessor method to party attributes with respect to date effectivity.
        #/// </summary>
        #/// <param name="_date">
        #/// Date as of which the attribute is fetched.
        #/// </param>
        #/// <returns>
        #/// Value of INN property for the current party and date.
        #/// </returns>
        #// <GEERU>
        #public INN_RU partyINNasOfDate_RU(TransDate _date = systemDateGet())
        #{
        #    return TaxRegistration::legislationRegistrationValue(this.Party, TaxRegistrationTypesList::INN, _date);
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #partyKPPasOfDate_RU
        #/// <summary>
        #/// Accessor method to party attributes with respect to date effectivity.
        #/// </summary>
        #/// <param name="_date">
        #/// Date as of which the attribute is fethed.
        #/// </param>
        #/// <returns>
        #/// Value of KPP property for the current party and date.
        #/// </returns>
        #// <GEERU>
        #public KPPU_RU partyKPPasOfDate_RU(TransDate _date = systemDateGet())
        #{
        #    return TaxRegistration::legislationRegistrationValue(this.Party, TaxRegistrationTypesList::KPP, _date);
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #partyOKATOasOfDate_RU
        #/// <summary>
        #/// Accessor method to party attributes with respect to date effectivity.
        #/// </summary>
        #/// <param name="_date">
        #/// Date as of which the attribute is fethed.
        #/// </param>
        #/// <returns>
        #/// Value of OKATO property for the current party and date.
        #/// </returns>
        #// <GEERU>
        #public OKATO_RU partyOKATOasOfDate_RU(TransDate _date = systemDateGet())
        #{
        #    return TaxRegistration::legislationRegistrationValue(this.Party, TaxRegistrationTypesList::OKATO, _date);
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #partyOKDPasOfDate_RU
        #/// <summary>
        #/// Accessor method to party attributes with respect to date effectivity.
        #/// </summary>
        #/// <param name="_date">
        #/// Date as of which the attribute is fethed.
        #/// </param>
        #/// <returns>
        #/// Value of OKDP property for the current party and date.
        #/// </returns>
        #// <GEERU>
        #public OKDP_RU partyOKDPasOfDate_RU(TransDate _date = systemDateGet())
        #{
        #    return TaxRegistration::legislationRegistrationValue(this.Party, TaxRegistrationTypesList::OKDP, _date);
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #partyOKPOasOfDate_RU
        #/// <summary>
        #/// Accessor method to party attributes with respect to date effectivity.
        #/// </summary>
        #/// <param name="_date">
        #/// Date as of which the attribute is fethed.
        #/// </param>
        #/// <returns>
        #/// Value of OKPO property for the current party and date.
        #/// </returns>
        #// <GEERU>
        #public OKPO_RU partyOKPOasOfDate_RU(TransDate _date = systemDateGet())
        #{
        #    return TaxRegistration::legislationRegistrationValue(this.Party, TaxRegistrationTypesList::OKPO, _date);
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #partyType
        #DirPartyType partyType()
        #{
        #    return DirPartyTable::findRec(this.Party).type();
        #}
      ENDSOURCE
      SOURCE #paymentType
        #/// <summary>
        #/// Gets the payment type of the current record in the <c>CustPaymModeTable</c> table.
        #/// </summary>
        #/// <returns>
        #/// The payment type; otherwise, an empty string;
        #/// </returns>
        #//BP Deviation Documented
        #display PaymType paymentType()
        #{
        #    CustPaymModeTable custPaymMode;
        #    str paymType;
        #
        #    select firstonly custPaymMode
        #        where this.PaymMode == custPaymMode.PaymMode;
        #        if (custPaymMode)
        #        {
        #            paymType = enum2str(custPaymMode.PaymentType);
        #        }
        #
        #    return paymType;
        #}
        #
      ENDSOURCE
      SOURCE #paymName
        #//BP Deviation Documented
        #display Description paymName()
        #{
        #    return this.CustVendTable::paymName();
        #}
      ENDSOURCE
      SOURCE #phone
        #//BP Deviation Documented
        #display Phone phone()
        #{
        #    LogisticsElectronicAddress electronicAddress;
        #
        #    electronicAddress = DirParty::primaryElectronicAddress(this.Party, LogisticsElectronicAddressMethodType::Phone);
        #
        #    return electronicAddress ? electronicAddress.Locator : '';
        #}
      ENDSOURCE
      SOURCE #phoneLocal
        #//BP Deviation Documented
        #display PhoneLocal phoneLocal()
        #{
        #    LogisticsElectronicAddress electronicAddress;
        #
        #    electronicAddress = DirParty::primaryElectronicAddress(this.Party, LogisticsElectronicAddressMethodType::Phone);
        #
        #    return electronicAddress ? electronicAddress.LocatorExtension : '';
        #}
      ENDSOURCE
      SOURCE #postalAddress
        #LogisticsPostalAddress postalAddress()
        #{
        #    return DirParty::primaryPostalAddress(this.Party);
        #}
      ENDSOURCE
      SOURCE #postalAddressRecId
        #/// <summary>
        #/// Retrieves the record ID of the primary postal address for the
        #/// current <c>CustTable</c> record.
        #/// </summary>
        #/// <returns>
        #/// The record ID of the primary postal address for the
        #/// current <c>CustTable</c> record.
        #/// </returns>
        #LogisticsPostalAddressRecId postalAddressRecId()
        #{
        #    return DirParty::primaryPostalAddress(this.Party).RecId;
        #}
      ENDSOURCE
      SOURCE #previewPaneTitle
        #/// <summary>
        #/// Retrieves the title field that is on top of the preview pane.
        #/// </summary>
        #/// <returns>
        #/// The title field of the preview pane.
        #/// </returns>
        #// BP deviation documented
        #display Caption previewPaneTitle()
        #{
        #    return strFmt("@SYS327590", this.AccountNum, this.name());
        #}
      ENDSOURCE
      SOURCE #priceDiscGroupName
        #//BP Deviation Documented
        #display PriceDiscName priceDiscGroupName()
        #{
        #    return PriceDiscGroup::find(ModuleInventCustVend::Cust,
        #                                PriceGroupType::PriceGroup,
        #                                this.PriceGroup).Name;
        #}
      ENDSOURCE
      SOURCE #projectListName
        #//BP Deviation Documented
        #display Name projectListName()
        #{
        #    return "@SYS62154";
        #}
      ENDSOURCE
      SOURCE #promptCust
        #str promptCust()
        #{
        #    return strFmt('%1 %2\n%3 %4\n%5 %6',fieldPName(CustTable, AccountNum), this.AccountNum,
        #                                        fieldPName(DirPartyTable, Name), this.name(),
        #                                        fieldPName(LogisticsPostalAddress, Address), this.postalAddress().Address);
        #}
      ENDSOURCE
      SOURCE #remainAmountCurPeriod
        #//BP Deviation Documented
        #display AmountCur remainAmountCurPeriod(TransDate    _fromDate     = dateNull(),
        #                                        TransDate    _todate       = systemDateGet(),
        #                                        CurrencyCode _currencyCode = this.Currency)
        #{
        #    CustTrans   custTrans;
        #
        #    select sum (AmountCur), sum (SettleAmountCur) from custTrans
        #        group by CurrencyCode
        #        where custTrans.AccountNum      == this.AccountNum  &&
        #              custTrans.TransDate       >= _fromDate        &&
        #              custTrans.TransDate       <= _todate          &&
        #              custTrans.CurrencyCode    == _currencyCode;
        #
        #    return (custTrans.AmountCur - custTrans.SettleAmountCur);
        #}
      ENDSOURCE
      SOURCE #renamePrimaryKey
        #public void renamePrimaryKey()
        #{
        #    Common originalRecord = this.orig();
        #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
        #    {
        #        RetailConnActionManagement::errorOnRename(this);
        #    }
        #
        #    super();
        #
        #    DimensionStorage::syncRenamedValue(this, originalRecord);
        #}
      ENDSOURCE
      SOURCE #setInventProfileId_RU
        #/// <summary>
        #/// Update Inventory profile based on Inventory profile type
        #/// </summary>
        #// <GEERU>
        #void setInventProfileId_RU()
        #{
        #    if (this.InventProfileType_RU == InventProfileType_RU::NotSpecified ||
        #        this.InventProfileType_RU != InventProfile_RU::find(this.InventProfileId_RU).InventProfileType)
        #    {
        #        this.InventProfileId_RU = '';
        #    }
        #}
        #// </GEERU>
      ENDSOURCE
      SOURCE #settlementBuffer
        #CustSettlement settlementBuffer()
        #{
        #    CustSettlement  custSettlement;
        #
        #    return custSettlement;
        #}
      ENDSOURCE
      SOURCE #shouldEstimateBeCalculated
        #/// <summary>
        #///    Determines whether the estimate value should be calculated for the order.
        #/// </summary>
        #/// <returns>
        #///    true if the estimate value should be calculated for the order; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #///    If the customer has a credit limit,
        #///    and the customer has specified mandatory credit limit
        #///    or the <c>typeOfCreditMaxCheck</c> property is set to <c>TypeOfCreditmaxCheck</c> enumeration value different from None
        #///    then credit limit check would use the estimate value and it needs to be calculated.
        #/// </remarks>
        #public boolean shouldEstimateBeCalculated()
        #{
        #    CustParameters  custParameters;
        #    boolean         shouldEstimateBeCalculated;
        #
        #    if(this.CreditMax
        #        || (this.AccountNum != this.InvoiceAccount && CustTable::find(this.InvoiceAccount).CreditMax))
        #    {
        #        if(this.MandatoryCreditLimit)
        #        {
        #            shouldEstimateBeCalculated = true;
        #        }
        #        else
        #        {
        #            custParameters = CustParameters::find();
        #            shouldEstimateBeCalculated = custParameters.CreditMaxCheck == TypeOfCreditmaxCheck::Balance
        #                || custParameters.CreditMaxCheck == TypeOfCreditmaxCheck::BalanceAll
        #                || custParameters.CreditMaxCheck == TypeOfCreditmaxCheck::BalanceDelivered;
        #        }
        #    }
        #
        #    return shouldEstimateBeCalculated;
        #}
        #
      ENDSOURCE
      SOURCE #showPartyMatchIcon
        #//BP Deviation documented
        #display DirPartyMatchIcon showPartyMatchIcon()
        #{
        #    return DirParty::showPartyMatchIcon(this);
        #}
      ENDSOURCE
      SOURCE #statementAddress
        #/// <summary>
        #/// Find address used for statement.
        #/// </summary>
        #/// <returns>
        #/// The <c>LogisticsPostalAddress</c> to send statements to.
        #/// </returns>
        #/// <remarks>
        #/// Has fallback logic, so if a <c>LogisticsLocationRoleType::Statment</c> address is not found, it will return primary address instead.
        #/// </remarks>
        #LogisticsPostalAddress statementAddress()
        #{
        #    LogisticsPostalAddress address = DirParty::postalAddress(this.Party, LogisticsLocationRoleType::Statement);
        #
        #    if (!address)
        #    {
        #        address = DirParty::primaryPostalAddress(this.Party);
        #    }
        #
        #    return address;
        #}
      ENDSOURCE
      SOURCE #stateName
        #//BP Deviation Documented
        #display AddressStatename stateName()
        #{
        #    LogisticsPostalAddress postalAddress = this.postalAddress();
        #
        #    return LogisticsAddressState::find(postalAddress.CountryRegionId, postalAddress.State).Name;
        #}
      ENDSOURCE
      SOURCE #streetName_BR
        #/// <summary>
        #///     Gets the street name based on the customer primary postal address
        #/// </summary>
        #/// <returns>
        #///     The street name.
        #/// </returns>
        #// <GBR>
        #display LogisticsAddressStreet streetName_BR()
        #{
        #    return this.postalAddress().Street;
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #streetNumber_BR
        #/// <summary>
        #///    Gets the StreetNumber of the customer.
        #/// </summary>
        #/// <returns>
        #///    Customer StreetNumber.
        #/// </returns>
        #// <GBR>
        #display LogisticsAddressStreetNumber streetNumber_BR()
        #{
        #    return this.postalAddress().StreetNumber;
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #subscriptionType_BR
        #/// <summary>
        #/// Gets national company/person number
        #/// </summary>
        #/// <returns>
        #/// The national company or person number based on the type of party.
        #/// </returns>
        #// <GBR>
        #display CNPJCPFNum_BR subscriptionType_BR()
        #{
        #    if (this.partyType() == DirPartyType::Organization)
        #    {
        #        return '02';
        #    }
        #    else if (this.partyType() == DirPartyType::Person)
        #    {
        #        return '01';
        #    }
        #    else
        #    {
        #        return '';
        #    }
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #summaryLedgerDimension
        #public LedgerDimensionDefaultAccount summaryLedgerDimension(CustPostingProfile _custPostingProfile = CustParameters::find().PostingProfile)
        #{
        #    return CustLedgerAccounts::summaryLedgerDimension(this.AccountNum, _custPostingProfile);
        #}
      ENDSOURCE
      SOURCE #taxGroupName
        #//BP Deviation Documented
        #display TaxGroupName taxGroupName()
        #{
        #    return TaxGroupHeading::find(this.TaxGroup).TaxGroupName;
        #}
      ENDSOURCE
      SOURCE #telefax
        #//BP Deviation Documented
        #display TeleFax telefax()
        #{
        #    LogisticsElectronicAddress electronicAddress;
        #
        #    electronicAddress = DirParty::primaryElectronicAddress(this.Party, LogisticsElectronicAddressMethodType::Fax);
        #
        #    return electronicAddress ? electronicAddress.Locator : '';
        #}
      ENDSOURCE
      SOURCE #totalNumberSales
        #display Integer totalNumberSales()
        #{
        #    Integer                 ret;
        #    SalesTable              salesTable;
        #
        #    select count(SalesId) from SalesTable
        #        where salesTable.CustAccount == this.AccountNum;
        #
        #    ret = str2int(salesTable.SalesId);
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #totalValueOfSales
        #display SalesLineAmount totalValueOfSales()
        #{
        #    SalesLineAmount         ret;
        #    SalesTable              salesTable;
        #    SalesLine               salesLine;
        #
        #    while select * from salestable
        #        where salesTable.CustAccount == this.AccountNum
        #    {
        #
        #        select sum(LineAmount) from salesLine
        #            where salesLine.SalesId == salesTable.SalesId;
        #
        #        ret = ret + salesLine.LineAmount;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #totalValueOfSalesV2
        #display SalesLineAmount totalValueOfSalesV2()
        #{
        #    SalesLineAmount         ret;
        #    SalesTable              salesTable;
        #    SalesLine               salesLine;
        #
        #
        #    select sum(LineAmount) from salesLine
        #        join salesTable
        #            where salesLine.SalesId == salesTable.SalesId
        #                && salesTable.CustAccount == this.AccountNum;
        #
        #    return salesLine.LineAmount;
        #}
      ENDSOURCE
      SOURCE #transBuffer
        #CustTrans transBuffer()
        #{
        #    CustTrans   custTrans;
        #
        #    return custTrans;
        #}
      ENDSOURCE
      SOURCE #transOpenBuffer
        #CustTransOpen transOpenBuffer()
        #{
        #    CustTransOpen   custTransOpen;
        #
        #    return custTransOpen;
        #}
      ENDSOURCE
      SOURCE #update
        #void update(boolean _updateSmmBusRelTable = true, boolean _updateParty = true)
        #{
        #    CustTable   this_Orig = this.orig();
        #    RecVersion  rv = this_Orig.RecVersion;
        #    // <GEERU>
        #    #isoCountryRegionCodes
        #    // </GEERU>
        #
        #    ttsbegin;
        #
        #    // <GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        this.setInventProfileId_RU();
        #    }
        #    // </GEERU>
        #
        #    // Add for Connector integration
        #    if (this.daxIntegrationId == emptyGuid())
        #    {
        #        this.daxIntegrationId = newGuid();
        #    }
        #
        #    super();
        #
        #    // Update the full text search table
        #    MCRFullTextSearch::update(this);
        #
        #    this.SysExtensionSerializerMap::postUpdate();
        #
        #    if (_updateSmmBusRelTable)
        #    {
        #        smmBusRelTable::updateFromCustTableSFA2(this, '', false);
        #    }
        #
        #    if (this_Orig.CustGroup != this.CustGroup)
        #    {
        #        ForecastSales::setCustGroupId(this.AccountNum,
        #                                      this_Orig.CustGroup,
        #                                      this.CustGroup);
        #    }
        #
        #    smmTransLog::initTrans(this, smmLogAction::update);
        #
        #    // If the customer name has changed
        #    if (this.RecVersion != rv && this_Orig.name() != this.name())
        #    {
        #        // Set the flag for customner lookup nodes for this customer to Update
        #        SyncCustTableLookup::updateLookupNodes(curext(), this.AccountNum, this.name());
        #    }
        #
        #    // If the customer group has changed
        #    if (this.CustGroup != this_Orig.CustGroup)
        #    {
        #        // clear the ledger cache
        #        LedgerCache::clearScope(LedgerCacheScope::PartyMainAccountDimensionListProvCust);
        #    }
        #
        #    // <GBR>
        #    if (BrazilParameters::isEnabled())
        #    {
        #        FiscalInformationUtil_BR::copyFiscalInfoToCustVend(this);
        #    }
        #    // </GBR>
        #
        #    ttscommit;
        #
        #}
      ENDSOURCE
      SOURCE #url
        #//BP Deviation Documented
        #display URL url()
        #{
        #    LogisticsElectronicAddress electronicAddress;
        #
        #    electronicAddress = DirParty::primaryElectronicAddress(this.Party, LogisticsElectronicAddressMethodType::URL);
        #
        #    return electronicAddress ? electronicAddress.Locator : '';
        #}
      ENDSOURCE
      SOURCE #validateBlocked
        #/// <summary>
        #///     Verifies that the selected value for <c>Blocked</c> is valid for a record in <c>CustTable</c>.
        #/// </summary>
        #/// <param name="_blocked">
        #///     The value being validated.
        #/// </param>
        #/// <returns>
        #///     True if the value is valid for a record in <c>CustTable</c>
        #/// </returns>
        #/// <remarks>
        #///     The enum <c>CustVendorBlocked</c> is used in multiple tables, requiring
        #///     validation to eliminate selecting values that do not apply for <c>CustTable</c>.
        #/// </remarks>
        #private boolean validateBlocked(CustBlocked _blocked)
        #{
        #    boolean ret = true;
        #
        #    switch (_blocked)
        #    {
        #        case CustVendorBlocked::Never:
        #        case CustVendorBlocked::Payment:
        #        case CustVendorBlocked::Requisition:
        #            ret = checkFailed(strFmt("@SYS137754", "@SYS316613"));
        #            break;
        #
        #        default:
        #            break;
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #validateDelete
        #boolean validateDelete()
        #{
        #    boolean         ret;
        #    CustTable       custTable;
        #    SalesTable      salesTable;
        #
        #    ret = super();
        #
        #    if (this.AccountNum)
        #    {
        #        select count(RecId) from custTable
        #            where custTable.InvoiceAccount == this.AccountNum;
        #
        #        if (custTable.RecId)
        #        {
        #            ret = checkFailed("@SYS67133");
        #        }
        #
        #        select count(RecId) from salesTable
        #            where salesTable.InvoiceAccount == this.AccountNum;
        #
        #        if (salesTable.RecId)
        #        {
        #            ret = checkFailed(strFmt("@SYS75284", tablePName(SalesTable)));
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #validateField
        #boolean validateField(FieldId p1)
        #{
        #    boolean                     ret;
        #
        #    TaxRegistrationValidator_MX taxRegistrationValidator;
        #    #isoCountryRegionCodes
        #
        #    int                         lengthAgencyLocationCode;
        #
        #     // <GJP>
        #     #define.MinConsDayZero(0)
        #     #define.MaxConsDayThirtyOne(31)
        #     // </GJP>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoMX]))
        #    {
        #        taxRegistrationValidator = TaxRegistrationValidator_MX::construct(this);
        #    }
        #
        #    ret = super(p1);
        #
        #    if (ret)
        #    {
        #        switch (p1)
        #        {
        #            case fieldNum(CustTable, vatNum) :
        #                ret = TaxVATNumTable::checkVATNum(this.vatNum, this, p1);
        #                if (this.vatNum &&
        #                    LogisticsAddressCountryRegion::find(this.postalAddress().CountryRegionId).isOcode == #isoBE &&
        #                    SysCountryRegionCode::isLegalEntityInCountryRegion([#isoBE]))
        #                {
        #                    ret = ret && TaxEnterpriseBranchNumber_BE::checkEnterPriseNumber(this.EnterpriseNumber, this.vatNum, true);
        #                }
        #                if (ret)
        #                {
        #                    ret = this.checkVATNumUsed();
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, CreditMax) :
        #                if (this.CreditMax < 0)
        #                {
        #                    ret = checkFailed("@SYS69970");
        #                // <GEERU>
        #                }
        #                else if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU])
        #                    && CustParameters::find().AgreementCreditLine_RU)
        #                {
        #                    ret = AgreementHeaderExt_RU::checkCreditLimitWithoutAgreement(ModuleSalesPurch::Sales, this.AccountNum, this.CreditMax);
        #                // </GEERU>
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, EnterpriseNumber) :
        #                if (this.EnterpriseNumber && LogisticsAddressCountryRegion::find(this.postalAddress().CountryRegionId).isOcode != #isoBE)
        #                {
        #                    ret = checkFailed("@SYS117686");
        #                }
        #                else
        #                {
        #                    ret = ret && TaxEnterpriseBranchNumber_BE::checkEnterPriseNumber(this.EnterpriseNumber);
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, InventLocation) :
        #                ret = this.InventStorageDimMap::validateField(fieldNum(InventStorageDimMap, InventLocationId));
        #                break;
        #
        #            case fieldNum(CustTable, OrgId) :
        #                if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIS])
        #                    && this.CustVendTable::checkOrgId() == false)
        #                {
        #                    ret = checkFailed("@SYS113286");
        #                }
        #                break;
        #
        #            // <GJP>
        #            case fieldNum(CustTable, ConsDay_JP) :
        #                if (CustConsInvoiceType_JP::isCustConsInvoiceEnabled()
        #                    && !this.CustVendTable::isConsDayValid_JP())
        #                {
        #                    // The value is out of its valid range - it must be between %1 and %2
        #                    ret = checkFailed(strFmt("@SYS87701", #MinConsDayZero, #MaxConsDayThirtyOne));
        #                }
        #                break;
        #            // </GJP>
        #            case fieldNum(CustTable, Rfc_MX) :
        #                if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoMX]))
        #                {
        #                    ret = taxRegistrationValidator.validateRFC(this.Rfc_MX, this.CompanyType_MX);
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, Curp_MX) :
        #                if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoMX]))
        #                {
        #                    ret = taxRegistrationValidator.validateCurp(this.Curp_MX, this.CompanyType_MX);
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, StateInscription_MX):
        #                if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoMX]))
        #                {
        #                    ret = taxRegistrationValidator.validateStateInscription(this.StateInscription_MX);
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, MainContactWorker) :
        #                if (this.MainContactWorker)
        #                {
        #                    ret = smmUtility::isValidWorkerInCurrentCompany(this.MainContactWorker);
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, Blocked) :
        #                ret = this.validateBlocked(this.Blocked);
        #                break;
        #
        #            case fieldNum(CustTable, EinvoiceEANNum):
        #                if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoDK]))
        #                {
        #                    ret = CustTable::checkEInvoiceEAN(this.EinvoiceEANNum);
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, CashDiscBaseDays):
        #                if (this.CashDiscBaseDays < 0)
        #                {
        #                    this.CashDiscBaseDays = 0;
        #                    ret = checkFailed("@SYS118311");
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, AgencyLocationCode) :
        #                if (isConfigurationkeyEnabled(configurationKeyNum(PublicSector)))
        #                {
        #                    if(this.AgencyLocationCode != '')
        #                    {
        #                        lengthAgencyLocationCode = strLen(this.AgencyLocationCode);
        #                        if(lengthAgencyLocationCode < 11
        #                            || lengthAgencyLocationCode > 12)
        #                        {
        #                            ret = checkFailed("@SPS2440");
        #                        }
        #                    }
        #                }
        #                break;
        #
        #            case fieldNum(CustTable, DefaultInventStatusId):
        #                if (this.DefaultInventStatusId && WHSInventStatus::isBlockingStatus(this.DefaultInventStatusId))
        #                {
        #                    ret = checkFailed("@WAX3363");
        #                }
        #                break;
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #validateIdentificationForCreditLimit
        #/// <summary>
        #/// Validates whether the identification number for the <c>CreditLimit</c> value is required.
        #/// </summary>
        #/// <returns>
        #/// true if the identification number is required; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #///  This method is called when the identification number is not entered. This method returns:
        #///  <list type="bullet">
        #///   <item>
        #///    <description>
        #///    false if the <c>CreditIdentificationRequire</c> enumeration value is Yes, the
        #///    <c>MandatoryCreditLimit</c> enumeration value is Yes, and the <c>CreditMax</c> value is larger than
        #///    zero.
        #///    </description>
        #///   </item>
        #///   <item>
        #///    <description>
        #///    false if the <c>CreditIdentificationRequire</c> enumeration value is Yes, the
        #///    <c>MandatoryCreditLimit</c> enumeration value is No, and the <c>CreditMax</c> value is larger than
        #///    or equal to zero.
        #///    </description>
        #///   </item>
        #///   <item>
        #///    <description>
        #///    false if the <c>CreditIdentificationRequire</c> enumeration value is the minimum limit and the
        #///    <c>CreditMax</c> value is larger than or equal to the <c>CreditLimit</c> value.
        #///    </description>
        #///   </item>
        #///   <item>
        #///    <description>
        #///    false if the <c>CreditIdentificationRequire</c> enumeration value is the minimum limit, the
        #///    <c>MandatoryCreditLimit</c> enumeration value is No, the <c>CreditMax</c> value is zero, and the
        #///    <c>CreditLimit</c> value is larger than zero.
        #///    </description>
        #///   </item>
        #///  </list>
        #/// </remarks>
        #private boolean validateIdentificationForCreditLimit()
        #{
        #    boolean         ret;
        #    CustParameters  custParameters;
        #
        #    #define.Zero(0)
        #
        #    custParameters = CustParameters::find();
        #    switch (custParameters.CreditIdentificationRequire)
        #    {
        #        case CreditIdentificationRequireType::Yes:
        #            if (this.MandatoryCreditLimit == NoYes::Yes && this.CreditMax > #Zero)
        #            {
        #                ret = false;
        #            }
        #            else if (this.MandatoryCreditLimit == NoYes::No && this.CreditMax >= #Zero)
        #            {
        #                ret = false;
        #            }
        #            else
        #            {
        #                ret = true;
        #            }
        #            break;
        #
        #        case CreditIdentificationRequireType::MinimumLimit:
        #            if (this.CreditMax >= custParameters.CreditLimit)
        #            {
        #                ret = false;
        #            }
        #            else if (this.CreditMax == #Zero && custParameters.CreditLimit > #Zero && this.MandatoryCreditLimit == NoYes::No)
        #            {
        #                ret = false;
        #            }
        #            else
        #            {
        #                ret = true;
        #            }
        #            break;
        #
        #        case CreditIdentificationRequireType::No:
        #            ret = true;
        #            break;
        #
        #        default:
        #            throw error(strFmt("@SYS12580",custParameters.CreditIdentificationRequire));
        #    }
        #
        #    return ret;
        #}
        #
      ENDSOURCE
      SOURCE #validateWrite
        #/// <summary>
        #///    Determines whether the current record is valid and ready to be written to the database.
        #/// </summary>
        #/// <returns>
        #///    true if the record is valid; otherwise, false.
        #/// </returns>
        #/// <remarks>
        #///    This method checks the identification number. If it is not entered it calls the
        #///    <c>validateIdentificationForCreditLimit</c> method to check the necessary conditions for the
        #///    identification number.
        #/// </remarks>
        #
        #boolean validateWrite()
        #{
        #    #isoCountryRegionCodes
        #    boolean                     ret;
        #    DirPartyType                type;
        #
        #    TaxRegistrationValidator_MX taxRegistrationValidator;
        #    // <GEERU>
        #    CustTable                   this_orig = this.orig();
        #    // </GEERU>
        #
        #    ret = super();
        #
        #    if (ret)
        #    {
        #        if (PaymTerm::isCashAccount(this.PaymTermId) && this.PaymSched)
        #        {
        #            ret = checkFailed("@SYS25074");
        #        }
        #
        #        if (!this.OneTimeCustomer && TaxVATNumTable::isVATNumMandatory(CustParameters::find().MandatoryVATNum, this))
        #        {
        #            ret = checkFailed("@SYS54494");
        #        }
        #
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoTH, #isoSA, #isoGB, #isoBR, #isoIE])
        #            && this.TaxWithholdCalculate_TH
        #            && this.TaxWithholdGroup_TH == '')
        #        {
        #            ret = checkFailed(strFmt("@SYS81766",
        #                                     fieldId2pname(tableNum(CustTable), fieldNum(CustTable, TaxWithholdCalculate_TH)),
        #                                     fieldId2pname(tableNum(CustTable), fieldNum(CustTable, TaxWithholdGroup_TH))));
        #        }
        #    }
        #
        #    // Add check MandatoryTaxGroup is set on CustParameters.
        #    if (ret && CustParameters::find().MandatoryTaxGroup && !this.TaxGroup)
        #    {
        #        ret = checkFailed("@SYS113299");
        #    }
        #
        #    if (!this.IdentificationNumber && this.Party)
        #    {
        #        if (!this.validateIdentificationForCreditLimit())
        #        {
        #            type = DirPartyTable::findRec(this.Party).type();
        #            switch (type)
        #            {
        #                case DirPartyType::Organization:
        #                    ret = checkFailed(strFmt("@SYS114304","@SYS114297"));
        #                    break;
        #
        #                case DirPartyType::Person:
        #                    ret = checkFailed(strFmt("@SYS114304","@SYS114298"));
        #                    break;
        #
        #                default:
        #                    throw error(strFmt("@SYS12580",type));
        #            }
        #        }
        #    }
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoMX]))
        #    {
        #        taxRegistrationValidator = TaxRegistrationValidator_MX::construct(this);
        #        ret = taxRegistrationValidator.validateCustomerTaxRegistration() && ret;
        #    }
        #
        #    if (this.MainContactWorker)
        #    {
        #        ret = ret && smmUtility::isValidWorkerInCurrentCompany(this.MainContactWorker);
        #    }
        #
        #    // <GEERU>
        #    if (   ret
        #        && SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU])
        #        && this_orig.VendAccount
        #        && this_orig.VendAccount != this.VendAccount)
        #    {
        #        if (! this.checkRelatedAgreement_RU())
        #        {
        #            ret = checkFailed("@GLS115694");
        #        }
        #    }
        #    // </GEERU>
        #
        #    return ret;
        #}
        #
      ENDSOURCE
      SOURCE #vendorAccountName
        #//BP Deviation Documented
        #display VendInvoiceAccountName vendorAccountName()
        #{
        #    VendTable       vend;
        #    DirPartyTable   party;
        #
        #    if (this.VendAccount)
        #    {
        #        select RecId from vend
        #            join Name from party
        #                where vend.AccountNum == this.VendAccount && party.RecId == vend.Party;
        #    }
        #    else
        #    {
        #        select RecId from vend
        #            join Name from party
        #                where vend.Party == this.Party;
        #    }
        #
        #    return party.Name;
        #}
      ENDSOURCE
      SOURCE #zipCode_BR
        #/// <summary>
        #///     Gets the zipcode based on the customer primary postal address
        #/// </summary>
        #/// <returns>
        #///     The zipcode.
        #/// </returns>
        #// <GBR>
        #display LogisticsAddressZipCodeId zipCode_BR()
        #{
        #    return this.postalAddress().ZipCode;
        #}
        #// </GBR>
      ENDSOURCE
      SOURCE #blocked
        #static CustVendorBlocked blocked(CustAccount _custAccount)
        #{
        #    return CustTable::find(_custAccount).Blocked;
        #}
      ENDSOURCE
      SOURCE #canCustomerBeUpdated
        #static boolean canCustomerBeUpdated(CustAccount         _custAccount,
        #                                    CustInvoiceAccount  _invoiceAccount,
        #                                    DocumentStatus      _documentStatus = DocumentStatus::None)
        #{
        #    boolean  ok = true;
        #
        #    if (_documentStatus == DocumentStatus::Invoice      ||
        #        _documentStatus == DocumentStatus::PickingList  ||
        #        _documentStatus == DocumentStatus::PackingSlip  ||
        #        // <GEERU>
        #        _documentStatus == DocumentStatus::FreeTextInvoice ||
        #        _documentStatus == DocumentStatus::Facture_RU)
        #        // </GEERU>
        #    {
        #        ok = (!(CustTable::blocked(_custAccount)    != CustVendorBlocked::No    ||
        #                CustTable::blocked(_invoiceAccount) != CustVendorBlocked::No));
        #    }
        #    else
        #    {
        #        ok = (!(CustTable::blocked(_custAccount) == CustVendorBlocked::All));
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #checkCreditLimit
        #server static boolean checkCreditLimit(CustAccount          _custAccount,
        #                                       TypeOfCreditmaxCheck _check          = CustParameters::find().CreditMaxCheck,
        #                                       AmountMST            _amountMST      = 0,
        #                                       // <GEERU>
        #                                       boolean              _warning          = CustParameters::find().CreditLineError == CreditLineErrorType::Warning,
        #                                       AgreementHeaderExtRecId_RU _agreementHeaderExtRecId = 0,
        #                                       TableId                    _tableId                 = 0,
        #                                       RecId                      _recId                   = 0
        #                                       )
        #                                       // </GEERU>
        #{
        #    //<GEERU>
        #    #ISOCountryRegionCodes
        #    //</GEERU>
        #
        #    CustCreditLimit     custCL = new CustCreditLimit(CustTable::find(_custAccount));
        #
        #    custCL.addAmountMST(_amountMST);
        #    custCL.typeOfCreditMaxCheck(_check);
        #    custCL.warning(_warning);
        #
        #    // <GEERU>
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]))
        #    {
        #        custCL.agreementCheckInit_RU(_agreementHeaderExtRecId, _tableId, _recId);
        #    }
        #    // </GEERU>
        #
        #    return (custCL.check() || _warning); // return true if warning is true regardless of the check
        #}
      ENDSOURCE
      SOURCE #checkEInvoiceEAN
        #public static boolean checkEInvoiceEAN(EinvoiceEANNum _einvoiceEANNum)
        #{
        #    boolean         ret          = true;
        #    EinvoiceEANNum  eanNum      = _einvoiceEANNum;
        #
        #    int             eanSum;
        #    Counter         c;
        #    int             multiply    = 3;
        #    char            chkDgt;
        #    #isoCountryRegionCodes
        #
        #
        #    if (eanNum)
        #    {
        #        if (strLen(eanNum) != 13)
        #        {
        #            ret = checkFailed(strFmt("@SYS100770", eanNum));
        #        }
        #
        #        if (ret && !str2IntOk(eanNum))
        #        {
        #            ret = checkFailed(strFmt("@SYS100771", eanNum));
        #        }
        #
        #        for (c = 12; c >= 1; c--)
        #        {
        #            eanSum += multiply * str2int(subStr(eanNum, c, 1));
        #
        #            if (multiply == 3)
        #            {
        #                multiply = 1;
        #            }
        #            else
        #            {
        #                multiply = 3;
        #            }
        #        }
        #
        #        chkDgt = int2str(any2int(roundUp(eanSum, 10)) - eanSum);
        #
        #        if (ret && subStr(eanNum, 13,1) != chkDgt)
        #        {
        #            ret = checkFailed(strFmt("@SYS100772", eanNum));
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkExist
        #static boolean checkExist(CustAccount _custAccount)
        #{
        #    boolean ret = true;
        #
        #    if (_custAccount && !CustTable::exist(_custAccount))
        #    {
        #        ret = checkFailed(strFmt(CustTable::txtNotExist(), _custAccount));
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #checkExistAndOpen
        #static boolean checkExistAndOpen(CustAccount    _custAccount,
        #                                 AmountCur      _amountCur)
        #{
        #    boolean     ret;
        #    CustTable   custTable;
        #
        #    custTable = CustTable::find(_custAccount);
        #
        #    if (! custTable)
        #    {
        #        ret = checkFailed(strFmt("@SYS4730", _custAccount));
        #    }
        #    else
        #    {
        #        ret = custTable.checkAccountBlocked(_amountCur);
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #confirmAndSaveCustGroupChange
        #/// <summary>
        #///     Shows a confirmation dialog box if the <c>CustGroup</c> field value is modified and reverts to previous value if user selects cancel.
        #/// </summary>
        #/// <param name="_custTable">
        #///     The <c>CustTable</c> buffer modified
        #/// </param>
        #/// <param name="isCustGroupSetOnce">
        #///     The value will be true, when a new record was created and user has already set the <c>CustGroup</c> value on the form once.
        #/// </param>
        #/// <returns>
        #///     True, if value was modified. False, if the value was reverted to the original value.
        #/// </returns>
        #public static boolean confirmAndSaveCustGroupChange(CustTable _custTable, boolean isCustGroupSetOnce)
        #{
        #    DialogButton    buttonClicked;
        #    boolean         canceled;
        #    boolean         valueModified;
        #
        #    if(_custTable.orig().CustGroup || isCustGroupSetOnce)
        #    {
        #        buttonClicked = Box::okCancel( "@SPS2398", DialogButton::Ok );
        #        canceled = (buttonClicked==DialogButton::Cancel);
        #    }
        #
        #    if(canceled)
        #    {
        #        _custTable.CustGroup = _custTable.orig().CustGroup;
        #        valueModified = false;
        #    }
        #    else
        #    {
        #        _custTable.DefaultDimension = CustGroup::find(_custTable.CustGroup).DefaultDimension;
        #        valueModified = true;
        #    }
        #
        #    return valueModified;
        #}
        #
      ENDSOURCE
      SOURCE #createOneTimeAccount
        #/// <summary>
        #/// Creates a one-time customer
        #/// </summary>
        #/// <param name="_common">
        #/// A record from which to initialize customer.
        #/// </param>
        #/// <returns>
        #/// The <c>CustAccount</c> object of the new customer.
        #/// </returns>
        #server static CustAccount createOneTimeAccount(Common _common)
        #{
        #    NumberSeq           numberSeq;
        #    CustomerEntity      customerEntity;
        #    CustTable           custTable;
        #
        #    //<GEERU>
        #    #ISOCountryRegionCodes
        #    //</GEERU>
        #
        #    // Can one time customer be created?
        #    if (!CustTable::createOneTimeAccountValidate())
        #        return '';
        #
        #    ttsbegin;
        #
        #    // Create one time account num
        #    numberSeq = NumberSeq::newGetNum(CustParameters::numRefOneTimeCustomerAccount());
        #
        #    // Load default customer, set new party, accountnum
        #    custTable = CustTable::find(CustParameters::find().DefaultCust);
        #    custTable.AccountNum = numberSeq.num();
        #    custTable.Party = 0;
        #
        #    customerEntity = DirParty::constructFromCommon(custTable,
        #                                                   DateTimeUtil::getSystemDateTime(),
        #                                                   DirPartyType::Organization,
        #                                                   true,
        #                                                   false);
        #
        #    switch (_common.TableId)
        #    {
        #        case  tableNum(CustInvoiceTable)  :
        #            customerEntity.initFromCustInvoiceTable(_common as CustInvoiceTable);
        #            break;
        #
        #        case  tableNum(SalesTable)  :
        #            customerEntity.initFromSalesTable(_common as SalesTable);
        #            break;
        #
        #        case  tableNum(SalesQuotationTable)  :
        #            customerEntity.initFromSalesQuotationTable(_common as SalesQuotationTable);
        #            break;
        #
        #        // <GEEU>
        #        case  tableNum(CzCustAdvanceInvoiceTable) :
        #            customerEntity.initFromCustAdvanceInvoiceTable_CZ(_common as CzCustAdvanceInvoiceTable);
        #            break;
        #
        #        // </GEEU>
        #        default :
        #            // <GEERU>
        #            if (_common.TableId == tableNum(CustTable) &&
        #                SysCountryRegionCode::isLegalEntityInCountryRegion([ #isoRU
        #                // <GEEU>
        #                , #isoPL, #isoCZ, #isoHU, #isoLT, #isoLV, #isoEE
        #                // </GEEU>
        #                ]))
        #            {
        #                customerEntity.parmName(DirPartyTable::getName(_common.(fieldNum(CustTable, Party))));
        #                custTable.OneTimeCustomer = true;
        #            }
        #            else
        #            {
        #            // </GEERU>
        #                throw error(strFmt("@SYS18917",tableId2name(_common.TableId)));
        #            // <GEERU>
        #            }
        #            // </GEERU>
        #    }
        #
        #    customerEntity.insert();
        #
        #    ttscommit;
        #
        #    return custTable.AccountNum;
        #}
      ENDSOURCE
      SOURCE #createOneTimeAccountValidate
        #static boolean createOneTimeAccountValidate()
        #{
        #    boolean ok = true;
        #
        #    if (!CustTable::find(CustParameters::find().DefaultCust))
        #    {
        #        ok = checkFailed("@SYS57574");
        #    }
        #
        #    return ok;
        #}
      ENDSOURCE
      SOURCE #creditMax
        #static AmountMST creditMax(CustAccount _custAccount)
        #{
        #    return CustTable::find(_custAccount).CreditMax;
        #}
      ENDSOURCE
      SOURCE #deleteOneTimeAccount
        #server static void deleteOneTimeAccount(CustAccount _custAccount)
        #{
        #    CustTable               custTable = CustTable::find(_custAccount);
        #    NumberSequenceTable     numberSequenceTable;
        #    NumberSequenceReference numberSequenceReference;
        #    SalesTable              salesTable;
        #
        #    if (!custTable)
        #    {
        #        return;
        #    }
        #
        #    select firstonly RecId from salesTable
        #        where salesTable.CustAccount == _custAccount;
        #
        #    if (salesTable.RecId)
        #    {
        #        return;
        #    }
        #
        #    ttsbegin;
        #
        #    delete_from custTable
        #        where custTable.AccountNum == _custAccount;
        #
        #    numberSequenceReference = CustParameters::numRefOneTimeCustomerAccount();
        #    if (numberSequenceReference)
        #    {
        #        numberSequenceTable = NumberSequenceTable::find(numberSequenceReference.NumberSequenceId);
        #        if (numberSequenceTable.Continuous)
        #        {
        #            NumberSeq::release(numberSequenceTable.NumberSequence, _custAccount);
        #        }
        #    }
        #
        #    ttscommit;
        #}
        #
      ENDSOURCE
      SOURCE #exist
        #static boolean exist(CustAccount _custAccount)
        #{
        #    return _custAccount && (select firstonly RecId from custTable
        #                                index hint AccountIdx
        #                                where custTable.AccountNum == _custAccount).RecId != 0;
        #}
      ENDSOURCE
      SOURCE #existDlvMode
        #/// <summary>
        #///    Checks whether the delivery mode is used on a customer record.
        #/// </summary>
        #/// <param name="_dlvModeId">
        #///    The <c>DlvModeId</c> value that specifies the delivery mode record.
        #/// </param>
        #/// <returns>
        #///    true if the deliver mode is used on a customer; otherwise, false.
        #/// </returns>
        #public static server boolean existDlvMode(DlvModeId _dlvModeId)
        #{
        #    CustTable       custTable;
        #
        #    if (_dlvModeId == '')
        #    {
        #        return false;
        #    }
        #
        #    select firstonly
        #        RecId from custTable
        #    where
        #        custTable.DlvMode == _dlvModeId;
        #
        #    return (custTable.RecId != 0);
        #}
        #
      ENDSOURCE
      SOURCE #existTransactions
        #/// <summary>
        #///    Checks whether the transactions exist for the specified customer account.
        #/// </summary>
        #/// <param name="_custAccount">
        #///    The <c>_custAccount</c> value that specifies the customer account.
        #/// </param>
        #/// <returns>
        #///    true if the transactions exist for that customer Account; otherwise, false.
        #/// </returns>
        #static boolean existTransactions(CustAccount _custAccount)
        #{
        #    CustTrans custTrans;
        #
        #    select firstonly RecId from custTrans
        #        where custTrans.AccountNum == _custAccount;
        #
        #    return (custTrans.RecId != 0);
        #}
      ENDSOURCE
      SOURCE #find
        #static CustTable find(CustAccount   _custAccount,
        #                      boolean       _forUpdate = false)
        #{
        #    CustTable custTable;
        #
        #    if (_custAccount)
        #    {
        #        if (_forUpdate)
        #        {
        #            custTable.selectForUpdate(_forUpdate);
        #        }
        #
        #        select firstonly custTable
        #            index hint AccountIdx
        #            where custTable.AccountNum == _custAccount;
        #    }
        #
        #    return custTable;
        #}
      ENDSOURCE
      SOURCE #findByCompany
        #/// <summary>
        #///    Finds the specified record in the <c>CustTable</c> table.
        #/// </summary>
        #/// <param name="_company">
        #///    The company for the customer record.
        #/// </param>
        #/// <param name="_custAccount">
        #///    The account number for the customer record.
        #/// </param>
        #/// <param name="_forUpdate">
        #///    A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #///    A record in the <c>CustTable</c> table; otherwise, an empty record.
        #/// </returns>
        #public static CustTable findByCompany(
        #    DataAreaId _company,
        #    CustAccount _custAccount,
        #    boolean _forUpdate = false)
        #{
        #    CustTable cust;
        #
        #    if (_company)
        #    {
        #        changecompany(_company)
        #        {
        #            cust = CustTable::find(_custAccount, _forUpdate);
        #        }
        #    }
        #
        #    return cust;
        #}
      ENDSOURCE
      SOURCE #findByDataAreaId
        #/// <summary>
        #///    Finds the specified record in the <c>CustTable</c> table.
        #/// </summary>
        #/// <param name="_custAccount">
        #///    The account number for the customer record.
        #/// </param>
        #/// <param name="_dataAreaId">
        #///    The Data Area for the customer record.
        #/// </param>
        #/// <param name="_forUpdate">
        #///    A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #///    A record in the <c>CustTable</c> table; otherwise, an empty record.
        #/// </returns>
        #public static CustTable findByDataAreaId(
        #    CustAccount _custAccount,
        #    DataAreaId _dataAreaId,
        #    boolean _forUpdate = false)
        #{
        #    CustTable custTable;
        #
        #    if (_custAccount && _dataAreaId)
        #    {
        #        if (_forUpdate)
        #        {
        #            custTable.selectForUpdate(_forUpdate);
        #        }
        #
        #        select firstonly crossCompany custTable
        #            where custTable.AccountNum == _custAccount
        #               && custTable.DataAreaId == _dataAreaId;
        #    }
        #
        #    return custTable;
        #}
      ENDSOURCE
      SOURCE #findByKanaName_JP
        #/// <summary>
        #///     Finds custTable record according to the kana name.
        #/// </summary>
        #/// <param name="_custNameKana">
        #///     Customer kana name
        #/// </param>
        #/// <param name="_forUpdate">
        #///     Flag for update
        #/// </param>
        #/// <returns>
        #///     CustTable record
        #/// </returns>
        #public static CustTable findByKanaName_JP(
        #    DirPartyName    _custNameKana,
        #    boolean         _forUpdate = false)
        #{
        #    CustTable       custTable;
        #    DirOrganization dirOrganization;
        #
        #    if (_custNameKana)
        #    {
        #        if (_forUpdate)
        #        {
        #            custTable.selectForUpdate(_forUpdate);
        #        }
        #
        #        select custTable
        #            join RecId, PhoneticName from dirOrganization
        #            where dirOrganization.RecId == custTable.Party
        #            && dirOrganization.PhoneticName == _custNameKana;
        #    }
        #
        #    return custTable;
        #}
      ENDSOURCE
      SOURCE #findByLedgerDimension
        #public static CustTable findByLedgerDimension(
        #    LedgerDimensionAccount  _ledgerDimension,
        #    boolean                 _forupdate = false,
        #    ConcurrencyModel        _concurrencyModel = ConcurrencyModel::Auto)
        #{
        #    CustTable                           custTable;
        #    DimensionAttributeValueCombination  ledgerDimension;
        #
        #    custTable.selectForUpdate(_forupdate);
        #    if (_forupdate  && _concurrencyModel != ConcurrencyModel::Auto)
        #    {
        #        custTable.concurrencyModel(_concurrencyModel);
        #    }
        #
        #    select firstonly custTable
        #        join RecId from ledgerDimension where
        #            ledgerDimension.DisplayValue == custTable.AccountNum &&
        #            ledgerDimension.RecId == _ledgerDimension;
        #
        #    return custTable;
        #}
      ENDSOURCE
      SOURCE #findByPartyRecId
        #[SysClientCacheDataMethodAttribute(true)]
        #static CustTable findByPartyRecId(DirPartyRecId   _partyRecId,
        #                               boolean _forUpdate = false)
        #{
        #    CustTable custTable;
        #
        #    if (_partyRecId)
        #    {
        #        if (_forUpdate)
        #        {
        #            custTable.selectForUpdate(_forUpdate);
        #        }
        #
        #        select firstonly custTable
        #            where custTable.Party == _partyRecId;
        #    }
        #    return custTable;
        #}
      ENDSOURCE
      SOURCE #findByRef
        #/// <summary>
        #/// Finds the specified record in the <c>CustTable</c> table.
        #/// </summary>
        #/// <param name="_refCompany">
        #/// The reference company of the <c>CustTable</c> record to find.
        #/// </param>
        #/// <param name="_custTableRecId">
        #/// The reference record ID of the <c>CustTable</c> record to find.
        #/// </param>
        #/// <param name="_forUpdate">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A record from the <c>CustTable</c> table; otherwise, an empty record.
        #/// </returns>
        #public static CustTable findByRef(
        #    CompanyId _refCompany,
        #    RecId _custTableRecId,
        #    boolean _forUpdate = false)
        #{
        #    CustTable custTable;
        #
        #    if (_refCompany != '' && _custTableRecId != 0)
        #    {
        #        custTable.selectForUpdate(_forUpdate);
        #
        #        select firstonly crossCompany custTable
        #            where custTable.DataAreaId == _refCompany &&
        #                custTable.RecId == _custTableRecId ;
        #    }
        #
        #    return custTable;
        #}
      ENDSOURCE
      SOURCE #findByVendor
        #/// <summary>
        #/// Finds the specified record in the <c>CustTable</c> table.
        #/// </summary>
        #/// <param name="_vendAccount">
        #/// The vendor account of the <c>CustTable</c> record to find.
        #/// </param>
        #/// <param name="_forUpdate">
        #/// A Boolean value that indicates whether to read the record for update; optional.
        #/// </param>
        #/// <returns>
        #/// A record from the <c>CustTable</c> table; otherwise, an empty record.
        #/// </returns>
        #// <GEEU>
        #public static CustTable findByVendor(VendAccount _vendAccount, boolean _forUpdate = false)
        #{
        #    CustTable custTable;
        #
        #    if(_vendAccount)
        #    {
        #        custTable.selectForUpdate(_forUpdate);
        #
        #        select firstonly custTable
        #            where custTable.VendAccount == _vendAccount;
        #    }
        #
        #    return custTable;
        #}
        #// </GEEU>
      ENDSOURCE
      SOURCE #findInvoiceAddressAccountFromParty
        #/// <summary>
        #/// Finds the customer invoice account entry for a given party.
        #/// </summary>
        #/// <param name="_partyRecId">
        #/// The party RecID to find the customer invoice account entry.
        #/// </param>
        #/// <param name="_forUpdate">
        #/// Whether the record should be select for update; optional.
        #/// </param>
        #/// <returns>
        #/// The customer invoice account for the given party RecID.
        #/// </returns>
        #public static CustTable findInvoiceAddressAccountFromParty(DirPartyRecId _partyRecId, boolean _forUpdate = false)
        #{
        #    CustTable   custTable;
        #
        #    custTable = CustTable::findByPartyRecId(_partyRecId, _forUpdate);
        #    if (custTable.InvoiceAddress == InvoiceOrderAccount::InvoiceAccount &&
        #        custTable.InvoiceAccount &&
        #        custTable.AccountNum != custTable.InvoiceAccount)
        #    {
        #        custTable = CustTable::find(custTable.InvoiceAccount, _forUpdate);
        #    }
        #
        #    return custTable;
        #}
      ENDSOURCE
      SOURCE #findRecId
        #static CustTable findRecId(RecId    _recId,
        #                           boolean  _forUpdate = false)
        #{
        #    CustTable custTable;
        #
        #    if (_recId)
        #    {
        #        custTable.selectForUpdate(_forUpdate);
        #
        #        select firstonly custTable
        #            where custTable.RecId == _recId;
        #    }
        #
        #    return custTable;
        #}
      ENDSOURCE
      SOURCE #getNumberSeqFormHandler
        #/// <summary>
        #/// Retrieves the numbersequenceformhandler that can be used in the form creation of this entity
        #/// to generate the numbersequence related field
        #/// </summary>
        #/// <param name="callerForm">
        #/// The form that will be using this numbersequenceformhandler to create this entity
        #/// </param>
        #/// <param name="numberSequenceDatasource">
        #/// The datasource that contains this entity on the creation form
        #/// </param>
        #/// <returns>
        #/// the numbersequenceformhandler that can be used in the form creation of this entity
        #/// </returns>
        #public static NumberSeqFormHandler getNumberSeqFormHandler(ObjectRun callerForm, FormDataSource numberSequenceDatasource)
        #{
        #    NumberSeqFormHandler numberSeqFormHandler;
        #    if (!numberSeqFormHandler)
        #    {
        #        numberSeqFormHandler = NumberSeqFormHandler::newForm(CustParameters::numRefCustAccount().NumberSequenceId,
        #                                                             callerForm,
        #                                                             numberSequenceDatasource,
        #                                                             fieldNum(CustTable, AccountNum)
        #                                                            );
        #    }
        #
        #    return numberSeqFormHandler;
        #}
      ENDSOURCE
      SOURCE #groupId
        #static CustGroupId groupId(CustAccount _custAccount)
        #{
        #    return CustTable::find(_custAccount).CustVendTable::groupId();
        #}
      ENDSOURCE
      SOURCE #inventSiteIdCustItem
        #/// <summary>
        #/// Looks up site ID for an item depending on the customer if multisite is enabled.
        #/// </summary>
        #/// <param name="_custAccount">
        #/// The customer buying the item.
        #/// </param>
        #/// <param name="_itemId">
        #/// The ID of the item.
        #/// </param>
        #/// <returns>
        #/// The site from which the item is sold to the customer.
        #/// </returns>
        #static InventSiteId inventSiteIdCustItem(CustAccount _custAccount, ItemId _itemId)
        #{
        #    InventItemSalesSetup inventItemSalesSetup = InventItemSalesSetup::findDefault(_itemId);
        #    CustTable            custTable;
        #    InventParameters     inventParameters;
        #    InventSiteId         inventSiteIdItem;
        #
        #    if (inventItemSalesSetup)
        #    {
        #        inventSiteIdItem = inventItemSalesSetup.inventSiteId();
        #
        #        if (inventItemSalesSetup.MandatoryInventSite)
        #        {
        #            return inventSiteIdItem;
        #        }
        #    }
        #
        #    custTable = CustTable::find(_custAccount);
        #
        #    if (custTable.InventSiteId)
        #    {
        #        return custTable.InventSiteId;
        #    }
        #
        #    if (inventSiteIdItem)
        #    {
        #        return inventSiteIdItem;
        #    }
        #
        #    inventParameters = InventParameters::find();
        #
        #    if (inventParameters.fallbackSiteId())
        #    {
        #        return inventParameters.fallbackSiteId();
        #    }
        #
        #    return '';
        #}
      ENDSOURCE
      SOURCE #isCustDKPublic
        #/// <summary>
        #/// Determines whether sending invoice electronically is applicable for specified customer or not.
        #/// </summary>
        #/// <param name="_invoiceAccount">
        #/// Customer account.
        #/// </param>
        #/// <returns>
        #/// Yes if  sending invoice electronically is applicable for specified customer otherwise No.
        #/// </returns>
        #public static NoYes isCustDKPublic(CustInvoiceAccount _invoiceAccount)
        #{
        #    CustTable custTable;
        #    boolean     ret = false;
        #
        #    #isoCountryRegionCodes
        #
        #    custTable = CustTable::find(_invoiceAccount);
        #
        #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoDK, #isoNO, #isoAT]) && custTable.eInvoice == NoYes::Yes)
        #    {
        #        if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoDK]))
        #        {
        #            if (custTable.EinvoiceEANNum)
        #            {
        #                  ret = true;
        #            }
        #        }
        #        else
        #        {
        #            ret = true;
        #        }
        #    }
        #
        #    return ret;
        #}
      ENDSOURCE
      SOURCE #jumpRefCustomer
        #client static void jumpRefCustomer(CustVendAC  _accountNum, CompanyId _companyId  = curext())
        #{
        #    Args        args;
        #    CompanyId   companyId;
        #    FormRun     formRun;
        #
        #    companyId = _companyId;
        #    if (! xDataArea::exist(companyId))
        #    {
        #        throw error(strFmt("@SYS10666", companyId));
        #    }
        #
        #    changecompany(companyId)
        #    {
        #        args = new Args(formStr(CustTable));
        #        if (_accountNum)
        #        {
        #            args.record(CustTable::find(_accountNum));
        #        }
        #        else
        #        {
        #            args.record(args.record());
        #        }
        #        formRun = classfactory.formRunClass(args);
        #        formRun.init();
        #        formRun.run();
        #        formRun.wait();
        #    }
        #}
        #
      ENDSOURCE
      SOURCE #lookupCustomer
        #client static void lookupCustomer(FormControl _formControl, CompanyId _companyId  = curext())
        #{
        #    FormSegmentedEntryControl formSegmentedEntryControl;
        #    FormStringControl   formStringControl;
        #    Args        args;
        #    CompanyId   companyId;
        #    FormRun     formRun;
        #
        #    // The following block is needed for the case that intercompany transactions is disabled and someone passes
        #    // in an empty string. Ideally one would remove the "curext()" defaulting from the paramter list, but this
        #    // code was added as part of a bug fix, and did not have the scope or need of changing the interface.
        #    if (!_companyId)
        #    {
        #        companyId = curext();
        #    }
        #    else
        #    {
        #        companyId = _companyId;
        #        if (! xDataArea::exist(companyId))
        #        {
        #            throw error(strFmt("@SYS10666", companyId));
        #        }
        #    }
        #
        #    changecompany(companyId)
        #    {
        #        args = new Args();
        #        args.name(formStr(CustTableLookup));
        #        args.caller(_formControl);
        #        args.lookupField(fieldNum(CustTable, AccountNum));
        #        if (_formControl is FormStringControl)
        #        {
        #            formStringControl = _formControl as FormStringControl;
        #            args.lookupValue(formStringControl.text());
        #        }
        #        else if (_formControl is FormSegmentedEntryControl)
        #        {
        #            formSegmentedEntryControl = _formControl as FormSegmentedEntryControl;
        #            args.lookupValue(formSegmentedEntryControl.valueStr());
        #        }
        #        else
        #        {
        #            throw error(Error::wrongUseOfFunction(funcName()));
        #        }
        #
        #        formRun = classfactory.formRunClass(args);
        #        formRun.init();
        #        if (_formControl is FormStringControl)
        #        {
        #            formStringControl = _formControl as FormStringControl;
        #            formStringControl.performFormLookup(formRun);
        #        }
        #        else if (_formControl is FormSegmentedEntryControl)
        #        {
        #            formSegmentedEntryControl = _formControl as FormSegmentedEntryControl;
        #            formSegmentedEntryControl.performFormLookup(formRun);
        #        }
        #        else
        #        {
        #            throw error(Error::wrongUseOfFunction(funcName()));
        #        }
        #    }
        #}
      ENDSOURCE
      SOURCE #mcrLookupTradePromoCustomers
        #/// <summary>
        #/// Looks up trade promotion customers for the passed form control object.
        #/// </summary>
        #/// <param name="_ctrl">
        #/// The form control object for which this method finds trade promotion customers.
        #/// </param>
        #public static void mcrLookupTradePromoCustomers(FormStringControl _ctrl)
        #{
        #    SysTableLookup          sysTableLookup = SysTableLookup::newParameters(tableNum(CustTable), _ctrl);
        #    Query                   query = new Query();
        #    QueryBuildDataSource    qbdsCustTable;
        #    SysDictTable            dictTable;
        #
        #    qbdsCustTable = query.addDataSource(tableNum(CustTable));
        #
        #    sysTableLookup.addLookupfield(fieldNum(CustTable, AccountNum));
        #
        #    dictTable = new SysDictTable(tableNum(CustTable));
        #    if (dictTable.isMethodActual(identifierStr(Name)))
        #    {
        #        sysTableLookup.addLookupMethod(identifierStr(Name));
        #    }
        #
        #    sysTableLookup.parmQuery(query);
        #    sysTableLookup.performFormLookup();
        #}
        #
      ENDSOURCE
      SOURCE #mcrMergeCustomers
        #/// <summary>
        #/// Merges the passed customers together.
        #/// </summary>
        #/// <param name="_mergeFromCust">
        #/// The <c>CustAccount</c> object being merged into another customer.
        #/// </param>
        #/// <param name="_mergeToCust">
        #/// The <c>CustAccount</c> object that the from customer account is being merged to.
        #/// </param>
        #/// <returns>
        #/// The results of the merged <c>CustAccount</c> records.
        #/// </returns>
        #public static CustTable mcrMergeCustomers(CustAccount _mergeFromCust, CustAccount _mergeToCust)
        #{
        #    MCRMergeConfirmationConfigure   mergConfirmationConfigure = new MCRMergeConfirmationConfigure();
        #    Args                            args;
        #    FormRun                         formRun;
        #    CustTable                       custTableReturn;
        #
        #    // error checking that two records are selected
        #    if (!_mergeFromCust || !_mergeToCust)
        #    {
        #        error("@MCR12295");
        #    }
        #    else
        #    {
        #        mergConfirmationConfigure.parmMergedFromCust(_mergeFromCust);
        #        mergConfirmationConfigure.parmMergedToCust(_mergeToCust);
        #
        #        args = new Args();
        #        args.name(formStr(MCRMergeConfirmationForm));
        #        args.parmObject(mergConfirmationConfigure);
        #
        #        formRun = classfactory.formRunClass(args);
        #        formRun.init();
        #        formRun.run();
        #        formRun.wait();
        #
        #        if (args.parm())
        #        {
        #            custTableReturn = CustTable::find(args.parm());
        #        }
        #    }
        #
        #    return custTableReturn;
        #}
      ENDSOURCE
      SOURCE #projPriceGroup
        #static ProjPriceGroupID projPriceGroup(CustAccount _custAccount)
        #{
        #    if (_custAccount)
        #    {
        #        return (select firstonly PriceGroup from custTable
        #                where custTable.AccountNum == _custAccount).PriceGroup;
        #    }
        #
        #    return "";
        #}
        #
      ENDSOURCE
      SOURCE #promptAddress
        #static str promptAddress(CustAccount _custAccount, LogisticsLocationRoleType _roleType = LogisticsLocationRoleType::None)
        #{
        #    CustTable                  custTable   = CustTable::find(_custAccount);
        #    LogisticsPostalAddress     address     = LogisticsLocationEntity::findPostalAddress(custTable, _roleType);
        #
        #    if (address)
        #    {
        #        return (custTable.name() + '\n' + address.Address);
        #    }
        #
        #    return (custTable.name() + '\n' + custTable.postalAddress().Address);
        #}
      ENDSOURCE
      SOURCE #promptConvertCurrencyCode
        #client static boolean promptConvertCurrencyCode(CustAccount _custAccount)
        #{
        #    return (Box::yesNo("@SYS81865", DialogButton::Yes) == DialogButton::Yes);
        #}
      ENDSOURCE
      SOURCE #quickCreateSaveAndOpenLinks
        #public static container quickCreateSaveAndOpenLinks()
        #{
        #    container saveAndOpenLinks;
        #
        #    saveAndOpenLinks += [menuitemDisplayStr(CustTableEditDetails), MenuItemType::Display];
        #    saveAndOpenLinks += [menuitemActionStr(SalesCreateQuotation), MenuItemType::Action];
        #
        #    // Retail SMB doesn't support project quotation
        #    if (!RetailSMB::IsRetailSMBEnabled())
        #    {
        #        saveAndOpenLinks += [menuitemDisplayStr(SalesQuotationProjTableForNew), MenuItemType::Display];
        #    }
        #
        #    saveAndOpenLinks += [menuitemActionStr(SalesCreateOrderFromCustomer), MenuItemType::Action];
        #
        #    return saveAndOpenLinks;
        #}
      ENDSOURCE
      SOURCE #retreiveQuickCreateSettings
        #/// <summary>
        #/// Retrieves the needed metadata for the quick create form
        #/// </summary>
        #/// <returns>
        #/// Container with needed metadata for quick create form
        #/// </returns>
        #public static container retreiveQuickCreateSettings()
        #{
        #    container quickCreateSettings;
        #    quickCreateSettings += [CustTable::quickCreateSaveAndOpenLinks()];
        #
        #    return quickCreateSettings;
        #}
      ENDSOURCE
      SOURCE #txtNotExist
        #static TxtNotExist txtNotExist()
        #{
        #    return "@SYS9779";
        #}
      ENDSOURCE
    ENDMETHODS
    EVENTS
      METHOD #initValue
        EVENTHANDLERS
          EVENTHANDLER #postInitValue_BR
            PROPERTIES
              CalledWhen          #Post
              Class               #CustTableEventHandler_BR
              Method              #postInitValueHandler_BR
              AOTlink             #\Classes\CustTableEventHandler_BR\postInitValueHandler_BR
            ENDPROPERTIES
            
          ENDEVENTHANDLER
        ENDEVENTHANDLERS
      ENDMETHOD
      METHOD #modifiedField
        EVENTHANDLERS
          EVENTHANDLER #postModifiedField_BR
            PROPERTIES
              CalledWhen          #Post
              Class               #CustTableEventHandler_BR
              Method              #postModifiedFieldHandler_BR
              AOTlink             #\Classes\CustTableEventHandler_BR\postModifiedFieldHandler_BR
            ENDPROPERTIES
            
          ENDEVENTHANDLER
        ENDEVENTHANDLERS
      ENDMETHOD
      METHOD #validateField
        EVENTHANDLERS
          EVENTHANDLER #postValidateField_BR
            PROPERTIES
              CalledWhen          #Post
              Class               #CustTableEventHandler_BR
              Method              #postValidateFieldHandler_BR
              AOTlink             #\Classes\CustTableEventHandler_BR\postValidateFieldHandler_BR
            ENDPROPERTIES
            
          ENDEVENTHANDLER
        ENDEVENTHANDLERS
      ENDMETHOD
      METHOD #validateWrite
        EVENTHANDLERS
          EVENTHANDLER #postValidateWrite_BR
            PROPERTIES
              CalledWhen          #Post
              Class               #CustTableEventHandler_BR
              Method              #postValidateWriteHandler_BR
              AOTlink             #\Classes\CustTableEventHandler_BR\postValidateWriteHandler_BR
            ENDPROPERTIES
            
          ENDEVENTHANDLER
        ENDEVENTHANDLERS
      ENDMETHOD
    ENDEVENTS
  ENDTABLE
  

***Element: UTS

; Microsoft Dynamics AX String: VetBreedId unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #VetBreedId
  STRING
    PROPERTIES
      Name                #VetBreedId
      Label               #Breed Id
      Origin              #{7217287D-781F-481A-BE52-9010F7BA01C9}
      Extends             #SysGroup
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
    TYPELOOKUPS
    ENDTYPELOOKUPS
    
  ENDUSERTYPE
  

***Element: UTS

; Microsoft Dynamics AX String: VetSpeciesId unloaded
; --------------------------------------------------------------------------------
  USERTYPEVERSION 6
  
  USERTYPE #VetSpeciesId
  STRING
    PROPERTIES
      Name                #VetSpeciesId
      Label               #Species Id
      Origin              #{7EDEFF65-33C9-4AFC-8807-0664D0229F17}
      ReferenceTable      #VetSpeciesTable
      Extends             #SysGroup
    ENDPROPERTIES
    
    TYPEELEMENTS
    ENDTYPEELEMENTS
    
    TYPEREFERENCES
    ENDTYPEREFERENCES
    
    TYPELOOKUPS
      TYPELOOKUP LOOKUP
      PROPERTIES
        Table               #VetSpeciesTable
        RelatedField        #SpeciesId
      ENDPROPERTIES
      
    ENDTYPELOOKUPS
    
  ENDUSERTYPE
  

***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #CustomersInfoAndSalesOrdersV2
  PROPERTIES
    Name                #CustomersInfoAndSalesOrdersV2
    Origin              #{C167686E-7087-493D-BEE8-9CF300F3D2BA}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #    info("This message is from init method");
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustTable
          Table               #CustTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Style               #DetailsFormTransaction
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPaneHeader
          ElementPosition     #715827882
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #LinesActionPaneStrip
          ElementPosition     #1073741822
          HierarchyParent     #LineViewLines
          Style               #Strip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #HeaderHomeTab
          ElementPosition     #1431655764
          HierarchyParent     #ActionPaneHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #LinesActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #LinesActionPaneStrip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #AttachmentsGroup
          ElementPosition     #1840700268
          HierarchyParent     #HeaderHomeTab
          Caption             #@SYS316708
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LinesRecordActions
          ElementPosition     #1431655764
          HierarchyParent     #LinesActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ListGroup
          AutoDeclaration     #Yes
          ElementPosition     #1533916890
          HierarchyParent     #HeaderHomeTab
          Caption             #@SYS118440
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #MaintainGroup
          ElementPosition     #613566756
          HierarchyParent     #HeaderHomeTab
          Caption             #@SYS316703
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #NewGroup
          ElementPosition     #920350134
          HierarchyParent     #HeaderHomeTab
          Caption             #@SYS2055
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ShowGroup
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #HeaderHomeTab
          Caption             #@SYS317437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #HeaderGrid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #LinesGrid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #LineViewLines
          VisibleRows         #5
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGroup
          ElementPosition     #1431655764
          HierarchyParent     #TabPageGrid
          Style               #BorderlessGridContainer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderInfo
          ElementPosition     #1073741822
          HierarchyParent     #TabPageDetails
          Style               #DetailTitleContainer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #DetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #TabPageDetails
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #HeaderDetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #HeaderView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineDetailsTabs
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #LineViewLineDetails
          Style               #IndexTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineViewTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #LineView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #Tab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #tabChanged
            #public void tabChanged(int _FromTab, int _ToTab)
            #{
            #    super(_FromTab, _ToTab);
            #
            #    element.lock();
            #
            #    // Buttons to show in Grid View
            #    EditDetailsButton.visible(TabPageGrid.isActivePage());
            #    ListGroup.visible(TabPageGrid.isActivePage());
            #
            #    // Buttons to show in Details View
            #    EditRecordButton.visible(!TabPageGrid.isActivePage());
            #    ShowGroup.visible(!TabPageGrid.isActivePage());
            #
            #    element.unLock();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #HeaderGeneral
          ElementPosition     #1431655764
          HierarchyParent     #HeaderDetailsTab
          Caption             #@SYS2952
          Columns             #Auto
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #HeaderView
          ElementPosition     #1610612733
          HierarchyParent     #DetailsTab
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineGeneral
          ElementPosition     #1431655764
          HierarchyParent     #LineDetailsTabs
          Caption             #@SYS2952
          Columns             #Auto
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineView
          ElementPosition     #1073741822
          HierarchyParent     #DetailsTab
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewHeader
          ElementPosition     #858993458
          HierarchyParent     #LineViewTab
          Columns             #Auto
          FastTabExpanded     #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLineDetails
          ElementPosition     #1717986916
          HierarchyParent     #LineViewTab
          Caption             #@SYS23823
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          FastTabExpanded     #No
          Scrollbars          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLines
          Height              #Column height
          ElementPosition     #1288490187
          HierarchyParent     #LineViewTab
          FastTabExpanded     #Always
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageDetails
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #Tab
          Style               #DetailsFormDetails
          PanelStyle          #Details
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageGrid
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #Tab
          ViewEditMode        #Edit
          Style               #DetailsFormGrid
          PanelStyle          #Grid
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #AddLine
          ElementPosition     #1073741822
          HierarchyParent     #LinesRecordActions
          Text                #@SYS319116
          ButtonDisplay       #Text & Image left
          NormalImage         #10009
          ImageLocation       #EmbeddedResource
          MultiSelect         #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #AttachmentsButton
          ElementPosition     #1431655764
          HierarchyParent     #AttachmentsGroup
          Text                #@SYS316708
          NormalImage         #10442
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Command             #2853
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteButton
          ElementPosition     #1717986916
          HierarchyParent     #MaintainGroup
          Text                #@SYS14425
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #EditRecordButton
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #MaintainGroup
          Text                #@SYS317438
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #4471
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #ExportToExcelButton
          ElementPosition     #1610612733
          HierarchyParent     #ListGroup
          NormalImage         #10156
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Command             #4436
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #HeaderViewButton
          ElementPosition     #1073741822
          HierarchyParent     #ShowGroup
          NormalImage         #12133
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1320
          ToggleButton        #Radio
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineViewButton
          ElementPosition     #1610612733
          HierarchyParent     #ShowGroup
          NormalImage         #12134
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1321
          ToggleButton        #Radio
          ToggleValue         #On
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #RefreshButton
          HelpText            #@SYS315818
          ElementPosition     #1073741822
          HierarchyParent     #ListGroup
          NormalImage         #11437
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Command             #2875
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #RemoveLine
          ElementPosition     #1610612733
          HierarchyParent     #LinesRecordActions
          Text                #@SYS135131
          ButtonDisplay       #Text & Image left
          NormalImage         #11400
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          MultiSelect         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EditDetailsButton
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1288490187
          HierarchyParent     #MaintainGroup
          Text                #@SYS317438
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          OpenMode            #Edit
          CopyCallerQuery     #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #NewButton
          ElementPosition     #1431655764
          HierarchyParent     #NewGroup
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          OpenMode            #New
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderTitle
          Skip                #Yes
          ElementPosition     #1431655764
          HierarchyParent     #HeaderInfo
          Style               #TitleField
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #CustomersInfoAndSalesOrders
  PROPERTIES
    Name                #CustomersInfoAndSalesOrders
    FormTemplate        #DetailsPage
    InteractionClass    #CustTableInteraction
    Origin              #{D5C86E9E-7051-41B4-A783-23EF3084CF9F}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    SysFormSplitter_Y               _formSplitterVertical;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #    _formSplitterVertical   = new SysFormSplitter_Y(ctrlSplitVertical, CustomerInfo, this);
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustTable
          Table               #CustTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    this.queryBuildDataSource().sortClear();
          #    this.queryBuildDataSource().addSortField(fieldNum(CustTable,totalValueOfSalesV2()),SortOrder::Descending);
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
          JoinSource          #CustTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
    SalesTable CustTable
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Width               #Column width
      Height              #Column height
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #CustomerInfo
          DataSource          #CustTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Grid1
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #SalesOrders
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CtrlSplitVertical
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
        ENDPROPERTIES
        
        METHODS
          SOURCE #mouseDown
            #int mouseDown(int x, int y, int button, boolean ctrl, boolean shift)
            #{
            #    int ret;
            #    ret = super(x, y, button, ctrl, shift);
            #    return _formSplitterVertical.mouseDown(x, y, button, ctrl, shift);
            #}
          ENDSOURCE
          SOURCE #mouseMove
            #int mouseMove(int x, int y, int button, boolean ctrl, boolean shift)
            #{
            #    int ret;
            #    ret = super(x, y, button, ctrl, shift);
            #    return _formSplitterVertical.mouseMove(x,y,button,ctrl,shift);
            #}
          ENDSOURCE
          SOURCE #mouseUp
            #int mouseUp(int x, int y, int button, boolean ctrl, boolean shift)
            #{
            #    int ret;
            #    ret = super(x, y, button, ctrl, shift);
            #    return _formSplitterVertical.mouseUp(x, y, button, ctrl, shift);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CustomerInfo
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #536870911
          DataSource          #CustTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesOrders
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_BankDocumentType
          ElementPosition     #976128930
          HierarchyParent     #Grid1
          DataSource          #SalesTable
          DataField           #BankDocumentType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #SalesTable_AddressRefTableId
          ElementPosition     #585677358
          HierarchyParent     #Grid1
          DataSource          #SalesTable
          DataField           #AddressRefTableId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #SalesTable_CovStatus
          ElementPosition     #1171354716
          HierarchyParent     #Grid1
          DataSource          #SalesTable
          DataField           #CovStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #totalNumberSales
          ElementPosition     #1861152492
          HierarchyParent     #Grid
          Label               #Number of sales
          DataSource          #CustTable
          DataMethod          #totalNumberSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SumOfLineAmount
          ElementPosition     #1757032074
          HierarchyParent     #Grid1
          DataSource          #SalesTable
          DataMethod          #SumOfLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #totalValueOfSalesV2
          ElementPosition     #2004318068
          HierarchyParent     #Grid
          DataSource          #CustTable
          DataMethod          #totalValueOfSalesV2
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustTable_AccountNum
          ElementPosition     #858993458
          HierarchyParent     #Grid
          DataSource          #CustTable
          DataField           #AccountNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustTable_BankAccount
          ElementPosition     #1717986916
          HierarchyParent     #Grid
          DataSource          #CustTable
          DataField           #BankAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustTable_Currency
          ElementPosition     #1288490187
          HierarchyParent     #Grid
          DataSource          #CustTable
          DataField           #Currency
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MostExpensiveUnitPrice
          ElementPosition     #1952257860
          HierarchyParent     #Grid1
          DataSource          #SalesTable
          DataMethod          #MostExpensiveUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_BankAccount_LV
          ElementPosition     #780903144
          HierarchyParent     #Grid1
          DataSource          #SalesTable
          DataField           #BankAccount_LV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_createdBy
          ElementPosition     #1366580502
          HierarchyParent     #Grid1
          DataSource          #SalesTable
          DataField           #createdBy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CustAccount
          ElementPosition     #1561806288
          HierarchyParent     #Grid1
          DataSource          #SalesTable
          DataField           #CustAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesId
          ElementPosition     #390451572
          HierarchyParent     #Grid1
          DataSource          #SalesTable
          DataField           #SalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #CopyOfSalesTable
  PROPERTIES
    Name                #CopyOfSalesTable
    FormTemplate        #DetailsPage
    InteractionClass    #SalesTableInteraction
    Origin              #{8C7457BF-E8FC-4CA1-8882-796AC23FE584}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #class       FormRun
      #extends     ObjectRun
      #{
      #    #task
      #    boolean                         isCalledFromLP;
      #    SalesTableForm                  salesTableForm;
      #    SalesTableType                  salesTableType;
      #    SalesId                         newSalesId;
      #
      #    boolean                         isReturnFieldsEnabled;
      #    boolean                         isDocuActionTemplate;
      #    //<GTH>
      #    boolean                         isSalesTableExtensionTHEnabled;
      #    //</GTH>
      #    boolean                         isSalesTableWEnabled;
      #    boolean                         isRetailOrder;
      #    boolean                         retailOrderNeedRecalculation;
      #
      #
      #    // Used for validateWrite and write to update tax groups on misc. charges and header2lines updates
      #    DialogButton                    copyTaxGroupToMarkupTrans;
      #    SalesTable2LineUpdatePrompt     salesTable2LineUpdatePrompt;
      #
      #    QueryBuildRange                 queryBuildRangeProjId;
      #    QueryBuildRange                 queryBuildRangeSalesId;
      #
      #    InventDimCtrl_Frm_Mov           inventDimFormSetup;
      #
      #    SalesId                         oldSalesId;
      #
      #    boolean                         headerError;
      #    boolean                         askingModifyInvoiced;
      #
      #    QuotationId                     lastQuotation;
      #    TransDate                       lastQuotationDate;
      #    ConfirmId                       lastConfirm;
      #    TransDate                       lastConfirmDate;
      #    PickingListId                   lastPickingList;
      #    TransDate                       lastPickingListDate;
      #    PackingSlipId                   lastPackingSlip;
      #    TransDate                       lastPackingSlipDate;
      #    InvoiceId                       lastInvoice;
      #    TransDate                       lastInvoiceDate;
      #    //PBA begin
      #    boolean                         autoConfig;
      #    boolean                         deleting;
      #    // PBA end
      #
      #    Object                          tmpSalesTableTaxTransForm;
      #    // <GIN>
      #    Object                          tmpSalesTableTaxWithholdTransForm;
      #    boolean                         isIndiaIndirectTaxParameterMarked;
      #    boolean                         isIndiaWHTMarked;
      #    TaxExciseTypeController_IN      taxExciseTypeController;
      #    boolean                         isSalesLine_INEnabled;
      #    boolean                         isIN;
      #    // </GIN>
      #
      #    RecId                           interCompanyIsPriceDiscSearchNeeded;
      #
      #    boolean                         cashDiscOnInvoice;
      #
      #    Addressing                      oldThirdPartyBillingAddr;
      #
      #    LedgerDimensionDefaultAccountController     ledgerDefaultAccountController;
      #
      #    boolean                         keepName; // When set to false Name is defaulted from category description.
      #    LogisticsLocationRecId          postalAddressLocation;
      #
      #    BankLCExportFeatureChecker      bankLCExportFeatureChecker;
      #    BankLGFeatureChecker            bankLGFeatureChecker;
      #    boolean                         enableLCFeature;
      #    boolean                         enableLGFeature;
      #
      #    DimensionDefaultingController   dimensionDefaultingControllerTable;
      #    DimensionDefaultingController   dimensionDefaultingControllerLine;
      #
      #    ImageListAppl                   imageList;
      #    InventItemBarcode               itemBarcode;
      #    // <GEERU>
      #    boolean                         isRU;
      #    Map                             itemInventDimSetupCache;
      #    #ISOCountryRegionCodes
      #    // </GEERU>
      #    // <GCN>
      #    boolean                         taxIntegrationSystem_CN;
      #    // </GCN>
      #
      #    DueDate                         priorDueDate;
      #
      #    // <GBR>
      #    SalesPurchOperationTypeController_BR salesPurchOperationTypeController_BR;
      #    // </GBR>
      #    // <GEEU>
      #    boolean                         countryRegion_EEU;
      #    // </GEEU>
      #
      #    //<GTH>
      #    boolean                         isUnrealizedVATEnabled;
      #    //</GTH>
      #    // <GEEPL>
      #    boolean                         countryRegion_PL;
      #    // </GEEPL>
      #
      #    boolean                         skipLinkActive;
      #    boolean                         linkActiveHeaderExecuted;
      #    // Variables used to communicate between CustomerService and SalesTable
      #    MCRCustomerServiceParam         mcrCustomerServiceParm;
      #    SalesCreateOrderForm            salesCreateOrderForm;
      #    // Source Code
      #    MCRSourceID                     mcrLastSourceId;
      #    // Price override needs to save values off depending on whether it is
      #    // a price override, or the user is turning off an override. These values will be
      #    // used to write an order event.
      #    MCROrderEventType               mcrLinePriceOverrideEventType;
      #    RetailInformationSubcodeId      mcrLinePriceOverrideReasonCode;
      #    UserId                          mcrLinePriceOverrideUserId;
      #    // Similar to line price override values above, but for header override.
      #    MCROrderEventType               mcrHeaderPriceOverrideEventType;
      #    RetailInformationSubcodeId      mcrHeaderPriceOverrideReasonCode;
      #    UserId                          mcrHeaderPriceOverrideUserId;
      #    SalesEndDiscPct                 mcrHeaderPriceOverrideDiscPct;
      #    // track open orders that have been modified
      #    SalesTable                      openOrderSalesTable;
      #    // The source code script is comprised of strings coming from code
      #    // launched from multiple locations.  This variable stores the concatination
      #    // of these strings.
      #    str                             sourceCodeScripts;
      #    boolean                         enterOrderFromNewCust;
      #    // Determine which shipto tab to make active when switching records
      #    boolean                         shipToTabActive;
      #    boolean                         advanced;
      #    // map to store the available quantity.
      #    Map                             availableQtyMap;
      #    // Used to signify form is called by Returns
      #    boolean                         returnProcessing;
      #    // Variables needed to have personalization execute correctly
      #    boolean                         executePersonalization;
      #    QueryBuildRange                 queryRange;
      #    QueryBuildRange                 queryQtyRange;
      #    QueryBuildRange                 queryOptionsRefRange;
      #    QueryBuildRange                 queryGroupRange;
      #    InventQty                       salesLineMaxQty;
      #    int64                           curQty;
      #    boolean                         inTextLine;
      #    boolean                         onInit;
      #    boolean                         fromQty;
      #    boolean                         fromLostControl;
      #    boolean                         itemChanged;
      #    Map                             map;
      #    FilePath                        filePath;
      #    boolean                         blockSalesLineDelete;
      #    boolean                         mcrProcessingDeliverySchedule;
      #    // Used to track when to update the MCRScriptText
      #    int                             mcrSkipScript;
      #    // Margin Alerts
      #    Map                             marginMap;
      #    // Script & image
      #    MCRLoadImageFile                mcrLoadImageFile;
      #    MCRNotes                        mcrScript;
      #    URL                             mcrImageUrl;
      #    MCRSalesTableConfigure          salesTableConfigure;
      #    MCROrderParameters              mcrOrderParameters;
      #    RetailMCRChannelTable           retailMCRChannelTable;
      #    NoYes                           enableDirectedSelling;
      #    NoYes                           enableOrderCompletion;
      #    NoYes                           enableOrderPriceControl;
      #    CustParameters                  custParameters;
      #    SalesParameters                 salesParameters;
      #    boolean                         mcrParmsSet;
      #    boolean                         mcrCallCenterEnabled;
      #    boolean                         mcrCallCenterOrder;
      #    boolean                         mcrGiftCardPoliciesEnabled;
      #    boolean                         mcrProcessGiftCardsAsPrepayments_RU;
      #    SysExtensionSerializerFormRunHelper formRunHelper;
      #    MCRSalesOrderGiftCardPolicyHelper giftCardPolicyCache;
      #
      #    UnknownNoYes                    performIntercompanyValidationCache;
      #    boolean                         inDeleteMarked;
      #    // <GMY>
      #    boolean                             isIsoMY;
      #    boolean                             isSalesLineWEnabled;
      #    boolean                             isWrnPrintedMY;
      #    CustInvoiceJourLookupController_MY  custInvoiceJourLookupController;
      #    // </GMY>
      #}
    ENDSOURCE
    SOURCE #allowEditIssueOwnEntryCertificate_W
      #/// <summary>
      #///    This method allows or restricts editing of the <c>Issue own certificate</c> field
      #///    depending on the value of the <c>Entry certificate required</c> field.
      #/// </summary>
      #void allowEditIssueOwnEntryCertificate_W()
      #{
      #    salesTable_W_ds.object(fieldNum(SalesTable_W, IssueOwnEntryCertificate_W)).allowEdit(salesTable_W.EntryCertificateRequired_W);
      #}
    ENDSOURCE
    SOURCE #allowEditLedgerAccount_RU
      #boolean allowEditLedgerAccount_RU()
      #{
      #    boolean allowEdit;
      #
      #    if (itemInventDimSetupCache && salesLine.ItemId)
      #    {
      #        if (itemInventDimSetupCache.exists(salesLine.ItemId))
      #        {
      #            allowEdit = itemInventDimSetupCache.lookup(salesLine.ItemId);
      #        }
      #        else
      #        {
      #            allowEdit = ! EcoResDimensionGroupSetup::isInventoryDimensionActiveForItem(salesLine.ItemId,
      #                                                                                       fieldNum(InventDim, InventProfileId_RU));
      #            itemInventDimSetupCache.insert(salesLine.ItemId, allowEdit);
      #        }
      #    }
      #
      #    return allowEdit;
      #}
    ENDSOURCE
    SOURCE #applyBackOrderLinesSelection
      #/// <summary>
      #/// If form was called by BackOrderLines list page, applies additional ranges to the form data source to show only sales orders that were selected in a list page.
      #/// </summary>
      #/// <remarks>
      #/// If form called not from BackOrderLines list page no action is taken.
      #/// </remarks>
      #
      #private void applyBackOrderLinesSelection()
      #{
      #    Map             selectedSalesIds;
      #    MapEnumerator   en;
      #
      #    if (!this.isCalledFromSalesLineBackOrderListPage() || !element.args().record())
      #    {
      #        return;
      #    }
      #
      #    // Apply filter to show only Sales Orders selected in a list form.
      #    selectedSalesIds = SalesLineBackOrderListPageInteraction::getSalesIdsSelected(element.args().record().dataSource());
      #    if (selectedSalesIds)
      #    {
      #        // Dynalinks should be cleared before applying a ranges to prevent displaying only lines, selected in list page!
      #        salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
      #
      #        en = new MapEnumerator(selectedSalesIds);
      #        while (en.moveNext())
      #        {
      #            salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable,SalesId)).value(en.currentValue());
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #automaticTotalDiscount
      #public void automaticTotalDiscount()
      #{
      #    if (CustParameters::find().AutomaticTotalDiscount)
      #    {
      #        salesTable.updateFinalDisc();
      #        // CreditLimit calculation should only be triggered if updateFinalDisc() changes the DiscPercent which is indicated by touched.
      #        // save the value since it is lost by reread().
      #        if (salesTable.Touched)
      #        {
      #            // Reread the buffer since updateFinalDisc() can call update().
      #            salesTable_ds.reread();
      #            salesTable_ds.refresh();
      #            // This will trigger the creditlimit calculation when salesTable.validateWrite is called.
      #            salesTable_ds.setTouched();
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #canClose
      #public boolean canClose()
      #{
      #    boolean  ret;
      #
      #    if (!salesLine.PBAItemLine::checkMandatory() )
      #    {
      #        return false;
      #    }
      #
      #    ret = super();
      #    // The user needs to be able to modify an exchange order associated to a return and
      #    // go back to returns without completing the exchange order (this order).  The returns
      #    // logic will prevent the order from remaining open.  A return must always be completed
      #    // therefore, the exchange order will never be left open.
      #    ret = ret && element.mcrCheckOpenOrder();
      #
      #    if (element.closedCancel() && ret)
      #    {
      #        ret = salesTableForm.canClose(salesTable);
      #    }
      #
      #    return ret;
      #}
    ENDSOURCE
    SOURCE #canSubmitToWorkflow
      #public boolean canSubmitToWorkflow()
      #{
      #    return true;
      #}
    ENDSOURCE
    SOURCE #changeType
      #void  changeType()
      #{
      #    if (salesTableType)
      #    {
      #        salesTableType.formMethodSalesTypeModifiedPreChange(element, salesTable_ds, true);
      #    }
      #
      #    salesTableType = salesTable.type();
      #
      #    salesTableType.formMethodSalesTypeModifiedPostChange(element, salesTable_ds, true);
      #
      #    salesTableForm.enableAvailableDlvDatesButtons(salesTable,
      #                                                  salesAvailableDlvDatesHeader,
      #                                                  salesAvailableDlvDatesLine,
      #                                                  salesLine.LineDeliveryType);
      #    element.configBankDocumentControls();
      #    // <GEERU>
      #    if (isRU)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable_RU, AgreementHeaderExt_RU)).allowEdit(salesTableType.canAgreementBeLinked());
      #    }
      #    // </GEERU>
      #}
    ENDSOURCE
    SOURCE #checkCreditNoteLine
      #void  checkCreditNoteLine()
      #{
      #    // Additional check of returned item disables all these fields, if the -ve qty salesline is of type returned item.
      #    boolean creditNote =
      #    salesLine.SalesQty &&
      #    salesLine.creditNoteLine(
      #    salesTable
      #    )
      #    && !salesTable.returnItem();
      #
      #    boolean editCostPrice   = !salesLine.InventTransIdReturn || !InventTable::find(salesLine.ItemId).modelGroup().inventModelType().stdCostBased();
      #
      #    salesLine_ds.object(fieldNum(SalesLine, Scrap)).allowEdit(creditNote && salesLine.deliveredInTotal() == 0);
      #    salesLine_ds.object(fieldNum(SalesLine, Scrap)).skip(!creditNote);
      #
      #    salesLine_ds.object(fieldNum(SalesLine, InventTransIdReturn)).allowEdit(creditNote);
      #    salesLine_ds.object(fieldNum(SalesLine, InventTransIdReturn)).skip(!creditNote);
      #
      #    salesLine_ds.object(fieldNum(SalesLine, CostPrice)).allowEdit((creditNote && editCostPrice));
      #    salesLine_ds.object(fieldNum(SalesLine, CostPrice)).skip(!(creditNote && editCostPrice));
      #
      #    if (salesLine.Scrap && salesLine.SalesQty >= 0)
      #    {
      #        salesLine.Scrap = NoYes::No;
      #    }
      #    // <GIN>
      #    if(isIndiaIndirectTaxParameterMarked && !salesTable.returnItem())
      #    {
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Type)).allowEdit(creditNote);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #    }
      #    // </GIN>
      #}
    ENDSOURCE
    SOURCE #close
      #void  close()
      #{
      #    xSysLastValue::saveLast(salesTableForm);
      #
      #    // Current price references may need to be deleted.
      #    salesLine.SalesPurchLine::cleanUpPriceHistoryRef();
      #
      #    if (salesTableType)
      #    {
      #        salesTableType.formMethodClose();
      #    }
      #
      #    super();
      #}
    ENDSOURCE
    SOURCE #configBankDocumentControls
      #/// <summary>
      #///     Configs the BankDocument Controls.
      #/// </summary>
      #public void configBankDocumentControls()
      #{
      #    boolean enableDocumentType = false;
      #
      #    if (enableLCFeature
      #        || enableLGFeature)
      #    {
      #        enableDocumentType = salesTable.type().mayBankDocumentTypeBeModified();
      #        element.configPaymentGroupControls();
      #        salesTable_DS.object(fieldNum(SalesTable, BankDocumentType)).allowEdit(enableDocumentType);
      #    }
      #}
    ENDSOURCE
    SOURCE #configPaymentGroupControls
      #/// <summary>
      #/// Configs the payment group controls.
      #/// </summary>
      #private void configPaymentGroupControls()
      #{
      #    boolean flag;
      #
      #    flag = !salesTable.isMarkedForBankLC();
      #
      #    salesTable_DS.object(fieldNum(SalesTable, Payment)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, FixedDueDate)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, PaymMode)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, PaymSpec)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, PaymentSched)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, CashDisc)).enabled(flag);
      #    salesTable_DS.object(fieldNum(SalesTable, SettleVoucher)).enabled(flag);
      #
      #    payment_M_editCreditCard.enabled(flag);
      #}
    ENDSOURCE
    SOURCE #createAgreementLink
      #public void createAgreementLink()
      #{
      #    AgreementLine                           localAgreementLine;
      #    Args                                    args;
      #    FormRun                                 formRun;
      #    SalesTableForm_DlvScheduleSyncEnabled   salesTableFormDlvSchedule;
      #    SalesLine                               origSalesLine;
      #
      #    args = new Args(formStr(AgreementLinePrompt));
      #    args.caller(element);
      #    args.record(salesLine);
      #    args.parm(int642str(salesTable.MatchingAgreement));
      #    formRun = classfactory.formRunClass(args);
      #    formRun.init();
      #    formRun.run();
      #    formRun.wait(true);
      #    localAgreementLine = args.record() as AgreementLine;
      #
      #    if (localAgreementLine)
      #    {
      #        // Make the snapshot of the salesLine before it gets associated with agreement
      #        origSalesLine = salesLine.data().orig();
      #
      #        ttsbegin;
      #
      #        SalesTableForm::createAgreementLinkServer(salesLine, localAgreementLine);
      #
      #        if (salesLine.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries)
      #        {
      #            salesTableFormDlvSchedule = salesTableForm as SalesTableForm_DlvScheduleSyncEnabled;
      #            salesTableFormDlvSchedule.parmOrderLineOrig(origSalesLine);
      #            if (salesTableFormDlvSchedule.deliveryLinesSync(salesLine, false))
      #            {
      #                // Need to refresh delivery lines on grid.
      #                salesLine_DS.executeQuery();
      #            }
      #        }
      #
      #        ttscommit;
      #        // <GEERU>
      #        salesLine_DS.research(true);
      #        // </GEERU>
      #
      #        //Re-evaluate agreement line actions
      #        element.enableLineAgreementActions();
      #    }
      #}
    ENDSOURCE
    SOURCE #docCursor
      #public Common docCursor()
      #{
      #    Common docCursor;
      #
      #    docCursor = super();
      #
      #    if (docCursor.TableId == tableNum(InventDim))
      #    {
      #        docCursor = salesLine;
      #    }
      #
      #    return docCursor;
      #}
    ENDSOURCE
    SOURCE #doRefresh
      #void doRefresh(boolean _lineRefreshNeeded = false)
      #{
      #    salesTable_ds.reread();
      #    salesTable_ds.refresh();
      #
      #    mcrSalesTable_ds.reread();
      #    mcrSalesTable_ds.refresh();
      #
      #    mcrSalesTableShipping_ds.reread();
      #    mcrSalesTableShipping_ds.refresh();
      #
      #    // update header controls
      #    element.mcrSetHeaderControls();
      #    if (_lineRefreshNeeded)
      #    {
      #        salesLine_ds.reread();
      #        salesLine_ds.refresh();
      #    }
      #    else
      #    {
      #        // With addition of executeQuery (see below) base call to research is not needed
      #        // salesLine_ds.reread() fails if a new, unsaved, line exists.
      #        // Changed to perform a new query, which will retrieve all saved lines.
      #        // The new query will cause line controls to be updated.
      #        salesLine_ds.executeQuery();
      #    }
      #}
    ENDSOURCE
    SOURCE #editSales
      #public void editSales(boolean _allowEdit, boolean _allowDelete = _allowEdit)
      #{
      #
      #
      #    salesTable_ds.allowEdit    (_allowEdit);
      #    salesTable_ds.allowDelete  (_allowEdit && _allowDelete);
      #    // allow user to delete the exchange
      #    if( mcrReturnSalesTable.IsExchange
      #        && mcrCallCenterEnabled)
      #    {
      #        salesTable_ds.allowDelete  (true);
      #    }
      #    salesLine_ds.allowEdit     (_allowEdit);
      #    salesLine_ds.allowCreate   (_allowEdit);
      #    salesLine_ds.allowDelete   (_allowEdit && _allowDelete);
      #
      #    // <GBR>
      #    if (BrazilParameters::isEnabled())
      #    {
      #        salesTable_BR_DS.enableDataSourceFields_BR();
      #        buttonLineQuickQuote.enabled(_allowEdit);
      #        if (isConfigurationkeyEnabled(configurationKeyNum(Retail)))
      #        {
      #            retailAddItemMenuItem.enabled(_allowEdit);
      #        }
      #    }
      #    // </GBR>
      #    element.mcrSetLineControls();
      #}
    ENDSOURCE
    SOURCE #enableEximInquiry_IN
      #// <GIN>
      #public void enableEximInquiry_IN()
      #{
      #    if (EximAuthorizationSchemesTable_IN::enableSchemesButton(salesLine.RecId,
      #                                                              EximAuthorizationType_IN::AA,
      #                                                              EximAuthorizationBasis_IN::Purchase)
      #                                                              || salesLine.SalesQty < 0)
      #    {
      #        eximAA_IN.enabled(false);
      #    }
      #    if (EximAuthorizationSchemesTable_IN::enableSchemesButton(salesLine.RecId,
      #                                                              EximAuthorizationType_IN::DFIA,
      #                                                              EximAuthorizationBasis_IN::Purchase)
      #        || salesLine.SalesQty < 0)
      #    {
      #        eximDFIA_IN.enabled(false);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #enableFieldsActive_IN
      #// <GIN>
      #public void enableFieldsActive_IN()
      #{
      #
      #    customsExportAssessableValue_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::Yes    && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesLine_CustomsMaxRetailPrice_IN.visible(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesLine_MaximumRetailPrice_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::No);
      #
      #    element.setEximFieldsAccess_IN();
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #enableForeignTrade_RU
      #public void enableForeignTrade_RU()
      #{
      #    salesLine_ds.object(fieldNum(SalesLine, InvoiceGTDId_RU)).enabled(
      #        salesLine_ds.object(fieldNum(SalesLine, CountryRegionName_RU)).enabled(! salesLine.isStocked())
      #    );
      #}
    ENDSOURCE
    SOURCE #enableHeaderCreditCardMenuItems
      #/// <summary>
      #/// Sets the status of header level credit card menu items.
      #/// </summary>
      #public void enableHeaderCreditCardMenuItems()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #
      #    salesTableInteractionHelper.initLineActions(salesTable, salesLine);
      #
      #    creditCardPreauthorize.enabled(salesTableInteractionHelper.parmCanCreditCardPreAuthorizeEnabled());
      #    creditCardWizard.enabled(salesTableInteractionHelper.parmCreditCardWizardEnabled());
      #}
    ENDSOURCE
    SOURCE #enableInventExtPurchButton
      #public void enableInventExtPurchButton()
      #{
      #    PlInventExternalForProcessing   inventExternalForProcessing;
      #
      #    select firstonly RecId from inventExternalForProcessing
      #        where salesLine.RecId   == inventExternalForProcessing.SalesLineRecRecId;
      #
      #    plPurchCreateForExternal.enabled(inventExternalForProcessing.RecId);
      #}
      #
    ENDSOURCE
    SOURCE #enableLineAgreementActions
      #/// <summary>
      #/// Sets the status of header credit card menu items.
      #/// </summary>
      #/// <remarks>
      #///    Invoked whenever a link to an agreement is created or removed for the order line line.
      #/// </remarks>
      #public void enableLineAgreementActions()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #
      #    salesTableInteractionHelper.initLineActions(salesTable, salesLine);
      #    salesTableInteractionHelper.setSalesTableForm(salesTableForm);
      #
      #    salesAgreementLine.enabled(salesTableInteractionHelper.parmAgreementLineEnabled());
      #    createLink.enabled(salesTableInteractionHelper.parmAgreementCreateLinkEnabled());
      #    removeLink.enabled(salesTableInteractionHelper.parmAgreementRemoveLinkEnabled());
      #}
    ENDSOURCE
    SOURCE #enableLinePBAActions
      #/// <summary>
      #/// Sets the status of line level PBA menu items.
      #/// </summary>
      #[SysObsoleteAttribute('Enabling and disabling of these buttons are handled in the salesTableInteraction class.', true)]
      #public void enableLinePBAActions()
      #{
      #}
    ENDSOURCE
    SOURCE #enableTMSFields
      #/// <summary>
      #/// Disables fields that should not be edited once Route Plan has been selected.
      #/// </summary>
      #public void enableTMSFields()
      #{
      #    TMSTransportationTemplateId transTempId;
      #    TMSCarrierCode              carrierCode;
      #    TMSCarrierGroupCode         carrierGroupCode;
      #    TMSModeCode                 modeCode;
      #    TMSRouteConfigCode          routeConfigCode;
      #    boolean                     modeCodeDisabled;
      #
      #    transTempId         = tmsSalesTable.TransportationTemplateId;
      #    carrierCode         = tmsSalesTable.CarrierCode;
      #    carrierGroupCode    = tmsSalesTable.CarrierGroupCode;
      #    modeCode            = tmsSalesTable.ModeCode;
      #    modeCodeDisabled    = tmsSalesTable.ModeCode != '' && tmsSalesTable.CarrierCode == '';
      #    routeConfigCode     = tmsSalesTable.RouteConfigCode;
      #
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, ModeCode)).allowEdit(!(carrierCode || transTempId || carrierGroupCode || routeConfigCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, CarrierCode)).allowEdit(!(transTempId ||carrierGroupCode || modeCodeDisabled || routeConfigCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, CarrierServiceCode)).allowEdit(!(transTempId || carrierGroupCode || modeCodeDisabled || routeConfigCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, CarrierGroupCode)).allowEdit(!(transTempId || carrierCode || routeConfigCode || modeCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, RouteConfigCode)).allowEdit(!(carrierCode || transTempId || modeCode || carrierGroupCode));
      #    tmsSalesTable_ds.object(fieldNum(TMSSalesTable, TransportationTemplateId)).allowEdit(!(carrierCode || carrierGroupCode || modeCode || routeConfigCode));
      #}
      #
    ENDSOURCE
    SOURCE #formRunHelper
      #/// <summary>
      #/// Constucts an instance of the <C>SysExtensionSerializerFormRunHelper</C> class.
      #/// </summary>
      #/// <returns>
      #/// An instance of the <C>SysExtensionSerializerFormRunHelper</C> class.
      #/// </returns>
      #public SysExtensionSerializerFormRunHelper formRunHelper()
      #{
      #    if (!formRunHelper)
      #    {
      #        formRunHelper = SysExtensionSerializerFormRunHelper::construct();
      #    }
      #
      #    return formRunHelper;
      #}
    ENDSOURCE
    SOURCE #gotoLines
      #void gotoLines()
      #{
      #    salesLineGrid.setFocus();
      #}
    ENDSOURCE
    SOURCE #hideQualityManagement
      #void hideQualityManagement()
      #{
      #    salesTable_qualityOrderStatusDisplay.visible(false);
      #    salesLineStatus_qualityOrderStatus.visible(false);
      #    status_qualityOrderStatusDisplay.visible(false);
      #    salesLine_QualityOrderStatus.visible(false);
      #
      #    inventNonConformanceTableHeader.visible(false);
      #    inventQualityOrderTableHeader.visible(false);
      #    inventNonConformanceTableLine.visible(false);
      #    inventQualityOrderTableLine.visible(false);
      #    inventTestCertOfAnalysisTable.visible(false);
      #
      #    lineStripProductQualitySeparator.visible(false);
      #}
    ENDSOURCE
    SOURCE #init
      #public void  init()
      #{
      #    FormRun callerForm;
      #    Common  callerFormRecord;
      #    Object  caller;
      #    boolean wasCalledFromSalesLineBackOrderListPage = this.isCalledFromSalesLineBackOrderListPage();
      #    boolean wasCalledFromSalesTableListPageProject  = this.isCalledFromSalesTableListPageProject();
      #    boolean enableConfigurationFeature              = PBALib::isConfigurationKeyEnabled();
      #
      #    RetailParameters retailParameters;
      #
      #    #ISOCountryRegionCodes
      #
      #    custParameters = CustParameters::find();
      #
      #    // <GCN>
      #    taxIntegrationSystem_CN = CustParameters::isTaxIntegrationSystem_CN();
      #    // </GCN>
      #    // <GMY>
      #    isIsoMY = TaxGSTFeatureChecker_MY::isCountryRegionMY();
      #    if(isIsoMY)
      #    {
      #        custInvoiceJourLookupController = CustInvoiceJourLookupController_MY::construct();
      #        isWrnPrintedMY                  = false;
      #    }
      #    // </GMY>
      #
      #    // <GIN>
      #    isIN = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]);
      #    if (isIN)
      #    {
      #        isIndiaIndirectTaxParameterMarked = TaxParameters::checkTaxParameters_IN();
      #        isIndiaWHTMarked                  = TaxWithholdParameters_IN::checkTaxParameters();
      #        isSalesLine_INEnabled             = SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesLine_IN));
      #    }
      #    // </GIN>
      #
      #    // <GEERU>
      #    // has to be before super to be used in methods such as FormDataSource.init()
      #    isRU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoRU]);
      #    // </GEERU>
      #    // <GEEPL>
      #    countryRegion_PL = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoPL]);
      #    // </GEEPL>
      #
      #    isCalledFromLP = TradeFormHelper::isCalledFromForm(element.args(), formStr(SalesTableListPage));
      #
      #    if (element.args() && !isCalledFromLP)
      #    {
      #        element.args().copyCallerQuery(CopyCallerQuery::No);
      #    }
      #
      #    super();
      #    isDocuActionTemplate = DocuActionForTemplate::createTemplateOnMenuButton(mbTemplatesButton, salesTable.TableId);
      #    FormSecurity::setFormDataSourceMaxAccessRight(this);
      #
      #    // <GEERU>
      #    if (isRU)
      #    {
      #        itemInventDimSetupCache = new Map(Types::String, Types::Enum);
      #    }
      #    // </GEERU>
      #    // <GEEU>
      #    countryRegion_EEU = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoLT, #isoLV, #isoEE, #isoCZ, #isoPL, #isoHU, #isoRU]);
      #    // </GEEU>
      #
      #    // Initialization specifically for projects
      #    // Only show sales orders associated to projects if form is called from the project main menu
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId) && element.args().parmEnum() == SalesTableFormId::Project)
      #    {
      #        if (! element.args().record()) // called from menu
      #        {
      #            salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable, ProjId)).value(SysQuery::valueNotEmptyString());
      #        }
      #    }
      #
      #    // Initialization specifically for Journals
      #    // Do not allow order type change if form was called from Sales journal menu items
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId) && element.args().parmEnum() == SalesTableFormId::Journal)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, SalesType)).allowEdit(false);
      #        salesTable_SalesType.allowEdit(false);
      #    }
      #
      #    // Initialization specifically for BackOrderLines list page...
      #    if (wasCalledFromSalesLineBackOrderListPage)
      #    {
      #        this.applyBackOrderLinesSelection();
      #    }
      #
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId))
      #    {
      #        salesTableForm = SalesTableForm::construct(element.args().parmEnum(), element.args().record());
      #    }
      #    else if (wasCalledFromSalesTableListPageProject)
      #    {
      #        callerForm = element.args().caller();
      #        callerFormRecord = callerForm.args().record();
      #        salesTableForm = SalesTableForm::construct(SalesTableFormId::Project, callerFormRecord);
      #    }
      #    else
      #    {
      #        salesTableForm = SalesTableForm::construct(SalesTableFormId::None, element.args().record());
      #    }
      #
      #    // Update group separator visibility...
      #    // (group contains a single button)
      #    lineStripFinancialsIntroduceSeparator.visible(
      #        buttonCustVendCreditInvoicingLines.isVisible());
      #
      #    TaxVATNumTable::enableLookupVATNum(vatNum);
      #
      #    element.updateDesign(InventDimFormDesignUpdate::Init);
      #    element.updateRFIDTagging();
      #
      #    salesLineGrid.visibleColsValue(8+conLen(inventDimFormSetup.dimFieldsActive(inventDimFormSetup.parmDimParmVisibleGrid())));
      #
      #    salesTable_ds.object(fieldNum(SalesTable, SalesType)).allowEdit(salesTableForm.editSalesType());
      #
      #    salesTable_ds.query(salesTableForm.querySalesTable(salesTable_ds.query()));
      #    salesLine_ds.query(salesTableForm.querySalesLine(salesLine_ds.query()));
      #
      #    groupNotificationToTheCentralBank.visible(SysCountryRegionCode::isLegalEntityInCountryRegion([#isoNO]));
      #
      #    if (!TaxParameters::find().CashDiscOnInvoice)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, CashDiscPercent)).allowEdit(false);
      #    }
      #
      #    if (!InventParameters::find().UseQualityManagement)
      #    {
      #        element.hideQualityManagement();
      #    }
      #    mcrOrderParameters = MCROrderParameters::find();
      #    salesParameters    = SalesParameters::find();
      #    mcrCallCenterEnabled = MCROrderParameters::isCallCenterEnabledAndInUse();
      #
      #    if (mcrCallCenterEnabled)
      #    {
      #        retailParameters = RetailParameters::find();
      #        mcrGiftCardPoliciesEnabled = retailParameters.UseGiftCardPolicies;
      #        mcrProcessGiftCardsAsPrepayments_RU = retailParameters.ProcessGiftCardsAsPrepayments_RU;
      #    }
      #
      #    // Initiate the map used to store the available quantity
      #    availableQtyMap = new Map(Types::String, Types::Real);
      #
      #    onInit = true;
      #    map = new Map(Types::Integer, Types::String);
      #    this.enableHeaderCreditCardMenuItems();
      #    mcrMarginAlert.visible(salesParameters.mcrEnableMarginAlert);
      #    mcrMarginPercentStr.visible(salesParameters.mcrEnableMarginAlert);
      #    marginMap = new Map(Types::String, Types::Container);
      #    mcrPriceHistory.visible(custParameters.mcrEnablePriceDetails);
      #
      #    bankLGFeatureChecker    = BankLGFeatureChecker::construct();
      #    enableLGFeature         = bankLGFeatureChecker.checkFeatureEnabled();
      #    bankLGRequestForm.visible(enableLGFeature);
      #
      #    bankLCExportFeatureChecker = BankLCExportFeatureChecker::construct();
      #    enableLCFeature = bankLCExportFeatureChecker.checkFeatureEnabled();
      #    salesTable_DS.object(fieldNum(SalesTable, BankDocumentType)).visible(enableLCFeature || enableLGFeature);
      #    buttonCreateBankLCExport.visible(enableLCFeature);
      #
      #    ledgerDefaultAccountController         = LedgerDimensionDefaultAccountController::construct(salesLine_ds, fieldStr(SalesLine, LedgerDimension));
      #    ledgerDefaultAccountController.parmControl(linePosting_LedgerDimension);
      #
      #    dimensionDefaultingControllerTable = DimensionDefaultingController::constructInTabWithValues(true, true, true, 0, this, tabFinancialDimensionTable, "@SYS138487");
      #    dimensionDefaultingControllerTable.parmAttributeValueSetDataSource(salesTable_ds, fieldStr(SalesTable, DefaultDimension));
      #
      #    DimensionDefaultingController::initContainerId(tabFinancialDimensionLine, 2);
      #    dimensionDefaultingControllerLine = DimensionDefaultingController::constructInTabWithValues(true, true, true, 0, this, tabFinancialDimensionLine, "@SYS138487");
      #    dimensionDefaultingControllerLine.parmAttributeValueSetDataSource(salesLine_ds, fieldStr(SalesLine, DefaultDimension));
      #
      #    pbaExecute.visible(enableConfigurationFeature);
      #
      #    //<GMX>
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoMX]))
      #    {
      #        this.updateDesign_MX();
      #    }
      #    //</GMX>
      #
      #    imageList = new ImageListAppl_DeliverySchedule();
      #    lineDeliveryType.imageList(imageList.imageList());
      #
      #    // Needed to check validity of address
      #    logisticsPostalAddressDeliveryHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidFrom));
      #    logisticsPostalAddressDeliveryHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidTo));
      #    logisticsPostalAddressDeliveryHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressShipCarrierHeader_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressDeliveryLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidFrom));
      #    logisticsPostalAddressDeliveryLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, ValidTo));
      #    if (#PmfEnabled)
      #    {
      #        bomPriceCalc.text("@PDS1468");
      #    }
      #    logisticsPostalAddressDeliveryLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #    logisticsPostalAddressShipCarrierLine_ds.addFieldToSelectionList(fieldNum(LogisticsPostalAddress, CountryRegionId));
      #
      #    //<GIN>
      #    if (isIndiaIndirectTaxParameterMarked || isIndiaWHTMarked)
      #    {
      #        element.setTaxWithholdVisible_IN();
      #        element.setVisible_IN();
      #    }
      #
      #    if(isIndiaIndirectTaxParameterMarked)
      #    {
      #        taxExciseTypeController = TaxExciseTypeController_IN::construct(exciseNone_IN,
      #                                                                        exciseManufacture_IN,
      #                                                                        exciseTraders_IN,
      #                                                                        taxInformation_IN_ECCNumber,
      #                                                                        taxInformation_IN_ManECCRegistrationNumberTable,
      #                                                                        taxInformation_IN_TraderECCRegistrationNumberTable,
      #                                                                        salesLine_IN_DS);
      #        taxExciseTypeController.parmFieldNumDirectSettlement(fieldNum(SalesLine_IN, DirectSettlement_IN));
      #        taxExciseTypeController.parmFieldNumDSA(fieldNum(SalesLine_IN, dsa_in));
      #    }
      #    // </GIN>
      #
      #    // <GJP>
      #    element.updateDesignConsInvoice_JP();
      #    // </GJP>
      #
      #    // <GEERU>
      #    if (isRU)
      #    {
      #        this.initDesign_RU();
      #    }
      #    // </GEERU>
      #
      #    // <GBR>
      #    salesTable_BR_ds.object(fieldNum(SalesTable_BR, cfpsId_BR)).visible(BrazilParameters::isCFPSEnabled_BR());
      #    salesPurchOperationTypeController_BR = new SalesPurchOperationTypeController_BR(this.name());
      #    // </GBR>
      #
      #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]))
      #    {
      #        salesTable_DS.object(fieldNum(SalesTable, StatProcId)).visible(false);
      #        salesLine_DS.object(fieldNum(SalesLine,  StatProcId)).visible(false);
      #    }
      #
      #    //<GTH>
      #    isUnrealizedVATEnabled = TaxThaiGovCertificationFeatureChecker::isUnrealizedVATEnabled();
      #    if (isUnrealizedVATEnabled)
      #    {
      #        this.updateDesignForUnrealizedVAT();
      #    }
      #    //</GTH>
      #
      #    if (element.args().parmEnumType() == enumNum(FormOpenMode))
      #    {
      #        caller = element.args().caller();
      #        if (caller && caller is SysSetupFormRun)
      #        {
      #            skipLinkActive = element.args().parmEnum() == FormOpenMode::ForNew;
      #        }
      #    }
      #
      #    CustDirectDebitMandate::defaultAndDisplayMandate(
      #        salesTable.InvoiceAccount,
      #        salesTable.PaymMode,
      #        salesTable.DirectDebitMandate,
      #        false,
      #        salesTable_ds,
      #        fieldNum(SalesTable, DirectDebitMandate));
      #
      #    this.initDesignEntryCertificate_W();
      #
      #    if (RetailSMB::IsRetailSMBEnabled())
      #    {
      #        RetailSMB::SetVisible(element);
      #    }
      #
      #    //<catalina.leonte_LCE_SalesBCarrierInformationModification_27.09.2019
      #    LCE_CarrierInfoSalesOrder_ds.reread();
      #    LCE_CarrierInfoSalesOrder_ds.refresh();
      #    //>catalina.leonte_LCE_SalesBCarrierInformationModification_27.09.2019
      #}
    ENDSOURCE
    SOURCE #initDesign_RU
      ##define.2(2)
      #void initDesign_RU()
      #{
      #    salesLine_DS.object(fieldNum(SalesLine, ProjId)).allowEdit(true);
      #    tabHeaderAddress.columns(#2);
      #}
    ENDSOURCE
    SOURCE #initDesignEntryCertificate_W
      #/// <summary>
      #///    This method shows or hides fields in the <c>Entry certificate</c> group depending on the system settings.
      #/// </summary>
      #private void initDesignEntryCertificate_W()
      #{
      #    salesTable_W_ds.object(fieldNum(SalesTable_W, EntryCertificateRequired_W)).visible(custParameters.EntryCertificateManagementEnabled_W);
      #    salesTable_W_ds.object(fieldNum(SalesTable_W, IssueOwnEntryCertificate_W)).visible(custParameters.EntryCertificateIssuingEnabled_W);
      #}
    ENDSOURCE
    SOURCE #interCompanyIsPriceDiscSearchNeeded
      #RecId interCompanyIsPriceDiscSearchNeeded()
      #{
      #    return interCompanyIsPriceDiscSearchNeeded;
      #}
    ENDSOURCE
    SOURCE #inventDimSetupObject
      #Object inventDimSetupObject()
      #{
      #    return inventDimFormSetup;
      #}
    ENDSOURCE
    SOURCE #isCalledFromSalesLineBackOrderListPage
      #private boolean isCalledFromSalesLineBackOrderListPage()
      #{
      #    return TradeFormHelper::isCalledFromForm(element.args(), formStr(SalesLineBackOrderListPage));
      #}
    ENDSOURCE
    SOURCE #isCalledFromSalesTableListPageProject
      #private boolean isCalledFromSalesTableListPageProject()
      #{
      #    Object      myCaller;
      #    FormRun     callerForm;
      #    boolean     calledFromListPage = false;
      #
      #    if (element.args())
      #    {
      #        myCaller = element.args().caller();
      #
      #        if (myCaller && myCaller is SysSetupFormRun)
      #        {
      #            callerForm = myCaller;
      #            if (callerForm.name() == formStr(SalesTableListPage) &&
      #                (callerForm.args() &&
      #                    (callerForm.args().menuItemName() == menuitemDisplayStr(SalesTableListPage_Proj) ||
      #                    callerForm.args().menuItemName() == menuitemDisplayStr(SalesTableListPage_MyProj))))
      #            {
      #                calledFromListPage = true;
      #            }
      #        }
      #    }
      #    return calledFromListPage;
      #}
    ENDSOURCE
    SOURCE #mcrAppendScriptStr
      #void mcrAppendScriptStr(str _scriptStr)
      #{
      #    /// Add the script onto the beginning of the current text in the script windows.
      #    sourceCodeScripts = _scriptStr + sourceCodeScripts;
      #    element.mcrSetScriptStr(sourceCodeScripts);
      #}
    ENDSOURCE
    SOURCE #mcrCheckComplete
      #/// <summary>
      #/// Validates if the order can be completed.
      #/// </summary>
      #/// <returns>
      #/// true if the order meets all completion criteria; otherwise, false.
      #/// </returns>
      #/// <remarks>
      #/// An order can not be completed if no sales lines exist or if
      #/// there is a total discount and the order is a continuity order.
      #/// </remarks>
      #boolean mcrCheckComplete()
      #{
      #    // One or more sales lines must exist.
      #    if (!SalesLine::exist(salesTable.SalesId))
      #    {
      #        info("@MCR23354");
      #        warning("@MCR10878");
      #        return false;
      #    }
      #
      #    // Throw error when the order has a continuity item on it and there is
      #    // a total discount.
      #    if (mcrSalesTable.ContinuityOrder == true
      #        && salesTable.DiscPercent)
      #    {
      #        info("@MCR23354");
      #        throw error("@MCR12950");
      #    }
      #
      #    return true;
      #}
    ENDSOURCE
    SOURCE #mcrCheckOpenOrder
      #/// <summary>
      #/// Determines if the current order has
      #///     been processed.
      #/// </summary>
      #/// <returns>
      #/// true if it has; otherwise, false.
      #/// </returns>
      #/// <remarks>
      #/// Criteria that stops a user from being able to switch records or close:
      #/// 1. Parameter enabledOrderCompletion is marked.
      #/// 2. Order is in a backOrder status.
      #/// 3. Order is stopped.
      #/// 4. Order is not on hold.
      #/// 3. Order payments either do not exist or have not been proessed.
      #/// </remarks>
      #public boolean mcrCheckOpenOrder()
      #{
      #    if (enableOrderCompletion)
      #    {
      #        // if the status of the order being evaluated has had
      #        // its status changed to something other than open order
      #        // (backorder) clear out the buffer which indicates an open order.
      #        element.mcrClearOpenOrderSalesTableBuffer();
      #
      #        // if enable order completion is on and
      #        // if the focus is on an open order that the user just created and
      #        //the user chooses to add a new record, stop them and make the user change
      #        //the previous orders status
      #        if (openOrderSalesTable)
      #        {
      #            element.mcrPromptOpenOrderNotAllowed();
      #            if (openOrderSalesTable)
      #            {
      #                return false;
      #            }
      #        }
      #    }
      #
      #    return true;
      #}
      #
    ENDSOURCE
    SOURCE #mcrClearOpenOrderSalesTableBuffer
      #public void mcrClearOpenOrderSalesTableBuffer()
      #{
      #    // if the status of the order being evaluated has had
      #    // its status changed to something other than open order
      #    // (backorder) clear out the buffer which indicates an open order.
      #    // Since we now allow deletes, make sure we are still on the original
      #    // sales order.  If not, clear the buffer.
      #    if(salesTable.RecId == openOrderSalesTable.RecId)
      #    {
      #        if (salesTable.mcrOrderProcessed())
      #        {
      #            openOrderSalesTable = null;
      #        }
      #    }
      #    else
      #    {
      #        openOrderSalesTable = null;
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrClearScreen
      #void mcrClearScreen()
      #{
      #    salesTable_ds.reread();
      #
      #    if(salesTable
      #        && salesTable.SalesStatus == SalesStatus::Backorder
      #        && enableOrderCompletion)
      #    {
      #        //do not clear
      #        return;
      #    }
      #    // clear salestable and line & set combo boxes to default(0).
      #    this.salesTable().clear();
      #    salesTable_SalesType.selection(3);
      #    salesline.clear();
      #    salestable_ds.refresh();
      #    salesline_ds.refresh();
      #
      #    mcrLastSourceId = "";
      #
      #    // clear messages
      #    if (enableDirectedSelling)
      #    {
      #        this.mcrDisplayStartOrderMessage();
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrCloseDownOrderEntry
      #void mcrCloseDownOrderEntry()
      #{
      #    FormDataSource      formDataSource;
      #
      #    //  Close down order entry screen based on how the form was called.
      #    if (mcrCustomerServiceParm    != MCRCustomerServiceParam::Create
      #        && mcrCustomerServiceParm != MCRCustomerServiceParam::CreateNew
      #        && mcrCustomerServiceParm != MCRCustomerServiceParam::Add
      #        && mcrCustomerServiceParm != MCRCustomerServiceParam::Modify)
      #    {
      #        salesTable_ds.executeQuery();
      #    }
      #    else
      #    {
      #        //coming from the "Create sales order" menu
      #        if(mcrCustomerServiceParm == MCRCustomerServiceParam::Add)
      #        {
      #            element.mcrClearScreen();
      #        }
      #        // coming from customer service or customer maintenance.
      #        else
      #        {
      #            // If called from customer service, refresh the sales table datasource (#2)
      #            if (element.args().caller()
      #                && element.args().caller().name() == formStr(MCRCustomerService))
      #            {
      #                formDataSource = element.args().caller().datasource(2);
      #                formDataSource.executeQuery();
      #            }
      #
      #            element.close();
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrDisableForm
      #public void mcrDisableForm()
      #{
      #    // disable sales Table
      #    salesTable_ds.allowEdit(false);
      #    salesTable_ds.allowCreate(false);
      #    salesTable_ds.allowDelete(false);
      #    salesLine_ds.allowEdit(false);
      #    salesLine_ds.allowCreate(false);
      #    salesLine_ds.allowDelete(false);
      #}
    ENDSOURCE
    SOURCE #mcrDisplayCustomerMessage
      #void mcrDisplayCustomerMessage()
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    if(enableDirectedSelling
      #        && salesTable.CustAccount)
      #    {
      #        fullMessageString = MCRMessageAssociation::getCustomerMessage(salesTable.CustAccount);
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrDisplayItemMessage
      #void mcrDisplayItemMessage()
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    // Check for existance of an itemId first.
      #    if (enableDirectedSelling
      #        && salesLine.ItemId)
      #    {
      #        fullMessageString = MCRMessageAssociation::getItemMessage(salesline.ItemId,
      #                                    mcrSalesLine.SourceId,
      #                                    mcrSalesLine.UpSellOrigin,
      #                                    mcrSalesLine.UpSellOriginRef);
      #
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #mcrDisplaySourceMessage
      #void mcrDisplaySourceMessage()
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    if (enableDirectedSelling
      #        && mcrSalesTable.SourceId)
      #    {
      #        fullMessageString = MCRMessageAssociation::getSourceMessage(mcrSalesTable.SourceId);
      #
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrDisplayStartOrderMessage
      #void mcrDisplayStartOrderMessage(boolean _create = false)
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    if (enableDirectedSelling)
      #    {
      #        fullMessageString = MCRMessageAssociation::getStartOrderMessage(salesTable.CustAccount,
      #                                        mcrSalesTable.SourceId,
      #                                        _create);
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #mcrDisplayUpSellItemMessage
      #void mcrDisplayUpSellItemMessage()
      #{
      #    MCRScriptNote fullMessageString;
      #
      #    // Check for existance of an itemId first.
      #    if (enableDirectedSelling
      #        && salesLine.ItemId)
      #    {
      #        fullMessageString =
      #            MCRMessageAssociation::getUpSellItemMessage(salesLine.ItemId, mcrSalesLine.UpSellOriginRef);
      #
      #        element.mcrSetScriptStr(fullMessageString);
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #mcrEnableForm
      #void mcrEnableForm()
      #{
      #    // enable sales Table
      #    salesTable_ds.allowEdit(true);
      #    salesTable_ds.allowCreate(true);
      #    salesTable_ds.allowDelete(true);
      #    //enable sales Line
      #    salesLine_ds.allowEdit(true);
      #    salesLine_ds.allowCreate(true);
      #    salesLine_ds.allowDelete(true);
      #}
    ENDSOURCE
    SOURCE #mcrGetImageUrl
      #public URL mcrGetImageUrl()
      #{
      #    if (enableDirectedSelling)
      #    {
      #        return mcrImageUrl;
      #    }
      #
      #    return '';
      #}
    ENDSOURCE
    SOURCE #mcrGetLoadImageFileObject
      #public MCRLoadImageFile mcrGetLoadImageFileObject()
      #{
      #    if (mcrLoadImageFile == null)
      #    {
      #        mcrLoadImageFile = MCRLoadImageFile::construct();
      #    }
      #
      #    return mcrLoadImageFile;
      #}
    ENDSOURCE
    SOURCE #mcrGetScript
      #public MCRNotes mcrGetScript()
      #{
      #    if (enableDirectedSelling)
      #    {
      #        return mcrScript;
      #    }
      #
      #    return '';
      #}
    ENDSOURCE
    SOURCE #mcrHeaderPriceOverride
      #void mcrHeaderPriceOverride(boolean _releaseOverride,
      #    RetailInformationSubcodeId _mcrReasonCode,
      #    UserId _userId)
      #{
      #    if (_releaseOverride)
      #    {
      #        mcrSalesTable.PriceOverride = NoYes::No;
      #        //The mcrSalesTable.PriceOverride value is going to be needed
      #        //within salesTable.updateFinalDisc() which gets called below.
      #        mcrSalesTable.write();
      #
      #        mcrHeaderPriceOverrideEventType = MCROrderEventType::SalesTablePriceOverrideTurnedOff;
      #        mcrHeaderPriceOverrideReasonCode = _mcrReasonCode;
      #        mcrHeaderPriceOverrideUserId = _userId;
      #        mcrHeaderPriceOverrideDiscPct = salesTable.orig().DiscPercent;
      #        // Record that a user overrode the total discount percent.
      #        salesTable.updateFinalDisc();
      #
      #        if (mcrHeaderPriceOverrideDiscPct != salesTable.DiscPercent)
      #        {
      #            element.mcrInsertPriceOverrideOrderEvent();
      #        }
      #    }
      #    else
      #    {
      #        mcrSalesTable.PriceOverride = NoYes::Yes;
      #        mcrHeaderPriceOverrideEventType = MCROrderEventType::SalesTablePriceOverrideTurnedOn;
      #        mcrHeaderPriceOverrideReasonCode = _mcrReasonCode;
      #        mcrHeaderPriceOverrideUserId = _userId;
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrInsertPriceOverrideOrderEvent
      #public void mcrInsertPriceOverrideOrderEvent()
      #{
      #    MCROrderEventTable      mcrOrderEventTable;
      #
      #    ttsbegin;
      #    mcrOrderEventTable.insertFromSalesTablePriceOverride(
      #        salesTable,
      #        mcrHeaderPriceOverrideEventType,
      #        mcrHeaderPriceOverrideReasonCode,
      #        mcrHeaderPriceOverrideUserId,
      #        mcrHeaderPriceOverrideDiscPct);
      #    ttscommit;
      #}
    ENDSOURCE
    SOURCE #mcrLaunchOrderSummary
      #/// <summary>
      #///     Opens summary screen and the refreshing or closing of the sales order
      #///     is called on the complete button for order entry, and if the order returned to a status of
      #///     open order after being cancelled.
      #/// </summary>
      #void mcrLaunchOrderSummary()
      #{
      #    Args                recapArgs;
      #    NoYes               modifyOrder;
      #    MCROrderRecapStatus mcrOrderRecapStatus;
      #
      #    SalesTableForm::mcrCompleteMarkupTransCalc(salesTable);
      #
      #    // Open the recap form based on order completion setting, except for projects
      #    // for which the recap form is never opened.
      #    if (enableOrderCompletion
      #        && !salesTable.ProjId)
      #    {
      #        // Show the recap form.
      #        recapArgs = SalesTableForm::mcrShowOrderRecap(salesTable);
      #
      #        // Return the enum which determines if they want to continue to modify the order.
      #        // See Forms\MCRSalesOrderRecap.canClose to see where the enum is set to Yes,
      #        // if the form is closed without using 'x' or 'esc'.
      #        modifyOrder = recapArgs.parmEnum();
      #    }
      #    else
      #    {
      #        // When skipping recap, they do not need to modify order.
      #        modifyOrder = NoYes::No;
      #
      #        // Process the completion of the order like the recap form.
      #        mcrOrderRecapStatus = MCREndOrder::orderRecap(salesTable);
      #    }
      #
      #    // If the user presses modify order, then return to order.
      #    if (modifyOrder == NoYes::Yes)
      #    {
      #        element.doRefresh();
      #    }
      #    else
      #    {
      #        // The "Add" value is for when the user comes from the create sales order menu.
      #        if(mcrCustomerServiceParm == MCRCustomerServiceParam::Add)
      #        {
      #            element.mcrClearScreen();
      #        }
      #        else
      #        {
      #            // Internally marks the sales order as closed, and closes the window
      #            // if the form has been called with parameters.
      #            if (salesTable.SalesStatus != SalesStatus::Backorder
      #                || salesTable.mcrOrderStopped == NoYes::No )
      #            {
      #                openOrderSalesTable = null;
      #            }
      #
      #            // if formMode has a value, then the SalesTable form was
      #            // called from Customer Service.
      #            if (mcrCustomerServiceParm != MCRCustomerServiceParam::None)
      #            {
      #                this.mcrCloseDownOrderEntry();
      #            }
      #
      #            element.doRefresh();
      #
      #            if (!salesTable)
      #            {
      #                salesTable_ds.executeQuery();
      #            }
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrLineManualDiscountOverride
      #/// <summary>
      #/// Record details of manual override.
      #/// </summary>
      #/// <param name="_reasonCode">
      #/// Reason code used to change price/discount.
      #/// </param>
      #/// <param name="_userId">
      #/// user id.
      #/// </param>
      #void mcrLineManualDiscountOverride(RetailInformationSubcodeId _reasonCode, UserId _userId = curUserId())
      #{
      #    mcrSalesLinePriceOverride.PriceOverride = NoYes::No;
      #    mcrSalesLinePriceOverride.ReasonCode = _reasonCode;
      #    // Load these values so that the appropriate values go into the order event.
      #    mcrLinePriceOverrideEventType  = MCROrderEventType::SalesLinePriceOverrideTurnedOn;
      #    mcrLinePriceOverrideReasonCode = _reasonCode;
      #    mcrLinePriceOverrideUserId = _userId;
      #}
    ENDSOURCE
    SOURCE #mcrLinePriceOverrideNo
      #/// <summary>
      #///     Recalculates price discounts, total line amounts and creates a price overrided turned off order event.
      #/// </summary>
      #/// <param name="_userId">
      #///     The user who overrode the price.
      #/// </param>
      #void mcrLinePriceOverrideNo(UserId _userId)
      #{
      #    if(salesLine.PriceDiscResultFields::canLineAmountBeUpdated())
      #    {
      #        mcrSalesLinePriceOverride.PriceOverride = NoYes::No;
      #        mcrSalesLinePriceOverride.ListPrice = 0;
      #        mcrSalesLinePriceOverride.ListPriceCurrencyCode = "";
      #        mcrSalesLinePriceOverride.ReasonCode = "";
      #        salesLine.setPriceDisc(salesLine.inventDim());
      #        //Load these values so that the appropriate values go into the order event.
      #        mcrLinePriceOverrideEventType  = MCROrderEventType::SalesLinePriceOverrideTurnedOff;
      #        mcrLinePriceOverrideReasonCode = "";
      #        mcrLinePriceOverrideUserId = _userId;
      #    }
      #    else
      #    {
      #        mcrSalesLinePriceOverride.PriceOverride = NoYes::Yes;
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #mcrLinePriceOverrideYes
      #void mcrLinePriceOverrideYes(RetailInformationSubcodeId _reasonCode, UserId _userId = curUserId())
      #{
      #    mcrSalesLinePriceOverride.PriceOverride = NoYes::Yes;
      #    mcrSalesLinePriceOverride.ReasonCode = _reasonCode;
      #    // Load these values so that the appropriate values go into the order event.
      #    mcrLinePriceOverrideEventType  = MCROrderEventType::SalesLinePriceOverrideTurnedOn;
      #    mcrLinePriceOverrideReasonCode = _reasonCode;
      #    mcrLinePriceOverrideUserId = _userId;
      #}
    ENDSOURCE
    SOURCE #mcrModify
      #void mcrModify()
      #{
      #    // Attempt to allow order to be modified.
      #    if (salesTable.mcrAllowStatusRollback())
      #    {
      #        // roll back the sales order status
      #        salesTable.mcrOpenSalesOrder();
      #
      #        if (salesTable.SalesStatus == SalesStatus::Backorder
      #            && enableOrderCompletion)
      #        {
      #            openOrderSalesTable = salesTable.data();
      #        }
      #
      #        // The active method does a lot of enabling and
      #        // disabling as well as calls set header control.
      #        // By calling active the screen should be in the correct
      #        // view for modifications.
      #        salesTable_ds.active();
      #        element.mcrSetLineControls();
      #
      #        //Enable the EDIT button when modify button is clicked.
      #        editSalesOrder.enabled(true);
      #
      #        element.doRefresh();
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrOrderEntryModeInit
      #void mcrOrderEntryModeInit()
      #{
      #    if (!mcrParmsSet)
      #    {
      #        retailMCRChannelTable = RetailMCRChannelTable::findChannelBySalesTable(salesTable);
      #        enableDirectedSelling = retailMCRChannelTable.mcrEnableDirectedSelling;
      #        enableOrderPriceControl = retailMCRChannelTable.mcrEnableOrderPriceControl;
      #        enableOrderCompletion = retailMCRChannelTable.mcrEnableOrderCompletion;
      #        mcrParmsSet = true;
      #    }
      #
      #    element.lock();
      #    // Initialization specifically for Journals and campaigns
      #    if (element.args().parmEnumType() == enumNum(SalesTableFormId)
      #        && element.args().parmEnum() == SalesTableFormId::MCRCampaign)
      #    {
      #        salesTable_ContactPersonId.visible(true);
      #    }
      #    // Initialization specifically for telemarketing SO
      #    else if (element.args().parmEnumType() == enumNum(SalesTableFormId)
      #        && element.args().parmEnum() == SalesTableFormId::MCRTelemarketing)
      #    {
      #        mcrSalesTable_SmmTMCallListID.visible(true);
      #        salesTable_ContactPersonId.visible(true);
      #    }
      #
      #    //Parameter to see if we are called from CustomerService. (also used from custtable, salestablelistpage, MCRReturnRecap)
      #    if (element.args().parmObject()
      #        && classIdGet(element.args().parmObject()) == classIdGet(salesTableConfigure))
      #    {
      #        salesTableConfigure = element.args().parmObject();
      #        mcrCustomerServiceParm = salesTableConfigure.parmCustomerServiceParam();
      #    }
      #
      #    // Used to signify form is called by Returns
      #    if (TradeFormHelper::isCalledFromForm(element.args(), formStr(ReturnTable))
      #        || TradeFormHelper::isCalledFromForm(element.args(), formStr(MCRReturnRecap)))
      #    {
      #        returnProcessing = true;
      #    }
      #
      #    // Hide and show contorls based on order parameters
      #    //  Action Pane: Sales Order
      #    editSalesOrder.enabled(!enableOrderCompletion
      #                           && tabPageDetails.isActivePage());
      #    modify.enabled(enableOrderCompletion);
      #    complete.enabled(enableOrderCompletion);
      #    creditCard.enabled(!enableOrderCompletion);
      #    payment_M_editCreditCard.enabled(!enableOrderCompletion);
      #    payment_M_editCreditCard.skip(enableOrderCompletion);
      #    groupLineViewHeader.visible(!enableOrderCompletion);
      #    mcrGroupLineViewHeader.visible(enableOrderCompletion);
      #
      #    mcrPriceOverrideIcon.enabled(enableOrderPriceControl);
      #    mcrPriceOverrideIcon.skip(!enableOrderPriceControl);
      #    mcrPriceMatch.enabled(enableOrderPriceControl);
      #    mcrSalesLinePriceOverride_PriceOverride.enabled(enableOrderPriceControl);
      #    mcrSalesLinePriceOverride_PriceOverride.skip(!enableOrderPriceControl);
      #
      #    mcrSalesTable_PriceOverride.enabled(enableOrderPriceControl);
      #    mcrSalesTable_PriceOverride.skip(!enableOrderPriceControl);
      #
      #    mcrMarginAlert.enabled(enableOrderPriceControl);
      #    mcrPriceOverride.enabled(enableOrderPriceControl);
      #    mcrPriceGroup.enabled(enableOrderPriceControl);
      #
      #    mcrCatalog.enabled(enableDirectedSelling);
      #    mcrSalesLine_LineType.enabled(enableDirectedSelling);
      #    mcrSalesLine_LineType.skip(!enableDirectedSelling);
      #    mcrSalesLine_SourceId.enabled(enableDirectedSelling);
      #    mcrItemDisplay.enabled(enableDirectedSelling);
      #    mcrSalesTable_SourceId.enabled(enableDirectedSelling);
      #    mcrSalesTable_SourceId.skip(!enableDirectedSelling);
      #    mcrDetails.enabled(enableDirectedSelling);
      #    mcrSalesTable_SourceIdGrid.enabled(enableDirectedSelling);
      #    mcrSalesTable_SourceIdGrid.skip(!enableDirectedSelling);
      #    mcrCustomerService.enabled(enableDirectedSelling);
      #
      #    //Grey out the EDIT button when modify is enabled.
      #    //Even if EDIT button is clicked from its list page the form should be in view mode as long as Modify is enabled
      #    if (enableOrderCompletion)
      #    {
      #        element.mcrSwapCompleteAndModifyButtons();
      #    }
      #
      #    mcrSalesTable_ds.object(fieldNum(MCRSalesTable,SourceId)).mandatory(mcrOrderParameters.mcrSourceCodeRequired);
      #    mcrSalesLine_ds.object(fieldNum(MCRSalesLine,SourceId)).mandatory(mcrOrderParameters.mcrSourceCodeRequired);
      #    // set boolean so initial order messages are to display
      #    mcrSkipscript = 0;
      #
      #    element.unlock();
      #}
    ENDSOURCE
    SOURCE #mcrProcessOrderRecap
      #/// <summary>
      #///     Completes the order like the order recap form would.
      #/// </summary>
      #/// <returns>
      #///     true if the order is completed without an error; otherwise, false.
      #/// </returns>
      #/// <remarks>
      #///     If an error occurs, the user is returned to modify the order.
      #/// </remarks>
      #boolean mcrProcessOrderRecap()
      #{
      #    //Order types other than sales and returns require no processing.
      #    if (salesTable.SalesType != SalesType::Sales
      #    && salesTable.SalesType != SalesType::ReturnItem)
      #    {
      #        return true;
      #    }
      #    return true;
      #}
    ENDSOURCE
    SOURCE #mcrPromptForGiftCardUpdate
      #public void mcrPromptForGiftCardUpdate()
      #{
      #    Args                credArgs;
      #    FormRun             credFormRun;
      #    MCRSalesLine        mcrSalesLineLocal;
      #
      #    credArgs = new Args();
      #
      #    credArgs.name(formStr(MCRGiftCardUpdatePromptDialog));
      #    credArgs.record(mcrSalesLine);
      #    credFormRun = classfactory.formRunClass(credArgs);
      #    credFormRun.run();
      #    credFormRun.wait();
      #
      #    if (credFormRun.closedOk())
      #    {
      #        mcrSalesLineLocal = credArgs.record();
      #
      #        //update fields
      #        mcrSalesLine.GiftCardNumber = mcrSalesLineLocal.GiftCardNumber;
      #        mcrSalesLine.GiftCardType = mcrSalesLineLocal.GiftCardType;
      #        mcrSalesLine.GiftCardBuyerName = mcrSalesLineLocal.GiftCardBuyerName;
      #        mcrSalesLine.GiftCardRecipientName = mcrSalesLineLocal.GiftCardRecipientName;
      #        mcrSalesLine.GiftCardBuyerEmail = mcrSalesLineLocal.GiftCardBuyerEmail;
      #        mcrSalesLine.GiftCardRecipientEmail = mcrSalesLineLocal.GiftCardRecipientEmail;
      #        mcrSalesLine.GiftCardGiftMessage = mcrSalesLineLocal.GiftCardGiftMessage;
      #
      #        mcrSalesLine_ds.refresh();
      #    }
      #}
      #
      #
    ENDSOURCE
    SOURCE #mcrPromptOpenOrderNotAllowed
      #void mcrPromptOpenOrderNotAllowed()
      #{
      #    // if the status of the order being evaluated has had
      #    // its status changed to something other than open order
      #    // (backorder) clear out the buffer which indicates an open order.
      #    // The user should not be allowed to leave an order open only if the order is
      #    // a sales order
      #    if (!salesTable.mcrOrderProcessed())
      #    {
      #        startLengthyOperation();
      #
      #        if (salesTable.Touched == NoYes::Yes)
      #        {
      #            salesTable.reread();
      #        }
      #
      #        if (element.mcrCheckComplete())
      #        {
      #            // Returns processing will handle completion of a return and exchange order,
      #            // therefore, don't launch the sales recap form.
      #            if (returnProcessing)
      #            {
      #                SalesTableForm::mcrCompleteMarkupTransCalc(salesTable);
      #
      #                // Need to know the user clicked complete.
      #                element.close();
      #            }
      #            else
      #            {
      #                element.mcrLaunchOrderSummary();
      #
      #                salesTable_ds.reread();
      #                salesTable_ds.refresh();
      #                salesTable_ds.active();
      #            }
      #        }
      #
      #        element.mcrClearOpenOrderSalesTableBuffer();
      #
      #        endLengthyOperation();
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrRefreshMarginAlert
      #/// <summary>
      #/// Refreshes the estimated margin percentage and margin icon if the margin alert
      #/// is enabled.
      #/// </summary>
      #void mcrRefreshMarginAlert()
      #{
      #    if (salesParameters.mcrEnableMarginAlert)
      #    {
      #        marginMap.remove(salesLine.InventTransId);
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrSetEditGiftCard
      #void mcrSetEditGiftCard()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #
      #    element.lock();
      #
      #    // Hide or show fields based on the item being a physical gift card
      #    salesTableInteractionHelper.mcrInitGiftCardControls(salesLine.ItemId, mcrSalesLine.GiftCardType);
      #
      #    if (salesTableInteractionHelper.parmMCRClearGiftCardNumber())
      #    {
      #        mcrSalesLine.GiftCardNumber = '';
      #    }
      #
      #    mcrUpdateGiftCard.enabled(salesTableInteractionHelper.parmMCRUpdateGiftCardEnabled());
      #    giftCardVirtual.visible(salesTableInteractionHelper.parmMCRGiftCardVirtualVisible());
      #    giftCardPhysical.visible(salesTableInteractionHelper.parmMCRGiftCardPhysicalVisible());
      #    mcrSalesLine_GiftCardNumber.visible(salesTableInteractionHelper.parmMCRGiftCardNumberVisible());
      #
      #    mcrGiftCardPolicies.visible(salesTableInteractionHelper.parmMCRGiftCardPoliciesVisible());
      #    // <GEERU>
      #    MCRSalesLine_GiftCardAmount_RU.visible(salesTableInteractionHelper.parmMCRGiftCardAmountVisible_RU());
      #    // </GEERU>
      #
      #    element.unlock();
      #}
      #
    ENDSOURCE
    SOURCE #mcrSetEditItemAllowed
      #void  mcrSetEditItemAllowed(boolean _allowEdit)
      #{
      #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit  (_allowEdit);
      #}
      #
    ENDSOURCE
    SOURCE #mcrSetHeaderControls
      #public void mcrSetHeaderControls()
      #{
      #    boolean allowEdit   = true;
      #    boolean allowDelete = true;
      #    SalesTableInteractionHelper salesTableInteractionHelper;
      #
      #    element.lock();
      #
      #    if (enableDirectedSelling || enableOrderCompletion)
      #    {
      #        salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #        salesTableInteractionHelper.mcrInitHeaderControls(salesTable,
      #                                                            enableOrderCompletion,
      #                                                            returnProcessing,
      #                                                            mcrReturnSalesTable.IsExchange);
      #    }
      #
      #    if (enableDirectedSelling)
      #    {
      #        //ButtonHeaderFunction
      #        salesCopyAllHeader.enabled(salesTableInteractionHelper.parmMCRHeaderFunctionButtonsEnabled());
      #        salesCopyJournalHeader.enabled(salesTableInteractionHelper.parmMCRHeaderFunctionButtonsEnabled());
      #        salesCreditNoteHeader.enabled(salesTableInteractionHelper.parmMCRHeaderFunctionButtonsEnabled());
      #    }
      #
      #    if (enableOrderCompletion)
      #    {
      #        allowEdit   = salesTableInteractionHelper.parmMCRHeaderAllowEdit();
      #        allowDelete = salesTableInteractionHelper.parmMCRHeaderAllowDelete();
      #
      #        //ButtonHeaderSetup
      #        buttonMarkupTransHeading.enabled(allowEdit);
      #
      #        //ButtonLineSetup
      #        buttonMarkupTransLine.enabled(allowEdit);
      #        lineTaxTransSource.enabled(allowEdit);
      #
      #        // Toggle the complete/modify button
      #        // Initialize buttons to not be visible.  They are turned on later.
      #        element.mcrVisibleControl(complete, false); // performance tuning
      #        element.mcrVisibleControl(modify, false);   // perofrmance tuning
      #
      #        // If status is Open, enable the complete button.
      #        if (salesTableInteractionHelper.parmMCRCompleteButtonEnabled())
      #        {
      #            element.mcrVisibleControl(complete, true); // performance tuning
      #            complete.enabled(true);
      #        }
      #        //Otherwise, show modify.
      #        else
      #        {
      #            element.mcrVisibleControl(modify, true); // performance tuning
      #            modify.enabled(salesTableInteractionHelper.parmMCROrderModifyEnabled());
      #        }
      #    }
      #
      #    element.editSales(allowEdit, allowDelete);
      #
      #    element.unlock();
      #}
    ENDSOURCE
    SOURCE #mcrSetLineControls
      #/// <summary>
      #///     Updates controls for the sales order lines.
      #/// </summary>
      #void mcrSetLineControls()
      #{
      #    SalesTableInteractionHelper salesTableInteractionHelper;
      #
      #    if (mcrCallCenterEnabled)
      #    {
      #        element.lock();
      #
      #        salesTableInteractionHelper = SalesTableInteractionHelper::construct();
      #        salesTableInteractionHelper.mcrInitLineControls(salesTable,
      #                                                        salesLine,
      #                                                        enableOrderCompletion,
      #                                                        enableDirectedSelling,
      #                                                        mcrSalesLinePriceOverride.PriceOverride);
      #
      #        lineStripDelete.enabled(salesTableInteractionHelper.parmMCRLineStripDeleteEnabled());
      #        mcrLineNotesLine.enabled(salesTableInteractionHelper.parmMCRLineNotesLineEnabled());
      #
      #        if (salesTableInteractionHelper.parmMCREditItemAllowed())
      #        {
      #            element.mcrSetEditItemAllowed(true);
      #        }
      #
      #        salesLine_ds.object(fieldNum(SalesLine, SalesUnit)).allowEdit(
      #                                                                salesTableInteractionHelper.parmMCRAllowEditSalesUnit());
      #        salesLine_ds.object(fieldNum(SalesLine, SalesQty)).allowEdit(
      #                                                                salesTableInteractionHelper.parmMCRAllowEditSalesQty());
      #        mcrSalesLine_ds.object(fieldNum(MCRSalesLine, SourceId)).allowEdit(
      #                                                                salesTableInteractionHelper.parmMCRAllowEditSourceId());
      #
      #        element.mcrSetEditGiftCard();
      #
      #        element.unlock();
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrSetScriptStr
      #void mcrSetScriptStr(str _scriptStr)
      #{
      #    if (enableDirectedSelling)
      #    {
      #        if(mcrScript != _scriptStr
      #            && mcrSkipScript == 0)
      #        {
      #            mcrScript = _scriptStr;
      #        }
      #
      #        if(mcrSkipScript > 0)
      #        {
      #            mcrSkipScript--;
      #        }
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrSwapCompleteAndModifyButtons
      #/// <summary>
      #/// Enable/Disable the EDIT button according to current status of sales order
      #/// </summary>
      #public void mcrSwapCompleteAndModifyButtons()
      #{
      #    boolean completeButtonIsEnable = (salesTable.SalesStatus == SalesStatus::Backorder && salesTable.mcrOrderStopped == NoYes::Yes);
      #
      #    editSalesOrder.enabled(completeButtonIsEnable);
      #    LineOverviewMainActionButtonGroup.enabled(completeButtonIsEnable);
      #
      #    // Toggle edit mode of the form.
      #    // Do it only not in a transaction.
      #    if(element.inViewMode() == completeButtonIsEnable && appl.ttsLevel() ==0)
      #    {
      #        element.task(#taskEditRecord);
      #    }
      #}
      #
    ENDSOURCE
    SOURCE #mcrVisibleControl
      #/// <summary>
      #///     Changes visibility of a form control when the control is not auto-declared.
      #/// </summary>
      #/// <param name="_formControl">
      #///     The form control that needs to be made visible or not visible.
      #/// </param>
      #/// <param name="_visible">
      #///     A boolean to indicate if a form control has to be made visible or not visible.
      #/// </param>
      #void mcrVisibleControl(
      #    FormControl     _formControl,
      #    boolean         _visible
      #    )
      #{
      #    // Only change visibility if value is different
      #    if (_formControl.visible() != _visible)
      #    {
      #        _formControl.visible(_visible);
      #    }
      #}
    ENDSOURCE
    SOURCE #mcrVisibleObject
      #/// <summary>
      #///     Changes visibility of a data object when the object is not auto-declared.
      #/// </summary>
      #/// <param name="_formDataObject">
      #///     The data object from form that needs to be made visible or not visible.
      #/// </param>
      #/// <param name="_visible">
      #///     A boolean to indicate if a form data object has to be made visible or not visible.
      #/// </param>
      #void mcrVisibleObject(
      #    FormDataObject  _formDataObject,
      #    boolean         _visible
      #    )
      #{
      #    if (_formDataObject.visible() != _visible)
      #    {
      #        _formDataObject.visible(_visible);
      #    }
      #}
    ENDSOURCE
    SOURCE #multiLineDiscount
      #/// <summary>
      #/// Calculates multi line discounts.
      #/// </summary>
      #public void multiLineDiscount()
      #{
      #    element.automaticTotalDiscount();
      #
      #    if (salesTable.updateMultiLineDisc())
      #    {
      #        salesLine_ds.research(true);
      #    }
      #}
    ENDSOURCE
    SOURCE #newSalesId
      #SalesId  newSalesId(SalesId  _newSalesId = newSalesId)
      #{
      #    newSalesId = _newSalesId;
      #    return _newSalesId;
      #}
    ENDSOURCE
    SOURCE #nextGroup
      #void  nextGroup()
      #{
      #    if (!SalesLine::exist(salesTable.SalesId))
      #    {
      #        salesLine_ds.create();
      #    }
      #
      #    //Only setfocus if on the correct form view
      #    if(salesLine_ItemId.isDisplayed())
      #    {
      #        salesLine_ItemId.setFocus();
      #    }
      #}
    ENDSOURCE
    SOURCE #noteFormatEdit
      #/// <summary>
      #///     This method sets the fields <c>RefInvoiceId</c>, <c>RefInvoiceAmountCur</c> and <c>ReasonTableRef</c>
      #///     of table <c>SalesTable</c> editable or not.
      #/// </summary>
      #/// <remarks>
      #///     These fields is not editable only when the note format is <c>TaxUnrealizedSalesNoteFormat::None</c>.
      #/// </remarks>
      #//<GTH>
      #public void noteFormatEdit()
      #{
      #    boolean     isNoneFormat;
      #
      #    isNoneFormat = (salesTableExtensionTH.NoteFormat == TaxUnrealizedSalesNoteFormat::None);
      #
      #    salesTableExtensionTH_ds.object(fieldNum(SalesTableExtensionTH, RefInvoiceId)).allowEdit(!isNoneFormat);
      #    salesTableExtensionTH_ds.object(fieldNum(SalesTableExtensionTH, RefInvoiceAmountCur)).allowEdit(!isNoneFormat);
      #    editReasonCode_TH.allowEdit(!isNoneFormat);
      #}
      #//</GTH>
    ENDSOURCE
    SOURCE #objectDeclaration
      #/*
      #<<Maria_PracticeProject
      #    added:
      #        stringEdit control: <<NOV_06_2017
      #                            \Forms\SalesTable\Designs\Design\[Tab:MainTab]\[TabPage:TabPageDetails]\[Tab:DetailsTab]\[TabPage:HeaderView]\[Tab:HeaderDetailsTab]\[TabPage:TabHeaderGeneral]\[Group:GroupCustomer]\StringEdit:Maria_PhoneNumber
      #                            \Forms\SalesTable\Designs\Design\[Tab:MainTab]\[TabPage:TabPageDetails]\[Tab:DetailsTab]\[TabPage:HeaderView]\[Tab:HeaderDetailsTab]\[TabPage:TabHeaderGeneral]\[Group:GroupCustomer]\StringEdit:Maria_FaxNumber
      #                            >>
      #>>Maria_PracticeProject
      #<<MB_SOConfirmationEmailTemplate
      #    added:
      #        method: <<JAN_05_2018
      #                \Forms\SalesTable\Designs\Design\[ActionPane:ActionPaneHeader]\[ActionPaneTab:Sell]\[ButtonGroup:Generate]\MenuItemButton:buttonUpdateConfirmation\Methods\clicked
      #                >>
      #>>MB_SOConfirmationEmailTemplate
      #<<MB_AllowSendingSOConfirmationEmail
      #    added:
      #        code:   <<JAN_08_2018
      #                \Forms\SalesTable\Designs\Design\[ActionPane:ActionPaneHeader]\[ActionPaneTab:Sell]\[ButtonGroup:Generate]\MenuItemButton:buttonUpdateConfirmation\Methods\clicked
      #                >>
      #>>MB_AllowSendingSOConfirmationEmail
      #
      #*/
      #private void objectDeclaration()
      #{
      #}
    ENDSOURCE
    SOURCE #parmPostalAddressLocation
      #public LogisticsLocationRecId parmPostalAddressLocation(LogisticsLocationRecId _postalAddressLocation = 0)
      #{
      #    if (!_postalAddressLocation)
      #    {
      #        // Set location by active datasource
      #        if (element.dataSource().name() == salesLine_ds.name())
      #        {
      #            _postalAddressLocation = salesLine.deliveryLocation();
      #        }
      #        else
      #        {
      #            _postalAddressLocation = salesTable.deliveryLocation();
      #        }
      #    }
      #
      #    postalAddressLocation = _postalAddressLocation;
      #    return postalAddressLocation;
      #}
    ENDSOURCE
    SOURCE #pbaConfigureLine
      #void pbaConfigureLine()
      #{
      #    PBATablePBAInstance pbaTablePBAInstance;
      #    boolean             isConstraintBasedConfigurable = PCRuntimeLibrary::isConstraintBasedConfigurable(salesLine.ItemId);
      #
      #    if (isConstraintBasedConfigurable)
      #    {
      #        PCExecuteVariantConfiguration::execute(salesLine, salesLine.ItemId, inventDim.ConfigId);
      #    }
      #    else
      #    {
      #        if (!autoConfig )
      #        {
      #            PBAExecute::execute(salesLine,pbaTablePBAInstance, salesLine.CustAccount);
      #        }
      #
      #        autoConfig = false;
      #    }
      #
      #    // syncs sales table with db
      #    salesLine_ds.research(true);
      #    if (isConstraintBasedConfigurable && salesLine.type(salesTable).mustConfirmDates(SalesConfirmDatesUIStrategy::construct()))
      #    {
      #        salesLine_ds.write();
      #    }
      #}
    ENDSOURCE
    SOURCE #performCustInvoiceJourLookup_MY
      #/// <summary>
      #/// Performs lookup for <c>CustInvoiceJour</c> table.
      #/// </summary>
      #/// <param name="_control">
      #/// The control to require lookup.
      #/// </param>
      #/// <param name="_queryRange">
      #/// The range of query.
      #/// </param>
      #/// <param name="_custAccount">
      #/// The account of customer.
      #/// </param>
      #// <GMY>
      #public void performCustInvoiceJourLookup_MY(
      #    FormStringControl   _control,
      #    Range               _queryRange,
      #    CustAccount         _custAccount)
      #{
      #    custInvoiceJourLookupController.parmQueryRange(_queryRange);
      #    custInvoiceJourLookupController.parmCustAccount(_custAccount);
      #    custInvoiceJourLookupController.performLookup(_control);
      #}
      #// <GMY>
    ENDSOURCE
    SOURCE #pmfIsEnabled
      #/// <summary>
      #/// Returns if the PMF security key is enabled
      #/// </summary>
      #/// <returns type="boolean">True if enabled; otherwise false</returns>
      #public boolean pmfIsEnabled()
      #{
      #    return salesLine.inventTable().isFormulaAllowed();
      #}
    ENDSOURCE
    SOURCE #recalculateRetailPricesDiscounts
      #void recalculateRetailPricesDiscounts()
      #{
      #    RetailSalesTable retailSalesTable = salesTable.retailSalesTable();
      #
      #    RetailSalesOrderCalculator::setPricesDiscountsOnOrderOnServer(salesTable.SalesId, retailSalesTable.TotalManualDiscountPercentage);
      #
      #    retailOrderNeedRecalculation = false;
      #
      #    salesLine_ds.reread();
      #    salesLine_ds.refresh();
      #}
      #
    ENDSOURCE
    SOURCE #refreshSalesLine_IN
      #// <GIN>
      #void refreshSalesLine_IN()
      #{
      #    salesLine_IN_ds.reread();
      #    salesLine_IN_ds.refresh();
      #}
      #// </GIN>
      #
    ENDSOURCE
    SOURCE #refreshTmsDisplayRouteCode
      #/// <summary>
      #/// Refresh local cache for the sales order record
      #/// </summary>
      #public void refreshTmsDisplayRouteCode()
      #{
      #    salesTableForm.tmsDisplayRouteCode(salesTable, true);
      #}
    ENDSOURCE
    SOURCE #removeAgreementLink
      #public void removeAgreementLink()
      #{
      #    SalesTableForm_DlvScheduleSyncEnabled   salesTableFormDlvSchedule;
      #    SalesLine                               origSalesLine = salesLine.orig().data();
      #    boolean                                 doNotAsk;
      #
      #    if (salesLine.unLinkAgreementLinePrompt())
      #    {
      #        // When the user manually removes a link to an agreement line, then also prevent automatic (re)linking of agreement lines
      #        salesLine.AgreementSkipAutoLink = NoYes::Yes;
      #
      #        if (salesLine.LineDeliveryType == LineDeliveryType::OrderLineWithMultipleDeliveries)
      #        {
      #            salesTableFormDlvSchedule = salesTableForm as SalesTableForm_DlvScheduleSyncEnabled;
      #            salesTableFormDlvSchedule.parmOrderLineOrig(origSalesLine);
      #            if (salesTableFormDlvSchedule.deliveryLinesSync(salesLine, doNotAsk))
      #            {
      #                // Re-query delivery lines displayed by grid and update grid
      #                salesLine_DS.executeQuery();
      #            }
      #        }
      #        // <GEERU>
      #        salesLine_DS.research(true);
      #        // </GEERU>
      #
      #        element.enableLineAgreementActions();
      #    }
      #}
    ENDSOURCE
    SOURCE #returnedItem
      #boolean returnedItem()
      #{
      #    return salesTable.SalesType == SalesType::ReturnItem;
      #}
    ENDSOURCE
    SOURCE #run
      #void  run()
      #{
      #    int designatedTabNo = 1;
      #    SalesTable salesTableLocal;
      #
      #    if (TradeFormHelper::isCalledFromListPage(element.args()))
      #    {
      #        designatedTabNo = 3;
      #    }
      #
      #    // <GIN>
      #    SysListPageHelper::handleRunPreSuper(element, lineViewTab, designatedTabNo, designatedTabNo);
      #    // </GIN>
      #    // Set proper TAB explicitly.
      #    lineViewTab.tab(designatedTabNo);
      #
      #    super();
      #    // <GIN>
      #    SysListPageHelper::handleRunPostSuper(element, lineViewTab);
      #    // </GIN>
      #    docuActionTemplateUndefined.visible(!isDocuActionTemplate);
      #
      #    // Code used to create a new Sales Order within SalesTable when
      #    // it is called from Customer Service.  Most of this code was taken
      #    // from SalesCreateOrder.
      #    if (mcrCustomerServiceParm == MCRCustomerServiceParam::Create || mcrCustomerServiceParm == MCRCustomerServiceParam::CreateNew)
      #    {
      #        salesTableLocal = element.args().lookupRecord();
      #        if(salesTableLocal)
      #        {
      #            salesTable_ds.findRecord(salesTableLocal);
      #        }
      #        else
      #        {
      #            salesTable_ds.create();
      #        }
      #    }
      #
      #    if (mcrCustomerServiceParm == MCRCustomerServiceParam::OneTime)
      #    {
      #        salesTable_ds.create();
      #    }
      #    //Only setfocus if on the correct form view
      #    if(mcrSalesTable_SourceId.isDisplayed())
      #    {
      #        mcrSalesTable_SourceId.setFocus();
      #    }
      #    if(salesLine_ItemId.isDisplayed()) //Only setfocus if on the correct form view
      #    {
      #        salesLine_ItemId.setFocus();
      #    }
      #
      #}
    ENDSOURCE
    SOURCE #salesTable
      #SalesTable salesTable()
      #{
      #    return salesTable;
      #}
    ENDSOURCE
    SOURCE #setBasisDate_IN
      #// <GIN>
      #public void setBasisDate_IN()
      #{
      #    CustInvoiceTrans custInvoiceTransOrig;
      #    SalesLine        salesLineOrig;
      #
      #    custInvoiceTransOrig = CustInvoiceTrans::findRecId(salesLineReturnDetails_IN.CustInvoiceTrans);
      #    salesLineOrig        = custInvoiceTransOrig.salesLine();
      #
      #    if (salesLineReturnDetails_IN.BasisType == SalesReturnCalculationDateType_IN::InvoiceDate)
      #    {
      #        salesLineReturnDetails_IN.BasisDate = custInvoiceTransOrig.InvoiceDate;
      #    }
      #    else if (salesLineReturnDetails_IN.BasisType == SalesReturnCalculationDateType_IN::DeliveryDate)
      #    {
      #        salesLineReturnDetails_IN.BasisDate = salesLineOrig.ReceiptDateConfirmed;
      #    }
      #    salesLineReturnDetails_IN_ds.write();
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setCaptionText
      #void  setCaptionText()
      #{
      #    element.design().caption(strFmt(
      #        "@SYS4009992", //'%1 %2 %3 %4 %5 %6 %7 %8'
      #            "@SYS9694",
      #            salesTable.SalesId,
      #            ',',
      #            "@SYS7399",
      #            salesTableForm.captionName(),
      #            ',',
      #            "@SYS5398",
      #            salesLine.itemName()
      #    ));
      #}
    ENDSOURCE
    SOURCE #setEditItemOrCategoryAllowed
      #/// <summary>
      #/// Enables or disables editing of the item and sales category fields.
      #/// </summary>
      #/// <param name="allowEdit">
      #/// Whether to enable editing.
      #/// </param>
      #void setEditItemOrCategoryAllowed(boolean  allowEdit)
      #{
      #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit(allowEdit);
      #
      #    // <GBR>
      #    if (BrazilParameters::isEnabled())
      #    {
      #        salesLine_ds.object(fieldNum(SalesLine, SalesCategory)).allowEdit(false);
      #    }
      #    else
      #    {
      #    // </GBR>
      #        salesLine_ds.object(fieldNum(SalesLine, SalesCategory)).allowEdit(allowEdit);
      #    // <GBR>
      #    }
      #    // </GBR>
      #}
    ENDSOURCE
    SOURCE #setEximFieldsAccess_IN
      #// <GIN>
      #public void setEximFieldsAccess_IN()
      #{
      #    EximParameters_IN eximParameters;
      #    boolean           isDBKEnabled;
      #    boolean           isInvoice;
      #    boolean           isDEPBApplicable;
      #
      #    if (salesTable.CustomsExportOrder_IN && TaxParameters::find().EximIncentiveSchemes_IN)
      #    {
      #        eximParameters   = EximParameters_IN::find();
      #        isInvoice        = salesLine.SalesQty > 0 ? true : false;
      #        isDBKEnabled     = isInvoice && (eximSalesLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None);
      #        isDEPBApplicable = isInvoice && eximSalesLine_IN.ApplyDEPB;
      #
      #        eximIncentiveScheme_IN.visible(true);
      #        incentiveSchemeGroup_IN.visible(true);
      #
      #        eximSalesLine_IN_ApplyDEPB.visible(eximParameters.ActivateDEPB);
      #        eximSalesLine_IN_MarketValue.visible(eximParameters.ActivateDEPB);
      #        eximSalesLine_IN_DBKCenvatStatus.visible(eximParameters.ActivateDutyDrawback);
      #        eximSalesLine_IN_DBKRateType.visible(eximParameters.ActivateDutyDrawback);
      #        eximSalesLine_IN_DBKPercent.visible(eximParameters.ActivateDutyDrawback);
      #
      #        eximAA_IN.visible(eximParameters.ActivateAA);
      #        eximDFIA_IN.visible(eximParameters.ActivateDFIA);
      #
      #        eximEPCG_IN.visible(eximParameters.ActivateEPCG);
      #
      #        eximSalesLine_IN_ApplyDEPB.allowEdit(isInvoice);
      #        eximSalesLine_IN_MarketValue.allowEdit(isDEPBApplicable);
      #        eximSalesLine_IN_DBKCenvatStatus.allowEdit(isInvoice);
      #        eximSalesLine_IN_DBKRateType.allowEdit(isDBKEnabled);
      #        eximSalesLine_IN_DBKPercent.allowEdit(isDBKEnabled);
      #        eximSalesLine_IN_EximIncentiveSchemeGroup.allowEdit(isInvoice);
      #        eximSalesLine_IN_EximPorts.allowEdit(isInvoice);
      #        eximSalesLine_IN_EximProductGroupTable.allowEdit(isInvoice);
      #
      #        // buttons
      #        incentiveSchemeGroup_IN.enabled(isInvoice);
      #
      #        eximAA_IN.enabled(isInvoice);
      #        eximDFIA_IN.enabled(isInvoice);
      #
      #        eximEPCG_IN.enabled(isInvoice);
      #    }
      #    else
      #    {
      #        eximIncentiveScheme_IN.visible(false);
      #        incentiveSchemeGroup_IN.visible(false);
      #        incentiveSchemeGroup_IN.enabled(false);
      #        eximAA_IN.enabled(false);
      #        eximDFIA_IN.enabled(false);
      #
      #        eximEPCG_IN.enabled(false);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setReturnDetails_IN
      #/// <summary>
      #/// Reseting the Return Feilds when the return order becomes normal sales order.
      #/// </summary>
      #// <GIN>
      #public void setReturnDetails_IN()
      #{
      #    salesLineReturnDetails_IN.Period     = 0;
      #    salesLineReturnDetails_IN.Type       = SalesReturnType_IN::None;
      #    salesLineReturnDetails_IN.BasisType  = SalesReturnCalculationDateType_IN::None;
      #    salesLineReturnDetails_IN.PeriodType = SalesReturnPeriodUnit_IN::None;
      #    salesLineReturnDetails_IN_ds.write();
      #    salesLineReturnDetails_IN_ds.reread();
      #    salesLineReturnDetails_IN_ds.refresh();
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Type)).allowEdit(false);
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(false);
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(false);
      #    salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(false);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setReturnFields
      #void setReturnFields()
      #{
      #    boolean     allowEditOrCreate = !salesTable.returnItem();
      #
      #    salesLine_ds.allowCreate(allowEditOrCreate);
      #
      #    // Sales header enabling and disabling
      #
      #    salesAvailableDlvDatesHeader.enabled(allowEditOrCreate && salesAvailableDlvDatesHeader.enabled());
      #
      #    salesTable_ds.object(fieldNum(SalesTable, Deadline)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldNum(SalesTable, InventLocationId)).allowEdit(allowEditOrCreate );
      #    salesTable_ds.object(fieldNum(SalesTable, Reservation)).allowEdit(allowEditOrCreate);
      #
      #    salesTable_ds.object(fieldNum(SalesTable, ItemTagging)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldNum(SalesTable, CaseTagging)).allowEdit(allowEditOrCreate);
      #    salesTable_ds.object(fieldNum(SalesTable, PalletTagging)).allowEdit(allowEditOrCreate);
      #
      #    delivery.allowEdit(allowEditOrCreate);
      #    miscDelivery.allowEdit(allowEditOrCreate);
      #    transport.allowEdit(allowEditOrCreate);
      #    payment.allowEdit(allowEditOrCreate);
      #    carrierInfo.allowEdit(allowEditOrCreate);
      #
      #    tmsTransportation.allowEdit(allowEditOrCreate);
      #
      #    // Salesline enabling and disabling
      #
      #    salesAvailableDlvDatesLine.enabled(allowEditOrCreate && salesAvailableDlvDatesLine.enabled());
      #
      #    // ItemId, SalesQty, Blocked, Complete, Return lot id
      #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit(allowEditOrCreate && salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit());
      #    salesLine_ds.object(fieldNum(SalesLine, SalesQty)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, Blocked)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, Complete)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, InventTransIdReturn)).allowEdit(allowEditOrCreate);
      #
      #    // Inventory dimensions
      #    inventDim_ds.allowEdit(allowEditOrCreate);
      #
      #    salesLine_ds.object(fieldNum(SalesLine, LedgerDimension)).allowEdit(allowEditOrCreate);
      #
      #    // Quantity
      #    salesLine_ds.object(fieldNum(SalesLine, SalesDeliverNow)).allowEdit(allowEditOrCreate);
      #
      #    // Price discount
      #    salesLine_ds.object(fieldNum(SalesLine, LinePercent)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, LineDisc)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, MultiLnDisc)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, MultiLnPercent)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, PriceUnit)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, SalesMarkup)).allowEdit(allowEditOrCreate);
      #
      #    // Carrier info
      #    salesLine_ds.object(fieldNum(SalesLine, ShipCarrierAccount)).allowEdit(allowEditOrCreate);
      #
      #    // Bar code
      #    salesLine_ds.object(fieldNum(SalesLine, BarCode)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, BarCodeType)).allowEdit(allowEditOrCreate);
      #
      #    // Project
      #    salesLine_ds.object(fieldNum(SalesLine, ProjId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, ProjCategoryId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, ProjTransId)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, ActivityNumber)).allowEdit(allowEditOrCreate);
      #
      #    // Packing materials
      #    salesLine_ds.object(fieldNum(SalesLine, PackingUnit)).allowEdit(allowEditOrCreate);
      #    salesLine_ds.object(fieldNum(SalesLine, PackingUnitQty)).allowEdit(allowEditOrCreate);
      #
      #    lineDelivery.allowEdit(allowEditOrCreate);
      #    miscLineDelivery.allowEdit(allowEditOrCreate);
      #    lineInventory.allowEdit(allowEditOrCreate);
      #}
    ENDSOURCE
    SOURCE #setReturnFields_IN
      #// <GIN>
      #void setReturnFields_IN()
      #{
      #    if (salesTable.SalesType == SalesType::ReturnItem)
      #    {
      #        tabTaxInformation_IN.allowEdit(!salesLine.InventTransIdReturn);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Type)).allowEdit(salesLine.SalesQty<0);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #
      #        if (ReturnDispositionCode::find(salesLine.ReturnDispositionCodeId).DispositionAction == DispositionAction::CreditOnly)
      #        {
      #            salesLine_IN.ExciseRecordType_IN = ExciseRecordType_IN::None;
      #            salesLine_IN.DirectSettlement_IN = DirectSettlement_IN::None;
      #            exciseNone_IN.allowEdit(false);
      #            exciseManufacture_IN.allowEdit(false);
      #            exciseTraders_IN.allowEdit(false);
      #        }
      #        else
      #        {
      #            exciseNone_IN.allowEdit(true);
      #            exciseManufacture_IN.allowEdit(true);
      #            exciseTraders_IN.allowEdit(true);
      #        }
      #    }
      #    else
      #    {
      #        exciseNone_IN.allowEdit(true);
      #        exciseManufacture_IN.allowEdit(true);
      #        exciseTraders_IN.allowEdit(true);
      #        tabTaxInformation_IN.allowEdit(true);
      #    }
      #
      #    SalesLine_IN_ReturnAction.visible(TaxParameters::isExciseEnable_IN() && salesTable.SalesType == SalesType::Sales && salesTable.ReturnItemNum);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTaxWithholdEnabled_IN
      #// <GIN>
      #void setTaxWithholdEnabled_IN()
      #{
      #    salesTable_ds.object(fieldNum(SalesTable, tcsGroup_IN)).enabled(!salesTable.tdsGroup_IN);
      #    salesTable_ds.object(fieldNum(SalesTable, tdsGroup_IN)).enabled(!salesTable.tcsGroup_IN);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tcsGroup_IN)).enabled(!salesLine_IN.tdsGroup_IN);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tdsGroup_IN)).enabled(!salesLine_IN.tcsGroup_IN);
      #    buttonWithholdTax_IN.enabled(salesLine_IN.tdsGroup_IN || salesLine_IN.tcsGroup_IN);
      #    if (salesLine.InventTransIdReturn)
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, tcsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesTable_ds.object(fieldNum(SalesTable, tdsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesLine_IN_ds.object(fieldNum(SalesLine_IN, tcsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #        salesLine_IN_ds.object(fieldNum(SalesLine_IN, tdsGroup_IN)).enabled(!salesLine.InventTransIdReturn);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTaxWithholdVisible_IN
      #// <GIN>
      #void setTaxWithholdVisible_IN()
      #{
      #    TaxWithholdParameters_IN    taxWithholdParameters;
      #
      #    taxWithholdParameters = TaxWithholdParameters_IN::find();
      #    salesTable_ds.object(fieldNum(SalesTable, tdsGroup_IN)).visible(taxWithholdParameters.tdsActivate);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tdsGroup_IN)).visible(taxWithholdParameters.tdsActivate);
      #    salesTable_ds.object(fieldNum(SalesTable, tcsGroup_IN)).visible(taxWithholdParameters.tcsActivate);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, tcsGroup_IN)).visible(taxWithholdParameters.tcsActivate);
      #    withholdingTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    lineWithholdingTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    buttonWithholdTax_IN.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #    withholdingTax.visible(taxWithholdParameters.tdsActivate || taxWithholdParameters.tcsActivate);
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #setTitleText
      #public void setTitleText()
      #{
      #    headerTitle.text(strFmt('%1 : %2 - %3', salesTable.SalesId,
      #                                            salesTable.CustAccount,
      #                                            salesTable.customerName()));
      #}
    ENDSOURCE
    SOURCE #setVisible_IN
      #// <GIN>
      #private void setVisible_IN()
      #{
      #    TaxParameters   taxParametersLoc        = TaxParameters::find();
      #
      #    salesLine_AssessableValue_IN.visible(isIndiaIndirectTaxParameterMarked);
      #    salesLine_MaximumRetailPrice_IN.visible(isIndiaIndirectTaxParameterMarked);
      #    tabTaxInformation_IN.visible(isIndiaIndirectTaxParameterMarked || TaxWithholdParameters_IN::checkTaxParameters());
      #    companyInfo.visible(isIndiaIndirectTaxParameterMarked);
      #    vat.visible(taxParametersLoc.vat_in);
      #    indiaSalesTax.visible(taxParametersLoc.SalesTax_IN);
      #
      #    excise_IN.visible(taxParametersLoc.Excise_IN);
      #    customs_IN.visible(taxParametersLoc.Customs_IN);
      #    serviceTax_IN.visible(taxParametersLoc.ServiceTax_IN);
      #
      #    salesLine_CustomsMaxRetailPrice_IN.visible(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
      #    salesTable_ds.object(fieldNum(SalesTable, CustomsExportOrder_IN)).visible(taxParametersLoc.Customs_IN);
      #
      #    createExportOrder_IN.visible(taxParametersLoc.Customs_IN);
      #    salesLine_IN_ds.object(fieldNum(SalesLine_IN, TaxInventVATCommodityCode_IN)).visible(taxParametersLoc.vat_in);
      #    customerReturns_IN.visible(isIndiaIndirectTaxParameterMarked);
      #}
      #// </GIN>
      #
    ENDSOURCE
    SOURCE #showInactiveAddressBar
      #public void showInactiveAddressBar()
      #{
      #    LogisticsLocationEntity::showHideEffectiveAddressMessageBar(element, logisticsPostalAddressDeliveryHeader, logisticsPostalAddressDeliveryLine);
      #}
    ENDSOURCE
    SOURCE #tmsSetCarrierFieldsFromDlvMode
      #/// <summary>
      #///    Sets all the fields that depend on carrier.
      #/// </summary>
      #/// <param name="_dlvModeId">
      #/// The delivery mode Id
      #/// </param>
      #public void tmsSetCarrierFieldsFromDlvMode(DlvModeId   _dlvModeId)
      #{
      #    TMSCarrierService carrierService;
      #
      #    carrierService = TMSCarrierService::findByDlvModeId(_dlvModeId);
      #
      #    tmsSalesTable.CarrierCode           = carrierService.CarrierCode;
      #    tmsSalesTable.CarrierServiceCode    = carrierService.CarrierServiceCode;
      #    tmsSalesTable.ModeCode              = TMSCarrier::find(carrierService.CarrierCode).ModeCode;
      #
      #    tmsSalesTable_ds.refresh();
      #}
    ENDSOURCE
    SOURCE #tmsUpdateSalesOrder
      #/// <summary>
      #/// Updates the sales order after transportation fields are updated
      #/// </summary>
      #public void tmsUpdateSalesOrder()
      #{
      #    salesTable.DlvMode = TMSCarrierService::findDlvModeId(tmsSalesTable.CarrierCode, tmsSalesTable.CarrierServiceCode);
      #
      #    salesTable_ds.refresh();
      #}
    ENDSOURCE
    SOURCE #updateDesign
      #void updateDesign(InventDimFormDesignUpdate mode)
      #{
      #    InventMovement movement = InventMovement::construct(salesLine);
      #    Set            validInventDimDSset;
      #    InventDimControlIdCollection inventDimControlIdCollection;
      #    boolean emptyLine;
      #
      #    switch (mode)
      #    {
      #        case InventDimFormDesignUpdate::Init:
      #            if (!inventDimFormSetup)
      #            {
      #                validInventDimDSset = new Set(Types::String);
      #                validInventDimDSset.add(inventDim_ds.name());
      #                inventDimControlIdCollection = InventDimControlIdCollection::construct();
      #                inventDimControlIdCollection.add(storageDimensions.id(), false);
      #                inventDimControlIdCollection.add(trackingDimensions.id(), false);
      #                inventDimControlIdCollection.add(productDimensions.id(), false);
      #                inventDimControlIdCollection.add(inventoryDimensionsGrid.id(), true);
      #                inventDimFormSetup = InventDimCtrl_Frm_Mov_OrderLine::newFromFormMovement(element, movement, validInventDimDSset
      #                , inventDimControlIdCollection
      #                );
      #            }
      #
      #        case InventDimFormDesignUpdate::Active,
      #             InventDimFormDesignUpdate::FieldChange:
      #            emptyLine = salesLine.ItemId == '' && salesLine.SalesCategory == 0;
      #            storageDimensions.allowEdit(!emptyLine);
      #            trackingDimensions.allowEdit(!emptyLine);
      #            productDimensions.allowEdit(!emptyLine);
      #            inventoryDimensionsGrid.allowEdit(!emptyLine);
      #            if (!emptyLine)
      #            {//For performance reasons, only call the inventDimFormSetup if the order line has an item ID or Category ID.
      #                inventDimFormSetup.formActiveSetup(movement.inventDimGroupSetup(), movement);
      #                inventDimFormSetup.formSetControls(mode == InventDimFormDesignUpdate::Active);
      #            }
      #            break;
      #
      #        default : throw error(strFmt("@SYS54195",funcName()));
      #    }
      #
      #    // <GMY>
      #    if (isIsoMY)
      #    {
      #        if (SalesTable.SalesStatus != SalesStatus::Invoiced && SalesTable.SalesStatus != SalesStatus::Canceled)
      #        {
      #            Format_MY_M_editInvoiceType_MY.allowEdit(true);
      #        }
      #        else
      #        {
      #            Format_MY_M_editInvoiceType_MY.allowEdit(false);
      #        }
      #    }
      #    // </GMY>
      #}
    ENDSOURCE
    SOURCE #updateDesign_MX
      #//<GMX>
      #public void updateDesign_MX()
      #{
      #    if (EInvoiceParameters_MX::isElectronicInvoiceEnabled() || EInvoiceCFDIParameters_MX::isElectronicInvoiceEnabled() )
      #    {
      #        eInvoice_MX.visible(true);
      #    }
      #    else
      #    {
      #        eInvoice_MX.visible(false);
      #    }
      #}
      #//</GMX>
    ENDSOURCE
    SOURCE #updateDesignConsInvoice_JP
      #/// <summary>
      #/// Updates the design for the consolidation invoice related controls.
      #/// </summary>
      #// <GJP>
      #void updateDesignConsInvoice_JP()
      #{
      #    if (!CustConsInvoiceType_JP::isCustConsInvoiceEnabled())
      #    {
      #        salesTable_ds.object(fieldNum(SalesTable, ConsTarget_JP)).visible(false);
      #        consTarget_JP.visible(false);
      #    }
      #}
      #// </GJP>
      #
    ENDSOURCE
    SOURCE #updateDesignForUnrealizedVAT
      #/// <summary>
      #///     Sets fields visible.
      #/// </summary>
      #//<GTH>
      #private void updateDesignForUnrealizedVAT()
      #{
      #    noteFormat_TH.visible(true);
      #    salesTable_RefInvoiceId_TH.visible(true);
      #    salesTable_RefInvoiceAmountCur_TH.visible(true);
      #    editReasonCode_TH.visible(true);
      #    salesTable_TaxAgent_TH.visible(true);
      #
      #    this.noteFormatEdit();
      #}
      #//</GTH>
    ENDSOURCE
    SOURCE #updateReturnableDetails_IN
      #/// <summary>
      #/// Return order fields specicfic india are getting updated here.
      #/// </summary>
      #// <GIN>
      #public void updateReturnableDetails_IN()
      #{
      #    SalesReturnInformation_IN           salesReturnInformation;
      #    TaxInformation_IN                   taxInformation;
      #    SalesReturn_IN                      salesReturn = SalesReturn_IN::construct(salesLine.TaxItemGroup);
      #    SalesReturnPeriodUnit_IN            salesReturnPeriodUnit = SalesReturnPeriodUnit_IN::None;
      #    SalesReturnCalculationDateType_IN   salesReturnCalculationDateType = SalesReturnCalculationDateType_IN::None;
      #    SalesLine                           salesLineOrig;
      #    CustInvoiceTrans                    custInvoiceTransOrig;
      #
      #    taxInformation         = TaxInformation_IN::find(salesLine_IN.TaxInformation);
      #    salesReturnInformation = salesReturn.getReturnInformation(taxInformation);
      #
      #    if (salesLineReturnDetails_IN.Type != SalesReturnType_IN::None && salesReturnInformation.RecId)
      #    {
      #        salesLineReturnDetails_IN.BasisType = (str2enum(salesReturnCalculationDateType, enum2Value(salesReturnInformation.BasisType)));
      #
      #        if(salesLineReturnDetails_IN.Type == SalesReturnType_IN::CustomerReturns)
      #        {
      #            salesLineReturnDetails_IN.Period     = salesReturnInformation.Period;
      #            salesLineReturnDetails_IN.PeriodType = (str2enum(salesReturnPeriodUnit, enum2Value(salesReturnInformation.PeriodType)));
      #        }
      #        else
      #        {
      #            salesLineReturnDetails_IN.Period     = salesReturnInformation.IncompletePeriod;
      #            salesLineReturnDetails_IN.PeriodType = (str2enum(salesReturnPeriodUnit, enum2Value(salesReturnInformation.IncompletePeriodType)));
      #        }
      #        if(salesLine.InventTransIdReturn)
      #        {
      #            custInvoiceTransOrig = CustInvoiceTrans::findRecId(salesLineReturnDetails_IN.CustInvoiceTrans);
      #            salesLineOrig        = custInvoiceTransOrig.salesLine();
      #            if (salesReturnInformation.BasisType == CustomerCalculationDateType_IN::InvoiceDate)
      #            {
      #                salesLineReturnDetails_IN.BasisDate = custInvoiceTransOrig.InvoiceDate;
      #            }
      #            else if (salesReturnInformation.BasisType == CustomerCalculationDateType_IN::DeliveryDate)
      #            {
      #                salesLineReturnDetails_IN.BasisDate =  salesLineOrig.ReceiptDateConfirmed ;
      #            }
      #        }
      #        salesLineReturnDetails_IN.SalesLine_IN  = salesLine_IN.RecId;
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(true);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(true);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(true);
      #        salesLineReturnDetails_IN_ds.write();
      #    }
      #    else
      #    {
      #        salesLineReturnDetails_IN.Period     = 0;
      #        salesLineReturnDetails_IN.BasisType  = SalesReturnCalculationDateType_IN::None;
      #        salesLineReturnDetails_IN.PeriodType = SalesReturnPeriodUnit_IN::None;
      #        salesLineReturnDetails_IN_ds.write();
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, BasisType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, Period)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #        salesLineReturnDetails_IN_ds.object(fieldNum(SalesLineReturnDetails_IN, PeriodType)).allowEdit(salesLineReturnDetails_IN.Type != SalesReturnType_IN::None);
      #    }
      #}
      #// </GIN>
    ENDSOURCE
    SOURCE #updateRFIDTagging
      #void  updateRFIDTagging()
      #{
      #    RFIDItemTaggingLevel    taggingLevel;
      #    boolean                 itemTagging     = true;
      #    boolean                 caseTagging     = true;
      #    boolean                 palletTagging   = true;
      #
      #    if (inventDimFormSetup.parmDimParmEnabled().InventSerialIdFlag)
      #    {
      #        if (salesLine.ItemTagging)
      #        {
      #            caseTagging = false;
      #        }
      #        else
      #        {
      #            caseTagging = true;
      #        }
      #
      #        if (salesLine.CaseTagging)
      #        {
      #            itemTagging = false;
      #        }
      #        else
      #        {
      #            itemTagging = true;
      #        }
      #    }
      #    else
      #    {
      #        itemTagging = false;
      #        caseTagging = true;
      #    }
      #
      #    if (inventDimFormSetup.parmDimParmEnabled().wmsPalletIdFlag
      #        &&  salesline.inventTable().PalletTagging)
      #    {
      #        palletTagging = true;
      #    }
      #    else
      #    {
      #        palletTagging = false;
      #    }
      #
      #    if (itemTagging  ||  caseTagging)
      #    {
      #        taggingLevel = salesLine.inventTable().ItemTaggingLevel;
      #
      #        switch (taggingLevel)
      #        {
      #            case RFIDItemTaggingLevel::None :
      #                itemTagging = false;
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::ItemLevel :
      #                caseTagging = false;
      #                break;
      #
      #            case RFIDItemTaggingLevel::CaseLevel :
      #                itemTagging = false;
      #                break;
      #        }
      #    }
      #
      #    salesLine_ds.object(fieldNum(SalesLine, ItemTagging)).allowEdit     ( itemTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, ItemTagging)).skip          (!itemTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, CaseTagging)).allowEdit     ( caseTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, CaseTagging)).skip          (!caseTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, PalletTagging)).allowEdit   ( palletTagging);
      #    salesLine_ds.object(fieldNum(SalesLine, PalletTagging)).skip        (!palletTagging);
      #}
    ENDSOURCE
    SOURCE #updateSourceRefControlsAfterLookup_MY
      #/// <summary>
      #///     Updates the controls used for selecting source invoice transaction.
      #/// </summary>
      #// <GMY>
      #public void updateSourceRefControlsAfterLookup_MY()
      #{
      #    CustInvoiceJour     custInvoiceJourInstance;
      #    RecId               custInvoiceJourRecId;
      #
      #    custInvoiceJourRecId = custInvoiceJourLookupController.parmCustInvoiceJourRecId();
      #    if (custInvoiceJourRecId != 0)
      #    {
      #        custInvoiceJourInstance = CustInvoiceJour::findRecId(custInvoiceJourRecId);
      #        if(custInvoiceJourInstance)
      #        {
      #            SalesLine_W.RefInvoiceId_MY       = custInvoiceJourInstance.InvoiceId;
      #            SalesLine_W.RefInvoiceDate_MY     = custInvoiceJourInstance.InvoiceDate;
      #        }
      #        custInvoiceJourLookupController.parmCustInvoiceJourRecId(0);
      #    }
      #}
      #// </GMY>
    ENDSOURCE
    SOURCE #useRetailPricingEngine
      #boolean useRetailPricingEngine()
      #{
      #    return RetailPricingEngine::useRetailPricingEngineForSalesOrder(salesTable.SalesId);
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable
          Table               #SalesTable
          Index               #SalesIdx
          StartPosition       #Last
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD SalesId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Reservation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTableForm.pdsSetHeaderAccess();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean     ret;
                #    CustTable   custTable;
                #
                #    ret = super();
                #    if (mcrCallCenterEnabled)
                #    {
                #        custTable = CustTable::find(salesTable.CustAccount);
                #        // Do not allow a user to manually enter a phantom custAccount.
                #        if (custTable.mcrMergedParent)
                #        {
                #            ret = checkFailed(strFmt("@MCR12337", salesTable.CustAccount, custTable.mcrMergedParent));
                #        }
                #    }
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr = "")
                #{
                #    FormRun formRun;
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        formRun = classfactory.formRunClass(new Args(formStr(MCRCustLookup)));
                #        formRun.init();
                #        this.performFormLookup(formRun,_formControl);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    MCRCustPaymTable mcrCustPaymTableCount;
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        // Invoice account has changed so back out any existing payments
                #        select count(RecId) from mcrCustPaymTableCount
                #            where mcrCustPaymTableCount.RefRecId   == salesTable.RecId
                #               && mcrCustPaymTableCount.RefTableId == salesTable.TableId;
                #
                #        // if payment records currently exist
                #        if(mcrCustPaymTableCount.RecId > 0)
                #        {
                #            // Inform user they are about to lose their payment records and ask
                #            // if they wish to continue.
                #            if (Box::yesNo("@MCR12786", DialogButton::Yes) == DialogButton::No)
                #            {
                #                salesTable.CustAccount = salesTable.orig().CustAccount;
                #                salestable_ds.refresh();
                #                return;
                #            }
                #        }
                #    }
                #
                #    super();
                #
                #    if ((select firstonly salesLine where salesLine.SalesId == salesTable.SalesId).RecId)
                #    {
                #        salesLine_ds.executeQuery();
                #    }
                #
                #    // <GEERU>
                #    if (isRU)
                #    {
                #        salesTable_ds.cacheCalculateMethod(tableMethodStr(SalesTable, agreementDocumentTitle_RU));
                #    }
                #    // </GEERU>
                #
                #    salesTable_ds.refresh();
                #
                #    salesTable_ds.rereadReferenceDataSources();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesTable_BR_ds.refresh();
                #    }
                #    // </GBR>
                #
                #    dimensionDefaultingControllerTable.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InvoiceAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean     ret;
                #    CustTable   custTable;
                #
                #    ret = super();
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        custTable = CustTable::find(salesTable.InvoiceAccount);
                #        if (custTable.mcrMergedParent)
                #        {
                #            ret = false;
                #        }
                #    }
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr = "")
                #{
                #    FormRun formRun;
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        // Do not display one time customers and phantom customers.
                #        formRun = classfactory.formRunClass(new Args(formStr(MCRCustLookup)));
                #        formRun.init();
                #        this.performFormLookup(formRun,_formControl);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    MCRCustPaymTable mcrCustPaymTableLocal;
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        // If the order was a continuity header and the invoice account was
                #        // changed the related payment was not found because it is not tied to the sales order.
                #        if (mcrSalesTable.ContinuityOrder == NoYes::Yes)
                #        {
                #            SalesTable::mcrUpdateContinuityPayments(salesTable);
                #        }
                #
                #        // Invoice account has changed so back out any existing payments
                #        select count(RecId) from mcrCustPaymTableLocal
                #            where mcrCustPaymTableLocal.RefRecId == salesTable.RecId
                #                && mcrCustPaymTableLocal.RefTableId == salesTable.TableId
                #                && mcrCustPaymTableLocal.CustAccount != salesTable.InvoiceAccount;
                #
                #        // if payment records currently exist
                #        if(mcrCustPaymTableLocal.RecId > 0)
                #        {
                #            // Inform user they are about to loose their payment records and ask
                #            // if they wish to continue.
                #            if (Box::yesNo("@MCR12782",DialogButton::Yes)==DialogButton::No)
                #            {
                #                salesTable.InvoiceAccount = salesTable.orig().InvoiceAccount;
                #                salestable_ds.refresh();
                #                return;
                #            }
                #        }
                #    }
                #
                #    super();
                #
                #    // <GEERU>
                #    if (isRU)
                #    {
                #        salesLine_ds.reread();
                #        salesLine_ds.refresh();
                #    }
                #    // </GEERU>
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurrencyCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    // <GEEU>
                #    salesTable.initBankAccounts_LV();
                #    BankAccountTable::checkDefaultGiroBank_W(salesTable.CurrencyCode);
                #    salesTable_ds.refresh();
                #    // </GEEU>
                #
                #    if (TaxParameters::find().Customs_IN)
                #    {
                #        if (SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes)
                #        {
                #            salesLine_IN.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(salesLine_IN.CustomsMaxRetailPrice_IN, salesTable.CurrencyCode, Direction_IN::Export, systemDateGet(), false);
                #        }
                #    }
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Payment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    salesTable_ds.object(fieldNum(SalesTable, DlvMode)).mandatory(salesTable.dlvModeMandatory());
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CashDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    CashDisc    cashDisc;
                #
                #    super();
                #
                #    cashDisc = CashDisc::find(salesTable.CashDisc);
                #    salesTable.CashDiscPercent = cashDisc.Percent;
                #
                #    salesTable.dataSource().refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustGroup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerTable.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DiscPercent
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (isRetailOrder)
                #    {
                #        retailOrderNeedRecalculation = true;
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret = super();
                #
                #    if (ret && mcrCallCenterEnabled && enableOrderPriceControl)
                #    {
                #        ret = salesTable_ds.mcrGetOverrideResponse();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    MCRExpedite mcrExpedite = DlvMode::find(salesTable.DlvMode).mcrExpedite;
                #
                #    super();
                #
                #    if (mcrSalesTableShipping.Expedite != mcrExpedite)
                #    {
                #        mcrSalesTableShipping.Expedite = mcrExpedite;
                #        salesTable.mcrPackMCRSalesTableShipping(mcrSalesTableShipping);
                #    }
                #
                #    salesTable_ds.refreshDDC();
                #
                #    element.tmsSetCarrierFieldsFromDlvMode(salesTable.DlvMode);
                #
                #    element.enableTMSFields();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    super();
                #
                #    element.changeType();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InterCompanyAutoCreateOrders
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (salesTable.InterCompanyAutoCreateOrders)
                #    {
                #        salesTableForm.interCompanyAutoCreateOrdersNow(true);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PaymentSched
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    if (salesTable.PaymentSched)
                #    {
                #        buttonPaymentSchedule.enabled(true);
                #    }
                #    else
                #    {
                #        buttonPaymentSchedule.enabled(false);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ReturnItemNum
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    salesTable.jumpRefReturnItemNum(element);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ContactPersonId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerTable.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (salesTable.InventSiteId)
                #    {
                #        InventLocation::lookupBySiteIdAllTypes(_formControl, salesTable.InventSiteId);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD VATNum
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #    {
                #        TaxVATNumTable::jumpRefVATNum(salesTable, element);
                #    }
                #    else
                #    {
                #        super();
                #    }
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (TaxVATNumTable::taxVATNumTableEnabled())
                #    {
                #        TaxVATNumTable::lookupVATNum(vatNum,salesTable);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD EInvoiceLineSpec
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.showDimAccount();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PaymMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable.DirectDebitMandate = CustDirectDebitMandate::defaultAndDisplayMandate(
                #        salesTable.InvoiceAccount,
                #        salesTable.PaymMode,
                #        salesTable.DirectDebitMandate,
                #        false,
                #        salesTable_ds,
                #        fieldNum(SalesTable, DirectDebitMandate));
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD FixedDueDate
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    PaymCalendarAdjustedDate        paymCalendarAdjustedDate;
                #
                #    super();
                #
                #    // perform the payment calendar work only for the required countries
                #    if (SysCountryRegionCode::isLegalEntityInConsolidatedCountryRegion() && salesTable.FixedDueDate)
                #    {
                #        paymCalendarAdjustedDate = PaymCalendarSourceSalesOrder::getAdjustedDate(salesTable);
                #
                #        salesTable.FixedDueDate = PaymCalendarProcessor::getAdjustedDueDate(salesTable.FixedDueDate, priorDueDate, paymCalendarAdjustedDate);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InterCompanyOrder
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSiteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DeliveryDateControlType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refreshDDC();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DeliveryPostalAddress
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesTable_ds.refresh();
                #
                #    element.showInactiveAddressBar();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine_ds.refresh(); // redraw display controls
                #    }
                #    // </GBR>
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CustTable custTable = CustTable::find(salesTable.CustAccount);
                #
                #    ret = LogisticsLocationSelectionLookup::lookupAddressForm(_formReferenceControl, custTable,
                #        [LogisticsLocationRoleType::Delivery], false,
                #        LogisticsLocationSelectionLookup::transactionAssociatedAddresses(
                #            tableNum(SalesLine),
                #            fieldNum(SalesLine, DeliveryPostalAddress),
                #            fieldNum(SalesLine, SalesId),
                #            salesTable.SalesId,
                #            salesTable.DeliveryPostalAddress));
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ShipCarrierName
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD WorkerSalesTaker
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return HcmWorkerLookup::newOnlyActiveWorkers().lookupWorker(_formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = super(_formReferenceControl);
                #
                #    if (!ret.RecId || !HcmWorkerLookup::newOnlyActiveWorkers().validateWorker(ret.RecId))
                #    {
                #        ret.clear();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD BankDocumentType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.configBankDocumentControls();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD BankAccount_LV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if(BankParameters::checkCurrCodeControl_W())
                #    {
                #        BankAccountTable::lookupGiroBank_W(_formControl, CompanyInfo::standardCurrency());
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CurBankAccount_LV
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if(BankParameters::checkCurrCodeControl_W())
                #    {
                #        BankAccountTable::lookupGiroBank_W(_formControl, salesTable.CurrencyCode);
                #    }
                #    else
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MCROrderStopped
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD WorkerSalesResponsible
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return HcmWorkerLookup::newOnlyActiveWorkers().lookupWorker(_formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = super(_formReferenceControl);
                #
                #    if (!ret.RecId || !HcmWorkerLookup::newOnlyActiveWorkers().validateWorker(ret.RecId))
                #    {
                #        ret.clear();
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #performIntercompanyValidation
          #/// <summary>
          #/// Checks should intercompany validation be performed for the current sales order.
          #/// </summary>
          #/// <returns>
          #/// true if intercompany validation is necessary; otherwise, false.
          #/// </returns>
          #public boolean performIntercompanyValidation()
          #{
          #    if (performIntercompanyValidationCache == UnknownNoYes::Unknown)
          #    {
          #        performIntercompanyValidationCache = salesTable.isInterCompanyOrder() || InterCompanyPurchSalesReference::isSalesTableReferenced(salesTable.SalesId)
          #            ? UnknownNoYes::Yes
          #            : UnknownNoYes::No;
          #    }
          #
          #    return performIntercompanyValidationCache == UnknownNoYes::No ? false : true;
          #}
        ENDSOURCE
        SOURCE #enableRetailFields
          #/// <summary>
          #/// Makes manual discount percentage field visible and disable <c>SalesLine</c> dicount fields.
          #/// </summary>
          #/// <param name="_enableRetailDiscountFields">
          #/// The flag to enable disable specific fields.
          #/// </param>
          #/// <remarks>
          #/// Use for retail orders.
          #/// </remarks>
          #private void enableRetailFields(boolean _enableRetailDiscountFields)
          #{
          #     salesLine_ds.object(fieldNum(SalesLine, LineDisc)).enabled(!_enableRetailDiscountFields);
          #     salesLine_ds.object(fieldNum(SalesLine, LinePercent)).enabled(!_enableRetailDiscountFields);
          #
          #     retailSalesLine_ds.object(fieldNum(RetailSalesLine, LineManualDiscountPercentage)).visible(_enableRetailDiscountFields);
          #
          #     buttonRetailRecalculator.enabled(_enableRetailDiscountFields);
          #}
        ENDSOURCE
        SOURCE #isRetailOrder
          #display public NoYes isRetailOrder()
          #{
          #    return isRetailOrder;
          #}
        ENDSOURCE
        SOURCE #unpackExtensions
          #/// <summary>
          #/// Unpacks all prioritized packed <C>SalesTable</C> extension tables.
          #/// </summary>
          #private void unpackExtensions()
          #{
          #    salesTable.SysExtensionSerializerMap::unpackAll(true);
          #}
        ENDSOURCE
        SOURCE #packExtensions
          #/// <summary>
          #/// Packs prioritized <C>SalesTable</C> extension tables.
          #/// </summary>
          #public void packExtensions()
          #{
          #    salesTable.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesTable);
          #    salesTable.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesTableShipping);
          #}
        ENDSOURCE
        SOURCE #initValue
          #public void initValue()
          #{
          #    this.packExtensions();
          #    super();
          #    this.unpackExtensions();
          #}
        ENDSOURCE
        SOURCE #tmsDisplayRouteCode
          #/// <summary>
          #/// Displays the Route associated with the Sales order, if applicable.
          #/// </summary>
          #/// <returns>
          #/// The Route code if there is only one associated with the order, otherwise an empty string or "Multiple".
          #/// </returns>
          #public display TMSRouteCode tmsDisplayRouteCode()
          #{
          #    return salesTableForm.tmsDisplayRouteCode(salesTable);
          #}
        ENDSOURCE
        SOURCE #mcrGetOverrideResponse
          #/// <summary>
          #/// Prompts the user for a reason code when overriding the discount percent field.
          #/// </summary>
          #/// <returns>
          #/// true if the discount percent can be changed; otherwise, false.
          #/// </returns>
          #public boolean mcrGetOverrideResponse()
          #{
          #    boolean                     currentUserPermission;
          #    container                   userIdReasonCode;
          #    MCROverrideLogin            mcrOverrideLogin;
          #    Args                        args;
          #    RetailInformationSubcodeId  reasonCode;
          #    boolean                     cancelOverride;
          #
          #    #define.Cancel('Cancel')
          #
          #    // only check override parameters if the system parameter is set to true
          #    if(enableOrderPriceControl)
          #    {
          #        if(MCRPriceOverrideMarkUpGroup::validatePercent(salesTable.DiscPercent))
          #        {
          #            // See if the current user has permission to override the disc pct.  If
          #            // not, call the form for a different user to log in.
          #            mcrOverrideLogin = new MCROverrideLogin();
          #
          #            //  Check user's price override permissions.  If the user doesn't have
          #            //  permission, pop up a dialog.
          #            currentUserPermission = mcrOverrideLogin.isUserValid(curUserId(),
          #                                                                salesTable.DiscPercent,
          #                                                                fieldNum(MCRPriceOverrideMarkUpGroup,
          #                                                                DiscPercentOverride));
          #
          #            // Do not allow the user to manipulate the form while a dialog is open.
          #            element.mcrDisableForm();
          #
          #            // if the current user does not have permission
          #            if (!currentUserPermission)
          #            {
          #                args = mcrOverrideLogin.launchPriceOverrideLogin(salesTable,
          #                                                                NoYes::Yes,
          #                                                                fieldNum(SalesTable, DiscPercent));
          #
          #                // if the user did not cancel out or close using the X with out first getting a valid login
          #                // from the override form it means that someone had a successful override
          #                if (args.parm() != #Cancel)
          #                {
          #                    mcrSalesTable.PriceOverride = NoYes::Yes;
          #                    // the args.parm passes out user id and reason code
          #                    userIdReasonCode = str2con(args.parm());
          #                    element.mcrHeaderPriceOverride(false,
          #                                                   conPeek(userIdReasonCode,2),
          #                                                   conPeek(userIdReasonCode,1));
          #                }
          #                else
          #                {
          #                    cancelOverride = true;
          #                }
          #            }
          #            else  //if current user can override the price.
          #            {
          #                reasonCode = mcrOverrideLogin.launchPriceOverrideReasonCode(salesTable,
          #                                                                            NoYes::Yes);
          #                if (reasonCode != #Cancel)
          #                {
          #                    mcrSalesTable.PriceOverride = NoYes::Yes;
          #                    element.mcrHeaderPriceOverride(false,
          #                                                  reasonCode,
          #                                                  curUserId());
          #                }
          #                else
          #                {
          #                    cancelOverride = true;
          #                }
          #            }
          #            element.mcrEnableForm();
          #        }
          #        else
          #        {
          #            cancelOverride = true;
          #        }
          #
          #        element.mcrSetHeaderControls();
          #    }
          #
          #    return !cancelOverride;
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    salesTable.PackedExtensions         = salesTable.orig().PackedExtensions;
          #    salesTable.PackedPrioritizedIdList  = salesTable.orig().PackedPrioritizedIdList;
          #
          #    ret = super(_forceUpdate);
          #
          #    if (mcrCallCenterEnabled)
          #    {
          #        mcrParmsSet = false;
          #    }
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #validateDelete
          #boolean validateDelete()
          #{
          #    boolean ret;
          #
          #    // Are you sure you want to delete replacement order? A return order is attached.
          #    if (salesTable.ReturnItemNum && SalesTable::findReturnItemNum(salesTable.ReturnItemNum).ReturnReplacementId == salesTable.SalesId
          #        && Box::yesNo("@SYS106592", DialogButton::No) == DialogButton::No)
          #    {
          #        ret = false;
          #    }
          #    else
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #setTouched
          #void setTouched()
          #{
          #    // required by form MarkupTrans to communicate changes to the caller
          #    salesTableForm.setTouched(salesTable);
          #}
        ENDSOURCE
        SOURCE #reread
          #public void reRead()
          #{
          #    // Rereading was causing an error when the sales line wouldn't get saved,
          #    // but the focus would be taken off the line.  This ensures an unsaved sales line is cleared
          #    // before the view is refreshed.
          #    if (! salesLine.RecId)
          #    {
          #        salesLine.clear();
          #    }
          #    if (salesTableType)
          #    {
          #        salesTableType.formMethodDataSourceDelete(element, salesTable_ds, true);
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #boolean validateWrite()
          #{
          #    boolean                     ret;
          #    // <GEERU>
          #    List                        salesTable2LineUpdateFields;
          #    ListEnumerator              salesTable2LineUpdateFieldsEnumerator;
          #    SalesTable2LineField        salesTable2LineField;
          #    // </GEERU>
          #
          #    if (salesTable.RecId != 0
          #    &&  salesTable.InterCompanyOrder)
          #    {
          #        salesTable.DeliveryDateControlType  = SalesDeliveryDateControlType::None;
          #    }
          #
          #    this.packExtensions();
          #    ret = super();
          #    this.unpackExtensions();
          #
          #    if (!askingModifyInvoiced && ret && !salesTable.Touched)
          #    {
          #        askingModifyInvoiced = true;
          #        ret = salesTable.checkUpdate(true, this.performIntercompanyValidation());
          #        askingModifyInvoiced = false;
          #    }
          #
          #    if (ret && salesTableType && !salesTableType.formMethodDataSourceValidateWrite(element, salesTable_ds))
          #    {
          #        ret = false;
          #    }
          #
          #    if (ret && salesTable.DeliveryDateControlType)
          #    {
          #        ret = SalesCalcAvailableDlvDates::validateWritePromptOnServer(salesTable);
          #    }
          #
          #    copyTaxGroupToMarkupTrans = DialogButton::No;
          #    if (ret && salesTable.TaxGroup != salesTable.orig().TaxGroup)
          #    {
          #        copyTaxGroupToMarkupTrans   = MarkupTrans::promptCopyTaxGroupToMarkupTrans(salesTable.TableId, salesTable.RecId);
          #        ret                         = copyTaxGroupToMarkupTrans != DialogButton::Cancel;
          #    }
          #
          #
          #    if (ret)
          #    {
          #        salesTable2LineUpdatePrompt = SalesTable2LineUpdatePrompt::newFromSalesTableWithMarkupParams(salesTable, copyTaxGroupToMarkupTrans);
          #
          #        ret = salesTable2LineUpdatePrompt.extendedPrompt();
          #    }
          #
          #    // <GEERU>
          #    if (isRU
          #        && ret
          #        && salesTable2LineUpdatePrompt)
          #    {
          #        salesTable2LineUpdateFields = List::create(salesTable2LineUpdatePrompt.packedSalesTable2LineUpdateFields());
          #        salesTable2LineUpdateFieldsEnumerator = salesTable2LineUpdateFields.getEnumerator();
          #
          #        while (salesTable2LineUpdateFieldsEnumerator.moveNext())
          #        {
          #            salesTable2LineField = salesTable2LineUpdateFieldsEnumerator.current();
          #
          #            if (salesTable2LineField.fieldId()          == fieldNum(SalesTable_RU, InventProfileId_RU) &&
          #                salesTable2LineField.updateSalesLines() == NoYes::No)
          #            {
          #                // must be checked for possible inconsistence if user did not select to propagate inventProfileId to the order lines
          #                // otherwise it will be checked on sales order validateWrite() method
          #                ret = salesTable.checkInventProfile_RU(true);
          #            }
          #        }
          #    }
          #    // </GEERU>
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #void  write()
          #{
          #    boolean                 copyThirdPartyBillingAddress;
          #    boolean                 convertCurrency = false;
          #    TradeCurencyConversion  tradeCurencyConversion = TradeCurencyConversion::ExchRate;
          #    boolean                 salesLineExists;
          #    boolean                 markupTransExists;
          #    boolean                 mustReread;
          #    MCRCustPaymTotals       mcrCustPaymTotals;
          #    SalesLine               salesLineLocal;
          #    TMSSalesTable           newTMSSalesTable;
          #
          #    // <GEEPL>
          #    RefRecId                serviceTariffNumber;
          #    // </GEEPL>
          #
          #    if (!askingModifyInvoiced)
          #    {
          #        salesLineExists = SalesLine::exist(salesTable.SalesId);
          #        markupTransExists = MarkupTrans::exist(salesTable.TableId, salesTable.RecId);
          #        if (salesLineExists || markupTransExists)
          #        {
          #            if (salesTable.CurrencyCode != salesTable.orig().CurrencyCode)
          #            {
          #                // If one or more payments disallows changing the currency,
          #                //  do not perform the currency conversion.
          #                mcrCustPaymTotals = MCRCustPaymTotals::construct(salesTable.TableId, salesTable.RecId);
          #
          #                if (mcrCustPaymTotals && !mcrCustPaymTotals.allowEditCurrency())
          #                {
          #                    convertCurrency = false;
          #                }
          #
          #                else
          #                {
          #                    [convertCurrency, tradeCurencyConversion] = SalesTable::promptConvertCurrencyCode(salesTable);
          #                }
          #            }
          #        }
          #
          #        if (salesLineExists)
          #        {
          #            if (salesTable.ShipCarrierPostalAddress != salesTable.orig().ShipCarrierPostalAddress)
          #            {
          #               copyThirdPartyBillingAddress = SalesTable::promptCopyThirdPartyBillingAddress() == DialogButton::Yes;
          #            }
          #        }
          #
          #        ttsbegin;
          #
          #        if (salesTable2LineUpdatePrompt)
          #        {
          #            salesTable2LineUpdatePrompt.updateDeliveryDateAndCopyAddress(salesTable.SalesId);
          #        }
          #        if (copyThirdPartyBillingAddress)
          #        {
          #            salesTable.copyThirdPartyBillingAddressToLine();
          #        }
          #
          #        if (salesLineExists || markupTransExists)
          #        {
          #            if (convertCurrency)
          #            {
          #                salesTable.convertCurrencyCode(salesTable.CurrencyCode, tradeCurencyConversion);
          #            }
          #            else
          #            {
          #                // Cancel has been choosen in the Convert Currency Code dialogue:
          #                //      No attempts to recalc currency code should be made;
          #                //      All changes made to the currency code have to be rolled back;
          #                //      No additional warnings should be issued concerning currency code change operation.
          #                if (salesTable.CurrencyCode != salesTable.orig().CurrencyCode)
          #                {
          #                    salesTable.CurrencyCode = salesTable.orig().CurrencyCode;
          #                }
          #            }
          #        }
          #
          #        salesTable.Touched = NoYes::No;
          #
          #        if (salesTableType)
          #        {
          #            salesTableType.formMethodDataSourceWrite(element, salesTable_ds);
          #        }
          #
          #        if (copyTaxGroupToMarkupTrans == DialogButton::Yes || copyTaxGroupToMarkupTrans == DialogButton::YesToAll)
          #        {
          #            MarkupTrans::updateTaxGroup(salesTable.TableId, salesTable.RecId, salesTable.TaxGroup, salesTable.orig().TaxGroup, copyTaxGroupToMarkupTrans);
          #            copyTaxGroupToMarkupTrans = DialogButton::No;
          #        }
          #
          #        dimensionDefaultingControllerTable.writing();
          #
          #        // <GEEPL>
          #        serviceTariffNumber = taxServiceTariffHeader.ServiceTariffNumber;
          #        // </GEEPL>
          #        //<GTH>
          #        if (TaxThaiGovCertificationFeatureChecker::isTaxBranchEnabled())
          #        {
          #            salesTableExtensionTH.TaxBranch = TaxBranchType::getTaxBranchRecIdByDefaultDimension(salesTable.DefaultDimension);
          #        }
          #        //</GTH>
          #        //Save off the original value of the DiscPercent in case it has been changed.
          #        //If it has been changed, an order event will be written after the call to super().
          #        mcrHeaderPriceOverrideDiscPct = salesTable.orig().DiscPercent;
          #
          #        this.packExtensions();
          #        super();
          #        this.unpackExtensions();
          #
          #        // <GEECZ>
          #        if(SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesTable_Intrastat)))
          #        {
          #            salesTable_Intrastat.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #        // </GEECZ>
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            salesTable_BR.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #        // </GBR>
          #
          #        // <GEEPL>
          #        // The service tariff relationship is lost during the super() call
          #        // from write since it is on a different data source. So, copy
          #        // the original value back in to ensure saving is done correctly.
          #        if (serviceTariffNumber && countryRegion_PL)
          #        {
          #            taxServiceTariffHeader.ServiceTariffNumber = serviceTariffNumber;
          #            taxServiceTariffHeader.ParentRecId = salesTable.RecId;
          #            taxServiceTariffHeader.ParentTableId = salesTable.TableId;
          #        }
          #        // </GEEPL>
          #
          #        if (isSalesTableExtensionTHEnabled)
          #        {
          #            salesTableExtensionTH.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesTable);
          #        }
          #
          #        salesTableForm.salesTable(salesTable);
          #
          #        if (salesTable2LineUpdatePrompt)
          #        {
          #            salesTable2LineUpdatePrompt.run();
          #            salesTable2LineUpdatePrompt = null;
          #            mustReread = true;
          #        }
          #        // Write order event if total discount has been overridden.
          #        if (mcrHeaderPriceOverrideUserId
          #            && salesTable.DiscPercent != mcrHeaderPriceOverrideDiscPct)
          #        {
          #            element.mcrInsertPriceOverrideOrderEvent();
          #            mcrHeaderPriceOverrideDiscPct = salesTable.DiscPercent;
          #        }
          #
          #        if (isRetailOrder && retailOrderNeedRecalculation)
          #        {
          #            element.recalculateRetailPricesDiscounts();
          #        }
          #
          #        ttscommit;
          #
          #        if (mustReread)
          #        {
          #            // If updating header and there are no salesLines, don't research so the line being created isn't lost.
          #            // Will still lose blank salesLine if a salesLine has already been saved
          #            select firstonly salesLineLocal
          #                where salesLineLocal.SalesId == salesTable.SalesId;
          #            if (salesLineLocal
          #                || (! salesLineLocal && salesLine))
          #            {
          #                salesLine_ds.research();
          #            }
          #        }
          #
          #        salesTableType = null;
          #    }
          #
          #    if (!tmsSalesTable.isTmp()) // No need to query for TMSSalesTable if it is disabled
          #    {
          #        newTMSSalesTable = TMSSalesTable::find(salesTable.SalesId);
          #
          #        tmsSalesTable.data(newTMSSalesTable);
          #        tmsSalesTable.reread();
          #    }
          #
          #    if (headerError)
          #    {
          #        element.gotoLines();
          #    }
          #    // Records that the order has been opened and which one it is.
          #    if (salesTable.SalesStatus == SalesStatus::Backorder
          #        && enableOrderCompletion)
          #    {
          #        openOrderSalesTable = salesTable.data();
          #    }
          #}
        ENDSOURCE
        SOURCE #linkActive
          #void linkActive()
          #{
          #    ProjTable                       projTableLink;
          #    ProjInvoiceTable                projInvoiceTableLink;
          #    ProjWIPTable                    projWIPTable;
          #    CostControlTransCommittedCost   costControlTransCommittedCost;
          #    QueryBuildRange                 projIdSalesTable;
          #    TAMDeduction                     tamDeduction;
          #
          #    if (skipLinkActive)
          #    {
          #        return;
          #    }
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(CostControlTransCommittedCost):
          #            costControlTransCommittedCost =  element.args().record() as CostControlTransCommittedCost;
          #            queryBuildRangeSalesId.value(queryValue(costControlTransCommittedCost.RefId));
          #            break;
          #
          #        case tableNum(ProjTable)        :
          #            projTableLink = element.args().record() as ProjTable;
          #            queryBuildRangeProjId.value(projTableLink.ProjId+'*');
          #            break;
          #        case tableNum(ProjInvoiceTable):
          #            projIdSalesTable    = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #
          #            while (projIdSalesTable)
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearRange(fieldNum(SalesTable,ProjId));
          #                projIdSalesTable  = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #            }
          #
          #            projInvoiceTableLink   = element.args().record() as ProjInvoiceTable;
          #
          #            while select ProjId from projTableLink
          #                where projTableLink.ProjInvoiceProjId   == projInvoiceTableLink.ProjInvoiceProjId
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable,ProjId)).value(projTableLink.ProjId);
          #            }
          #            break;
          #
          #        case tableNum(ProjWIPTable)     :
          #            projIdSalesTable    = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #
          #            while (projIdSalesTable)
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearRange(fieldNum(SalesTable,ProjId));
          #                projIdSalesTable  = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable,ProjId));
          #            }
          #
          #            projWIPTable   =   element.args().record() as ProjWIPTable;
          #
          #            while select ProjId from projTableLink
          #                where projTableLink.wipProject  == projWIPTable.ProjId
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addRange(fieldNum(SalesTable,ProjId)).value(projTableLink.ProjId);
          #            }
          #
          #            break;
          #
          #            case tableNum(smmActivities) :
          #            smmActivityParentLink::updateQuery(this.query().dataSourceTable(tableNum(SalesTable)), element.args().record() as smmActivities);
          #            break;
          #            // If deduction has salesId specified, show that sales order, otherwise
          #            // show all sales orders with invoice account equal to deduction's account
          #            case tableNum(TAMDeduction)     :
          #                // Clear ranges
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).
          #                    clearRange(fieldNum(SalesTable, InvoiceAccount));
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).
          #                    clearRange(fieldNum(SalesTable, SalesId));
          #                tamDeduction.data(element.args().record());
          #                if (tamDeduction.SalesId)
          #                {
          #                    // If deduction has SalesId just show that sales order
          #                    salesTable_ds.query().dataSourceTable(tableNum(SalesTable))
          #                        .addRange(fieldNum(SalesTable, SalesId)).value(tamDeduction.SalesId);
          #                }
          #                else
          #                {
          #                    // If no SalesId specified show all sales orders with invoice
          #                    // account equal to deduction's account
          #                    salesTable_ds.query().dataSourceTable(tableNum(SalesTable))
          #                        .addRange(fieldNum(SalesTable, InvoiceAccount)).value(tamDeduction.AccountNum);
          #                }
          #                break;
          #    }
          #
          #    if (salesTableForm.linkActive())
          #    {
          #         salesTableForm.salesTable(element.args().record() as SalesTable);
          #         salesTable_ds.query(salesTableForm.querySalesTable(salesTable_ds.query()));
          #    }
          #
          #    if (salesTableType)
          #    {
          #        salesTableType.formMethodDataSourceLinkActive(element, salesTable_ds);
          #    }
          #
          #    // Only run super if this is not a sales order created from customer
          #    // maintenance, otherwise when allow open orders is off, it will launch the pop-up error
          #    // when loading the sales form.
          #    if (!enterOrderFromNewCust)
          #    {
          #        super();
          #        enterOrderFromNewCust = false;
          #    }
          #    linkActiveHeaderExecuted = false;
          #}
        ENDSOURCE
        SOURCE #init
          #void  init()
          #{
          #    Query           query;
          #    QueryBuildRange queryBuildRange;
          #    ProdTable       prodTable;
          #    CustTable       custTable;
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(ProjTable) :
          #            salesTable_ds.autoQuery(false);
          #            query   = new Query();
          #            queryBuildRangeProjId = query.addDataSource(tableNum(SalesTable)).addRange(fieldNum(SalesTable, ProjId));
          #            salesTable_ds.query(query);
          #            break;
          #
          #        case tableNum(CostControlTransCommittedCost) :
          #            salesTable_ds.autoQuery(false);
          #            query   = new Query();
          #            queryBuildRangeSalesId = query.addDataSource(tableNum(SalesTable)).addRange(fieldNum(SalesTable, SalesId));
          #            salesTable_ds.query(query);
          #            break;
          #    }
          #
          #    super();
          #
          #    if (mcrCallCenterEnabled)
          #    {
          #        mcrParmsSet = false;
          #    }
          #    if ((TradeFormHelper::isCalledFromForm(element.args(), formStr(CustTable))
          #        || TradeFormHelper::isCalledFromForm(element.args(), formStr(CustTableListPage)))
          #        && element.args().record().TableId == tableNum(CustTable))
          #    {
          #        this.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
          #        custTable = element.args().record() as CustTable;
          #        salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addDynalink(fieldNum(SalesTable, CustAccount),element.args().record(),fieldNum(CustTable, AccountNum));
          #        queryBuildRange = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable, CustAccount));
          #        if (queryBuildRange)
          #        {
          #            queryBuildRange.value(custTable.AccountNum);
          #        }
          #    }
          #
          #    switch(element.args().dataset())
          #    {
          #        case tableNum(ProdTable) :
          #            prodTable = element.args().record() as ProdTable;
          #            if (prodTable.InventRefType == InventRefType::Sales && prodTable.InventRefId)
          #            {
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
          #                salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).addDynalink(fieldNum(SalesTable, SalesId),element.args().record(),fieldNum(ProdTable, InventRefId));
          #                queryBuildRange = salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).findRange(fieldNum(SalesTable, SalesStatus));
          #                if (queryBuildRange)
          #                {
          #                    queryBuildRange.value(SysQuery::valueUnlimited());
          #                }
          #            }
          #            break;
          #        // For deductions clear link because filter changes (see linkActive)
          #        case tableNum(TAMDeduction) :
          #            salesTable_ds.query().dataSourceTable(tableNum(SalesTable)).clearDynalinks();
          #            break;
          #    }
          #
          #    salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, editContactPersonName));
          #    // <GEEU>
          #    if (countryRegion_EEU)
          #    {
          #        salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, editReasonCode), true);
          #        salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, editReasonComment), true);
          #    }
          #    // </GEEU>
          #
          #    logisticsPostalAddressDeliveryHeader_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #    logisticsPostalAddressShipCarrierHeader_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #
          #    logisticsPostalAddressDeliveryHeader_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #    logisticsPostalAddressShipCarrierHeader_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #    // <GEERU>
          #    if (isRU)
          #    {
          #        salesTable_ds.cacheAddMethod(tableMethodStr(SalesTable, agreementDocumentTitle_RU), true);
          #    }
          #    // </GEERU>
          #}
        ENDSOURCE
        SOURCE #delete
          #void  delete()
          #{
          #    if (salesTable.checkDelete())
          #    {
          #        if (salesTableType)
          #        {
          #            salesTableType.formMethodDataSourceDelete(element, salesTable_ds);
          #        }
          #
          #        if (mcrCallCenterEnabled)
          #        {
          #            // Need to know when the exchange order was deleted
          #            if(returnProcessing && salesTable.ReturnReplacementId)
          #            {
          #                // Need to know the user deleted.
          #                element.args().parm('ExchangeDeleted');
          #            }
          #
          #            // Prevent leave method from firing on a delete which
          #            // was setting invalid errors.
          #            deleting = true;
          #        }
          #
          #        super();
          #        dimensionDefaultingControllerTable.deleted();
          #
          #        if (mcrCallCenterEnabled)
          #        {
          #            deleting = false;
          #            element.mcrCloseDownOrderEntry();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #void  create(boolean  append = true)
          #{
          #    SalesTable    newSalesTable;
          #    TMSSalesTable newTMSSalesTable;
          #    MCRSalesTable newMCRSalesTable;
          #    MCRSalesTableShipping newMCRSalesTableShipping;
          #    MCRSourceCode       mcrSourceCode;
          #    CustTable           custTableLocal;
          #
          #    salesTableForm.interCompanyAutoCreateOrders();
          #
          #    element.editSales(true);
          #
          #    mcrParmsSet = false;
          #    // If we are called from CustomerService and we already have
          #    // created a Sales Order do NOT allow ctrl-n.
          #    if (salesTable.SalesId && mcrCustomerServiceParm)
          #    {
          #        return;
          #    }
          #
          #    // Refactored logic to run do not allow open order logic in a separate method.
          #    // Need to know whether or not the new create was allowed, if it is not
          #    // return out of the create function.
          #    if (!element.mcrCheckOpenOrder())
          #    {
          #        return;
          #    }
          #
          #    // Initialize the image for each line to a "blank" image.
          #    if (enableDirectedSelling)
          #    {
          #        mcrImageUrl = '';
          #    }
          #
          #    // If we were called from CustomerService or CustTable and we need to
          #    // create a new Sales Order do it here and not in SalesCreateOrder.
          #    // Added new parameter of FormOpenModeForNew
          #    if (mcrCustomerServiceParm    != MCRCustomerServiceParam::None
          #        && mcrCustomerServiceParm != MCRCustomerServiceParam::Add
          #        && mcrCustomerServiceParm != MCRCustomerServiceParam::FormOpenModeForNew)
          #    {
          #        if(element.args().record().TableId == tableNum(CustTable))
          #        {
          #            custTableLocal = element.args().record();
          #        }
          #        salesCreateOrderForm = SalesCreateOrderForm::construct(salesTableForm.defaultSalesType(),
          #                                                               salesTableForm.project());
          #        // When coming from cust service or cust maintenance, open form in simple mode.
          #        if (!salesTable.SalesId)
          #        {
          #            super(append);
          #
          #            if (!salesTableType)
          #            {
          #                salesTableType = salesTable.type();
          #            }
          #
          #            //Only setfocus if on the correct form view
          #            if(tabPageDetails.isDisplayed())
          #            {
          #                lineViewTab.setFocus();
          #            }
          #            salesTableType.formMethodDataSourceCreate(element, salesTable_ds);
          #
          #            salesTable.CustAccount = custTableLocal.AccountNum;
          #
          #
          #            salesTable.transferCustAccount();
          #
          #            ttsbegin;
          #
          #            salesTableType.formMethodDataSourceWrite(element, salesTable_ds);
          #            if (salesTable.ProjId)
          #            {
          #                salesTable.initFromProjInvoiceTable();
          #            }
          #
          #
          #            salesTable.insert();
          #
          #            // Records that the order has been opened and which one it is.
          #            if (enableOrderCompletion)
          #            {
          #                openOrderSalesTable = salesTable.data();
          #            }
          #
          #            ttscommit;
          #
          #            if (isSalesTableExtensionTHEnabled || isSalesTableWEnabled)
          #            {
          #                salesTable_DS.research(true);
          #            }
          #
          #            // If creating a sales order from a new customer from CustTable
          #            if(mcrCustomerServiceParm == MCRCustomerServiceParam::CreateNew)
          #            {
          #                mcrSalesTable.SourceId = custTableLocal.mcrCustTable().OrigSourceId;
          #
          #                mcrLastSourceId = mcrSalesTable.SourceId;
          #
          #                ttsbegin;
          #                SalesTable::find(salesTable.SalesId, true);
          #                mcrSourceCode = MCRSourceCode::construct(salesTable);
          #                mcrSourceCode.mcrInitFromSourceCodeSetup(MCRSourceCodeSetup::find(mcrSalesTable.SourceId), salesTable.CustAccount);
          #                salesTable.update();
          #                ttscommit;
          #
          #                salesTable_ds.refresh();
          #                // Immediatlly refresh the sales line
          #                salesLine_ds.executeQuery();
          #                salesLine_ds.refresh();
          #            }
          #            // Set field as touched so that when a user clicks off that record,
          #            // validateWrite is called.
          #            this.forceWrite(true);
          #        }
          #    }
          #    else
          #    {
          #        if(salesTableForm.create())
          #        {
          #            if (skipLinkActive)
          #            {
          #                skipLinkActive = false;
          #                if (!linkActiveHeaderExecuted)
          #                {
          #                    this.linkActive();
          #                }
          #            }
          #
          #            newSalesTable = salesTableForm.salesTable();
          #
          #            if (newSalesTable)
          #            {
          #                super(append);
          #
          #                salesTable.data(newSalesTable);
          #
          #                salesTable_DS.rereadReferenceDataSources();
          #
          #                // <GEERU>
          #                if (isRU)
          #                {
          #                    salesTable_RU.data(SysExtensionSerializerExtensionMap::findByBase(salesTable_RU.TableId,
          #                                                                                      salesTable.RecId,
          #                                                                                      true));
          #                    salesTable_RU_DS.rereadReferenceDataSources();
          #                }
          #                // </GEERU>
          #                // <GBR>
          #                if (BrazilParameters::isEnabled())
          #                {
          #                    salesTable_BR.data(SysExtensionSerializerExtensionMap::findByBase(salesTable_BR.TableId,
          #                                                                                      salesTable.RecId,
          #                                                                                      true));
          #
          #                    salesTable_BR_DS.rereadReferenceDataSources();
          #                }
          #                // </GBR>
          #
          #                // <GEERU><GBR>
          #                if (isRU || BrazilParameters::isEnabled())
          #                {
          #                    salesTable_ds.refresh();
          #                }
          #                // </GBR></GEERU>
          #
          #                //<GTH>
          #                if (isSalesTableExtensionTHEnabled)
          #                {
          #                    salesTable_DS.research(true);
          #                }
          #                //</GTH>
          #
          #                if (isSalesTableWEnabled)
          #                {
          #                    salesTable_W.data(SysExtensionSerializerExtensionMap::findByBase(salesTable_W.TableId,
          #                                                                                    salesTable.RecId,
          #                                                                                    true));
          #
          #                    salesTable_W_DS.rereadReferenceDataSources();
          #                    salesTable_DS.refresh();
          #                }
          #
          #                lineViewTab.setFocus();
          #
          #                // Context is now editing. If FormOpenMode is ForNew, change it to ForEdit
          #                if (TradeFormHelper::isOpenedForNew(element.args()))
          #                {
          #                    element.args().parmEnum(enum2int(FormOpenMode::ForEdit));
          #                }
          #            }
          #        }
          #        else
          #        {
          #            // If form was opened for the intent of creating new record, and with the given caller, then close form
          #            if (TradeFormHelper::isOpenedForNewFromForm(element.args()))
          #            {
          #                element.close();
          #            }
          #            else
          #            {
          #                element.editSales(salesTableForm.editHeaderAllowed(), salesTableForm.deleteHeaderAllowed());
          #            }
          #        }
          #    }
          #
          #    if (!tmsSalesTable.isTmp()) // No need to query for TMSSalesTable if it is disabled
          #    {
          #        newTMSSalesTable = TMSSalesTable::find(salesTable.SalesId);
          #
          #        tmsSalesTable.data(newTMSSalesTable);
          #        tmsSalesTable.reread();
          #    }
          #
          #    if (mcrCallCenterEnabled)
          #    {
          #        newMCRSalesTable = MCRSalesTable::findSalesId(salesTable.SalesId);
          #        if (newMCRSalesTable)
          #        {
          #            mcrSalesTable.data(newMCRSalesTable);
          #        }
          #
          #        newMCRSalesTableShipping = MCRSalesTableShipping::findSalesId(salesTable.SalesId);
          #        if (newMCRSalesTableShipping)
          #        {
          #            mcrSalesTableShipping.data(newMCRSalesTableShipping);
          #        }
          #
          #        // If the create is being done from customer maintenance via customer service and
          #        // allowOpenOrders is off, then set the boolean to true so that we will not run
          #        // salesTable/LinkActive/Super which tries to save the salesTable record and prompts
          #        // that there can not be open orders.
          #        if (mcrCustomerServiceParm == MCRCustomerServiceParam::CreateNew
          #            && enableOrderCompletion)
          #        {
          #            enterOrderFromNewCust = true;
          #        }
          #
          #        // For when new sales orders are created to set focus to the line.
          #        if(! (MCROrderParameters::find().mcrSourceCodeRequired && mcrSalesTable.SourceId == '')
          #            && salesLine_ItemId.isDisplayed()) //Only setfocus if on the correct form view
          #        {
          #            salesLine_ItemId.setFocus();
          #        }
          #    }
          #    skipLinkActive = false;
          #}
        ENDSOURCE
        SOURCE #active
          #int  active()
          #{
          #    int                     ret;
          #    SalesTableType          editSalesTableType;
          #    SalesTotals             salesTotals;
          #    boolean                 allowEditDeliveryPostalAddress;
          #    container               origPackedExtensions        = salesTable.PackedExtensions;
          #    container               origPackedPrioritizedIdList = salesTable.PackedPrioritizedIdList;
          #
          #    // Allow the invoice account to be edited only if allowed to be changed
          #    // for all payments (or if the sales order is new).
          #    MCRCustPaymTotals mcrCustPaymTotals;
          #    boolean allowEditInvoiceAccount;
          #
          #    //<<catalina.leonte.LCE_OrderCreationStatus_02/26/2019
          #    LCE_OrderCreationStatus lce_orderCreationStatus;
          #    //>>catalina.leonte.LCE_OrderCreationStatus_02/26/2019
          #
          #    performIntercompanyValidationCache = UnknownNoYes::Unknown;
          #
          #    element.lock();
          #
          #    startLengthyOperation();
          #    mcrLastSourceId = mcrSalesTable.SourceId;
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(MCRCallCenter)))
          #    {
          #        element.mcrOrderEntryModeInit();
          #    }
          #    mcrCallCenterOrder = salesTable.mcrIsCallCenter();
          #    element.editSales(salesTableForm.editHeaderAllowed());
          #
          #    ret = super();
          #
          #    isRetailOrder = element.useRetailPricingEngine();
          #    retailOrderNeedRecalculation = false;
          #    this.enableRetailFields(isRetailOrder);
          #
          #    editSalesTableType = salesTable.type();
          #    salesTableForm.salesTable(salesTable);
          #    salesTableForm.enableAvailableDlvDatesButtons(salesTable, salesAvailableDlvDatesHeader, salesAvailableDlvDatesLine, salesLine.LineDeliveryType);
          #    salesTableForm.enableUpdateJournalButtonsMultipleOrders(salesTable,
          #                                              buttonUpdateConfirmation,
          #                                              buttonUpdatePickingList,
          #                                              buttonUpdatePickingListRegistrate,
          #                                              buttonUpdatePackingSlip,
          #                                              buttonUpdateInvoice,
          #                                              null,
          #                                              buttonProformaConfirmation,
          #                                              buttonProformaPackingSlip,
          #                                              // <GEERU>
          #                                              buttonProformaInvoice,
          #                                              buttonUpdateInvoice4Paym_RU,
          #                                              buttonUpdateFacture_RU,
          #                                              factureEditLinesCust_RU,
          #                                              buttonProformaFacture_RU,
          #                                              buttonProformaInvoice4Paym_RU,
          #                                              factureEditLinesCust_Proforma_RU);
          #                                              // </GEERU>
          #
          #    // <GIN>
          #    if (SysCountryRegionCode::isLegalEntityInCountryRegion([#isoIN]))
          #    {
          #        salesTableForm.enableExportOrderButton_IN(
          #            salesTable,
          #            createExportOrder_IN);
          #    }
          #    // </GIN>
          #    // Enables or disables the sales order fields.
          #    if ((salesTable.SalesType == SalesType::ReturnItem && !isReturnFieldsEnabled)
          #        || (salesTable.SalesType != SalesType::ReturnItem && isReturnFieldsEnabled))
          #    {
          #        element.setReturnFields();
          #        isReturnFieldsEnabled = !isReturnFieldsEnabled;
          #    }
          #    if (enableOrderCompletion)
          #    {
          #        mcrCustPaymTotals = MCRCustPaymTotals::construct(salesTable.TableId, salesTable.RecId);
          #        allowEditInvoiceAccount = !salesTable || mcrCustPaymTotals.allowEditInvoiceAccount();
          #    }
          #
          #    // Change visibility through form method
          #    element.mcrVisibleControl(interCompanyAllowIndirectCreationOrig,
          #                             salesTable.interCompanyAllowIndirectCreationOrig() ? true : false);
          #
          #    element.mcrSetHeaderControls();
          #
          #    buttonLineQuickQuote.  enabled(salesTableForm.editHeaderAllowed());
          #
          #    createCase.enabled(salesTable.RecId != 0);
          #    caseButton.enabled(salesTable.RecId != 0);
          #
          #    if (!enableOrderCompletion)
          #    {
          #        element.editSales(salesTableForm.editHeaderAllowed());
          #    }
          #
          #    salesTable_ds.object(fieldNum(SalesTable, CustAccount)   ).allowEdit(editSalesTableType.editCustAccount());
          #    salesTable_ds.object(fieldNum(SalesTable, InvoiceAccount)).allowEdit(editSalesTableType.editInvoiceAccount());
          #    salesTable_ds.object(fieldNum(SalesTable, vatNum)        ).allowEdit(editSalesTableType.editVATNum());
          #    salesTable_ds.object(fieldNum(SalesTable, InclTax)       ).allowEdit(editSalesTableType.editInclTax());
          #
          #    salesTable_ds.object(fieldNum(SalesTable, DlvMode)       ).mandatory(salesTable.dlvModeMandatory());
          #
          #    salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).allowEdit(editSalesTableType.editCurrencyCode());
          #    salesTable_ds.object(fieldNum(SalesTable, CurrencyCode)  ).skip(!editSalesTableType.editCurrencyCode());
          #
          #    //salesTable_ds.object(fieldNum(SalesTable, PurchOrderFormNum)).visible(salesTable.ProjId=='');
          #    //salesTable_ds.object(fieldNum(SalesTable, CustomerRef)).visible(salesTable.ProjId=='');
          #
          #    salesTable_ds.rereadReferenceDataSources();
          #    element.showInactiveAddressBar();
          #
          #    if (tmpSalesTableTaxTransForm && !tmpSalesTableTaxTransForm.closed())
          #    {
          #        //If the tax window is already showing this documents taxes then don't recalculate.
          #        if (tmpSalesTableTaxTransForm.getHeadingRecId() != salesTable.RecId)
          #        {
          #            salesTotals = SalesTotals::construct(salesTable);
          #            salesTotals.calc();
          #            tmpSalesTableTaxTransForm.pushTaxObject(salesTotals.tax());
          #        }
          #    }
          #
          #    // <GIN>
          #    if (TaxWithholdParameters_IN::checkTaxParameters())
          #    {
          #        if (tmpSalesTableTaxWithholdTransForm && !tmpSalesTableTaxWithholdTransForm.closed())
          #        {
          #            salesTotals = SalesTotals::construct(salesTable);
          #            salesTotals.calc();
          #            tmpSalesTableTaxWithholdTransForm.pushTaxObject(salesTotals.taxWithhold_IN());
          #        }
          #    }
          #    // </GIN>
          #    salesTableForm.interCompanySetHeaderAccess(interCompanyAllowIndirectCreationOrig);
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
          #    {
          #        salesTableForm.pdsSetHeaderAccess();
          #    }
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        allowEditDeliveryPostalAddress = salesTable_ds.object(fieldNum(SalesTable,DeliveryPostalAddress)).allowEdit(!salesTable.returnItem());
          #    }
          #    else
          #    {
          #    // </GBR>
          #        allowEditDeliveryPostalAddress = salesTable_ds.object(fieldNum(SalesTable,DeliveryPostalAddress)).allowEdit();
          #    // <GBR>
          #    }
          #    // </GBR>
          #    logisticsLocationSelectHeader.enabled(allowEditDeliveryPostalAddress);
          #    dirPartyPostalAddressNewHeader.enabled(allowEditDeliveryPostalAddress);
          #
          #    eInvoice.    visible(CustTable::isCustDKPublic(salesTable.InvoiceAccount));
          #    eInvoiceLine.visible(CustTable::isCustDKPublic(salesTable.InvoiceAccount));
          #
          #    this.showDimAccount();
          #
          #    headerInquiry_CostControlCommittedCost.enabled(salesTable.ProjId ? true : false);
          #
          #    element.configBankDocumentControls();
          #    element.setTitleText();
          #
          #    dimensionDefaultingControllerTable.activated();
          #
          #    // <GIN>
          #    if (isIndiaIndirectTaxParameterMarked)
          #    {
          #        customsExportAssessableValue_IN.enabled(salesTable.CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);
          #        salesLine_CustomsMaxRetailPrice_IN.visible(SalesTable::find(salesTable.SalesId).CustomsExportOrder_IN == NoYes::Yes && TaxParameters::find().Customs_IN == NoYes::Yes);//51568
          #        salesLine_MaximumRetailPrice_IN.enabled(SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::No);
          #    }
          #    if (isIndiaWHTMarked)
          #    {
          #        element.setTaxWithholdEnabled_IN();
          #        element.setReturnFields_IN();
          #    }
          #    // </GIN>
          #
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        salesTable_BR_DS.enableDataSourceFields_BR();
          #    }
          #    // </GBR>
          #
          #    // <GEEPL>
          #    headerPackageParm.enabled(! salesTable.ProjId);
          #    linePackageParm.enabled  (! salesTable.ProjId);
          #    // </GEEPL>
          #
          #    tieredCharges.enabled(salesTable.markupAllowed());
          #    salesTable.PackedExtensions         = origPackedExtensions;
          #    salesTable.PackedPrioritizedIdList  = origPackedPrioritizedIdList;
          #
          #    //<GTH>
          #    if (isUnrealizedVATEnabled)
          #    {
          #        element.noteFormatEdit();
          #    }
          #    //</GTH>
          #
          #    CustDirectDebitMandate::defaultAndDisplayMandate(
          #        salesTable.InvoiceAccount,
          #        salesTable.PaymMode,
          #        salesTable.DirectDebitMandate,
          #        false,
          #        salesTable_ds,
          #        fieldNum(SalesTable, DirectDebitMandate));
          #
          #    if (enableDirectedSelling
          #        && mcrCallCenterEnabled
          #        && !SalesLine::exist(salesTable.SalesId))
          #    {
          #        //no salesline yet so override this value
          #        element.mcrDisplayStartOrderMessage(true);
          #    }
          #
          #    if (mcrGiftCardPoliciesEnabled)
          #    {
          #        giftCardPolicyCache = MCRSalesOrderGiftCardPolicyHelper::construct(salesTable.CurrencyCode);
          #    }
          #
          #    //<<catalina.leonte.LCE_OrderCreationStatus_02/26/2019
          #    lce_orderCreationStatus = lce_orderCreationStatus::find(SalesTable.SalesId);
          #
          #    //if creationStatus is "Blocked", the sales order will not be editable
          #   if (lce_orderCreationStatus)
          #    {
          #        if(lce_orderCreationStatus.CreationStatus == LCE_CreationStatusEnum::Blocked)
          #        {
          #            element.design().viewEditMode(ViewEditMode::View);
          #            SalesTable_ds.allowEdit(false);
          #            LinesActionPaneStrip.visible(false);
          #            SalesLine_ds.allowCreate(false);
          #            SalesLineGrid.allowEdit(false);
          #        }
          #    }
          #
          #
          #    if ( SalesTable.LCE_OpenOrderReason == "")
          #    {
          #        SalesTable_LCE_OpenOrderReason.visible(false);
          #    }
          #    //>>catalina.leonte.LCE_OrderCreationStatus_02/26/2019
          #
          #    endLengthyOperation();
          #    element.unlock();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #displayOption
          #public void displayOption(Common _record, FormRowDisplayOption _options)
          #{
          #    MCRHoldOrderDisplayColor mcrHoldOrderDisplayColor;
          #
          #    SalesTable salesTableLocal =  _record;
          #
          #    mcrHoldOrderDisplayColor = SalesParameters::find().mcrHoldOrderDisplayColor;
          #
          #    if (salesTableLocal)
          #    {
          #        if (mcrHoldOrderDisplayColor
          #            && MCRHoldCodeTrans::findActiveOrderHolds(salesTableLocal.SalesId))
          #        {
          #            _options.backColor(mcrHoldOrderDisplayColor);
          #        }
          #        else
          #        {
          #             _options.clearBackColor();
          #        }
          #    }
          #
          #    super(_record, _options);
          #}
        ENDSOURCE
        SOURCE #editHeader
          #void editHeader()
          #{
          #    this.editSales();
          #}
        ENDSOURCE
        SOURCE #editSales
          #void editSales()
          #{
          #    element.editSales(salesTableForm.editHeaderAllowed(), salesTableForm.deleteHeaderAllowed());
          #    element.mcrSetHeaderControls();
          #    element.mcrSetLineControls();
          #}
        ENDSOURCE
        SOURCE #first
          #public int first()
          #{
          #    int ret;
          #
          #    // Selects the first record on the sales table.  This is not allowed if the user has
          #    // opened an order and open orders are not allowed due to the order comnpletion process being enabled.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        return ret;
          #    }
          #
          #    ret = super();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #last
          #public int last()
          #{
          #    int ret;
          #
          #    // Selects the last record on the sales table.  This is not allowed if the user has
          #    // opened an order and open orders are not allowed.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        return ret;
          #    }
          #    ret = super();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #reReadLines
          #void reReadLines()
          #{
          #    salesLine_ds.executeQuery();
          #}
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    // Prevent leave method from firing on a delete
          #    if (deleting)
          #    {
          #        return ret;
          #    }
          #    salesTableForm.interCompanyAutoCreateOrders();
          #
          #    if (!salesLine.PBAItemLine::checkMandatory() )
          #    {
          #        return false;
          #    }
          #
          #    // if the status of the order being evaluated has had
          #    // its status changed to something other than open order
          #    // (backorder) clear out the buffer which indicates an open order.
          #    if (enableOrderCompletion)
          #    {
          #        ret = ret && element.mcrCheckOpenOrder();
          #
          #        salesTable_ds.reread();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #showDimAccount
          #void showDimAccount()
          #{
          #    if (salesTable.eInvoiceLineSpec == NoYes::No)
          #    {
          #        eInvoice_EInvoiceLineSpec.enabled(true);
          #        eInvoice_EInvoiceAccountCode.enabled(true);
          #        eInvoiceLine_EInvoiceAccountCode.enabled(false);
          #    }
          #    else
          #    {
          #        eInvoice_EInvoiceAccountCode.enabled(false);
          #        eInvoiceLine_EInvoiceAccountCode.enabled(true);
          #    }
          #}
        ENDSOURCE
        SOURCE #checkCreditLimit
          #void checkCreditLimit()
          #{
          #    TypeOfCreditmaxCheck    typeOfCreditmaxCheck    = CustParameters::find().CreditMaxCheck;
          #    SalesUpdate qtySpec = (typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceDelivered ? SalesUpdate::PackingSlip :
          #                           typeOfCreditmaxCheck == TypeOfCreditmaxCheck::BalanceAll       ? SalesUpdate::All         : 0);
          #    SalesTotals salesTotals = SalesTotals::construct(salesTable, qtySpec);
          #
          #    salesTable.checkCreditLimit(salesTotals);
          #}
        ENDSOURCE
        SOURCE #next
          #public int next()
          #{
          #    int ret;
          #    // Selects the next record on the sales table.  This is not allowed if the user has
          #    // opened an order and open orders are not allowed.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        return ret;
          #    }
          #
          #    ret = super();
          #    // integer that represents the next record
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #nextPage
          #/// <summary>
          #/// Selects the first record on the next page of the sales table.  This is not
          #/// allowed if the user has opened an order and open orders are not allowed.
          #/// </summary>
          #/// <param name="_pageSize">
          #/// Page size
          #/// </param>
          #/// <returns>
          #/// Returns an integer representing page size.
          #/// </returns>
          #public int nextPage(int _pageSize)
          #{
          #    int ret;
          #
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        _pageSize = 0;
          #    }
          #    ret = super(_pageSize);
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #prev
          #public int prev()
          #{
          #    int ret;
          #    // Selects the previous record on the sales table.  This is not allowed if the user has
          #    // opened an order and open orders are not allowed.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        return ret;
          #    }
          #    ret = super();
          #    // integer that represents the next record
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #prevPage
          #public int prevPage(int _pageSize)
          #{
          #    int ret;
          #
          #    // Selects the first record on the last page of the sales table.  This is not
          #    // allowed if the user has opened an order and open orders are not allowed.
          #    if (enableOrderCompletion
          #        && openOrderSalesTable)
          #    {
          #        _pageSize = 0;
          #    }
          #    ret = super(_pageSize);
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #refreshDDC
          #void refreshDDC()
          #{
          #    if (salesTable_ds && salesTable && salesTable.DeliveryDateControlType)
          #    {
          #        salesTable_ds.refresh();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine
          Table               #SalesLine
          Index               #SalesLineIdx
          CounterField        #LineNum
          JoinSource          #SalesTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ItemId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    Args                 args;
                #    FormRun              formRun;
                #
                #    if (mcrCallCenterEnabled && salesLine.mcrSalesLine().SourceId != "")
                #    {
                #        Catalog::lookupItemsFromSourceId(salesLine.mcrSalesLine().SourceId, _formControl, _filterStr);
                #    }
                #    else
                #    {
                #
                #        if (EcoResProductParameters::find().pcLookupMethod == PCLookupMethod::Configurable)
                #        {
                #            args = new Args(formStr(PCProductLookup));
                #            args.caller(element);
                #            formRun = classfactory.formRunClass(args);
                #            formRun.init();
                #            this.performFormLookup(formRun, _formControl);
                #        }
                #        else if (PBAParameters::find().LookupMethod == PBALookupMethod::Configurable)
                #        {
                #            args = new Args(formStr(PBAItemIdLookup));
                #            args.caller(element);
                #            args.record(salesLine);
                #            args.parm(_filterStr);
                #            formRun = classfactory.formRunClass(args);
                #            formRun.init();
                #            this.performFormLookup(formRun, _formControl);
                #        }
                #        else
                #        {
                #            InventTable::lookupItem(_formControl);
                #        }
                #    }
                #}
              ENDSOURCE
              SOURCE #modified
                #void  modified()
                #{
                #    ItemId  itemId;
                #
                #    // <GIN>
                #    InventTable     inventTableLoc;
                #    // </GIN>
                #
                #    super();
                #
                #    itemId = salesLine.ItemId;
                #
                #    salesTableForm.resetSalesLine(salesLine);
                #
                #    salesLine.ItemId = itemId;
                #
                #    if (isConfigurationkeyEnabled(configurationKeyNum(Retail)) && itemBarcode)
                #    {
                #        salesLine.InventDimId = itemBarcode.InventDimId;
                #
                #        salesLine_ds.itemIdModified();
                #
                #        salesLine.SalesQty = itemBarcode.Qty;
                #        salesLine.SalesUnit = itemBarcode.UnitID;
                #    }
                #    else
                #    {
                #        salesLine_ds.itemIdModified();
                #    }
                #
                #    // <GIN>
                #    if (isIndiaIndirectTaxParameterMarked)
                #    {
                #        inventTableLoc = InventTable::find(salesLine.ItemId);
                #        salesLine_IN.ExciseTariffCodes_IN       = inventTableLoc.ExciseTariffCodes_IN;
                #        salesLine_IN.CustomsTariffCodeTable_IN  = inventTableLoc.CustomsExportTariffCodeTable_IN;
                #        salesLine_IN.ServiceCodeTable_IN        = inventTableLoc.ServiceCodeTable_IN;
                #        salesLine_IN.SalesPurchJournalLineExtension_IN::initFromPrimaryTable(salesLine);
                #        if (SalesTable::find(salesLine.SalesId).CustomsExportOrder_IN == NoYes::Yes)
                #        {
                #            //MRP defaulted from item is converted using Customs exchange rate for Export orders.
                #            salesLine_IN.MaximumRetailPrice_IN = Currency::customsCurAmount_IN(salesLine_IN.CustomsMaxRetailPrice_IN, salesTable.CurrencyCode, Direction_IN::Export, systemDateGet(), false);
                #        }
                #        salesLine_DS.enableExciseFields_IN();
                #        salesLine_IN_DS.refresh();
                #    }
                #    if (TaxParameters::isCustomsEnable_IN()
                #        && salesTable.CustomsExportOrder_IN
                #        && TaxParameters::find().EximIncentiveSchemes_IN)
                #    {
                #        eximSalesLine_IN.EximProductGroupTable = InventTable::find(salesLine.ItemId).EximProductGroupTable_IN;
                #        element.enableFieldsActive_IN();
                #    }
                #    if (TaxParameters::checkTaxParameters_IN())
                #    {
                #        salesLine_IN.assessableValue(salesLine);
                #
                #    }
                #    if (TaxParameters::checkTaxParameters_IN() || TaxWithholdParameters_IN::checkTaxParameters())
                #    {
                #        TaxInformation_IN_DS.linkActive();
                #        salesLine_IN_ds.refresh();
                #    }
                #
                #    // </GIN>
                #
                #    salesLine_ds.refreshDDC();
                #
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
                #    {
                #        salesLine_ds.cacheCalculateMethod(tableMethodStr(SalesLine,pdsCWUnitId));
                #    }
                #
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine.setTaxGroupAndTaxItemGroupFields_BR();
                #
                #        if (salesLine.inventTable().ItemType != ItemType::Service)
                #        {
                #            salesLine.LedgerDimension = SalesPurchOperationType_BR::find(salesTable_BR.SalesPurchOperationType_BR).LedgerDimension;
                #        }
                #
                #        salesLine_ds.refresh();
                #
                #        salesLine_BR_DS.enableDataSourceFields_BR();
                #    }
                #    // </GBR>
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        element.mcrDisplayItemMessage();
                #
                #        // Since many line controls are item dependent, reset line controls
                #        // Set time out for the method because tabs going visible/invisible causes
                #        // any modified methods to run twice.
                #        element.setTimeOut(identifierStr(MCRSetLineControls), 0);
                #
                #        MCRSalesLine_ds.giftCardPolicyChanged();
                #
                #        // Load image when item is changed or added.
                #        if (enableDirectedSelling)
                #        {
                #            mcrImageUrl = element.mcrGetLoadImageFileObject().loadImageFile(InventTable::find(salesLine.ItemId));
                #        }
                #    }
                #}
                #
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Name
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    // Do not default Name from category when modified.
                #    keepName = true;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesPrice
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl
                #        && RetailParameters::find().GiftcardItem != salesLine.ItemId)
                #    {
                #        if (salesLine.mcrInventTable().AllowPriceAdjust == NoYes::No)
                #        {
                #            ret = checkFailed("@MCR34339");
                #        }
                #        else
                #        {
                #            ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, SalesPrice),
                #                                                      salesLine.SalesPrice,
                #                                                      fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #        }
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.mcrRefreshMarginAlert();
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LinePercent
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, LinePercent),
                #                                                  salesLine.LinePercent,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,DiscPercentOverride));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LineDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, LineDisc),
                #                                                  salesLine.LineDisc,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup, CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LineAmount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, LineAmount),
                #                                                  salesLine.LineAmount,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    element.mcrRefreshMarginAlert();
                #
                #    salesLine_ds.active();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Reservation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    if (#PdsSameLotEnabled
                #        && salesLine.Reservation == ItemReservation::Automatic)
                #    {
                #        // trigger a change on the quantity, so batch reservation can be called
                #        salesTable_ds.object(fieldNum(SalesLine, SalesQty)).modified();
                #    }
                #
                #    salesTableForm.pdsSetLineAccess(salesLine);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #
                #    salesLine.setPriceDisc(inventDim);
                #
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #    salesLine.calcPackingUnitQty(inventDim);
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret && salesLine.RecId && !salesLine.isAgreementLinkValid())
                #    {
                #        ret = salesLine.unLinkAgreementLinePrompt(fieldNum(SalesLine,SalesUnit));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PriceUnit
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, PriceUnit),
                #                                                  salesLine.PriceUnit,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #void modified()
                #{
                #    super();
                #
                #    element.mcrRefreshMarginAlert();
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjTransId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    ProjItemTrans::jumpRefTransId(salesLine, element);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CustAccount
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #    CustTable custTableLocal;
                #
                #    ret = super();
                #    if (mcrCallCenterEnabled)
                #    {
                #        custTableLocal = CustTable::find(salesTable.CustAccount);
                #        // Do not allow a user to manually enter a phantom custAccount.
                #        if (custTableLocal.mcrMergedParent)
                #        {
                #            checkFailed(strFmt("@MCR12337", salesTable.CustAccount, custTableLocal.mcrMergedParent));
                #            // Return the parent account number
                #            salesTable.CustAccount = custTableLocal.mcrMergedRoot;
                #        }
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #void  modified()
                #{
                #    InventQty pickedQty;
                #    InventQty qtyOrdered;
                #
                #    if (salesLine.SalesQty > 0 && salesLine.type().mustSalesQtyBeNegative())
                #    {
                #        error("@SYS98119");
                #    }
                #
                #    if (mcrCallCenterEnabled)
                #    {
                #        // If the user tries to change the quantity below what has already been picked
                #        // for the line, an error will be issued.
                #        pickedQty = salesLine.mcrPickedLineQuantity();
                #        if (pickedQty != 0)
                #        {
                #            qtyOrdered = UnitOfMeasureConverter::convert(salesLine.SalesQty,
                #                                                    UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.SalesUnit),
                #                                                    UnitOfMeasure::unitOfMeasureIdBySymbol(salesLine.inventTable().inventTableModuleInvent().UnitId),
                #                                                    NoYes::Yes,
                #                                                    InventTable::itemProduct(salesLine.ItemId));
                #
                #            if (abs(qtyOrdered) < abs(pickedQty))
                #            {
                #                throw error("@MCR12251");
                #            }
                #        }
                #    }
                #
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #    salesLine.modifyWMSLocation(inventDim, false);
                #
                #    element.checkCreditNoteLine();
                #
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #
                #    // <GIN>
                #    salesLine_DS.enableExciseFields_IN();
                #    // </GIN>
                #
                #    salesLine_ds.refresh();
                #
                #    if (PBATableInstance::isPBAEnabledAndExistsPost(salesLine.ItemId, salesLine.InventTransId))
                #    {
                #        if (salesLine.orig().SalesPrice &&
                #            salesLine.orig().SalesPrice != salesLine.SalesPrice)
                #        {
                #            if (PBAParameters::find().PriceCalc == NoYes::Yes)
                #            {
                #                //salesLine.SalesPrice = salesLine.orig().SalesPrice;
                #                salesLine.calcLineAmount();
                #            }
                #            else
                #            {
                #                if (Box::yesNo("@SYS97951", DialogButton::Yes, "@SYS97952") == DialogButton::Yes)
                #                {
                #                    salesLine_ds.write();
                #                    element.pbaConfigureLine();
                #                }
                #            }
                #        }
                #        if (salesLine.orig().SalesQty != salesLine.SalesQty)
                #        {
                #            if (Box::yesNo("@SYS97953", DialogButton::Yes, "@SYS97952") == DialogButton::Yes)
                #            {
                #                salesline_ds.write();
                #                element.pbaConfigureLine();
                #            }
                #            else
                #            {
                #                //clean up BOM, Route and PBA id fields
                #                salesLine.ItemBOMId = '';
                #                salesLine.ItemRouteId = '';
                #                salesLine.ItemPBAId = '';
                #            }
                #        }
                #    }
                #    // PBA end
                #
                #    // <GIN>
                #    if (TaxParameters::isCustomsEnable_IN())
                #    {
                #        if (TaxParameters::find().EximIncentiveSchemes_IN && salesLine.SalesQty < 0)
                #        {
                #            eximSalesLine_IN.ApplyDEPB                = NoYes::No;
                #            eximSalesLine_IN.MarketValue              = 0.00;
                #            eximSalesLine_IN.dbkCenvatStatus          = EximDBKCenvatStatus_IN::None;
                #            eximSalesLine_IN.dbkRateType              = EximDBKRateType_IN::AllIndustryRate;
                #            eximSalesLine_IN.dbkPercent               = 100;
                #            eximSalesLine_IN.EximIncentiveSchemeGroup = 0;
                #            eximSalesLine_IN.EximPorts                = 0;
                #            eximSalesLine_IN.EximProductGroupTable    = 0;
                #        }
                #
                #        if (TaxParameters::find().EximIncentiveSchemes_IN && salesLine.SalesQty > 0)
                #        {
                #            eximSalesLine_IN.EximProductGroupTable = InventTable::find(salesLine.ItemId).EximProductGroupTable_IN;
                #        }
                #
                #        element.setEximFieldsAccess_IN();
                #    }
                #    // </GIN>
                #
                #    if (RetailPricingEngine::useRetailPricingEngineForSalesOrder(salesTable.SalesId))
                #    {
                #        salesLine.setPriceDisc(inventDim);
                #    }
                #
                #    salesLine_ds.refreshDDC();
                #
                #    // If the quantity is modified need to update the related children.
                #    // But only if none have been created yet.
                #    if (mcrSalesLine.LineType == MCRLineType::ContinuityParent
                #        && mcrCallCenterEnabled)
                #    {
                #        salesLine.mcrUpdateContCustLines();
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    // Prevent unnecessary erroring when user enters a positive qty
                #    // for a return order.
                #    if (salesTable.SalesType == SalesType::ReturnItem)
                #    {
                #        salesLine.SalesQty = (salesLine.SalesQty > 0) ? -salesLine.SalesQty : salesLine.SalesQty;
                #    }
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SalesMarkup
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, SalesMarkup),
                #                                                  salesLine.SalesMarkup,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MultiLnDisc
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, MultiLnDisc),
                #                                                  salesLine.MultiLnDisc,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,CostMarkUpPercent));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD MultiLnPercent
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret
                #        && mcrCallCenterEnabled
                #        && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(SalesLine, MultiLnPercent),
                #                                                  salesLine.MultiLnPercent,
                #                                                  fieldNum(MCRPriceOverrideMarkUpGroup,DiscPercentOverride));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemBOMId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventTable::lookupBOMId(_formControl, salesLine.ItemId, inventDim);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemRouteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventTable::lookupRouteId(_formControl, salesLine.ItemId, inventDim);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DlvMode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refreshDDC();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventTransIdReturn
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    InventTransOrigin::lookupTransIdReturn(_formControl, salesLine, inventDim);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.checkCreditNoteLine();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ProjId
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    dimensionDefaultingControllerLine.activated();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CaseTagging
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.updateRFIDTagging();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD SalesCategory
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return EcoResCategory::resolveCategoryHierarchyRole(
                #        _formReferenceControl,
                #        EcoResCategoryNamedHierarchyRole::Sales);
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return EcoResCategory::lookupCategoryHierarchyRole(
                #        _formReferenceControl,
                #        EcoResCategoryNamedHierarchyRole::Sales);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCategory   salesCategory;
                #    ItemFreeTxt     name;
                #
                #    if (keepName)
                #    {
                #        name           = salesLine.Name;
                #    }
                #
                #    // Reset line, but keep category
                #    salesCategory = salesLine.SalesCategory;
                #
                #    salesTableForm.resetSalesLine(salesLine);
                #
                #    salesLine.SalesCategory   = salesCategory;
                #
                #    super();
                #
                #    // Name is defaulted from category in super(). So we revert to saved value it if needed.
                #    if (keepName)
                #    {
                #        salesLine.Name = name;
                #    }
                #
                #    // Enabled/disable fields
                #    salesLine_ds.changedStockedStatus(true);
                #
                #
                #    if (salesLine.isCategoryBased())
                #    {
                #        mcrSalesLineDropShipment_ds.allowEdit(false);
                #
                #        if (salesTable.MatchingAgreement)
                #        {
                #            salesLine.SalesPurchLine::autoMatchAgreementLine(salesTable.MatchingAgreement);
                #        }
                #
                #        if (salesLineForeignTradeCategory.SalesLineDataAreaId == '')
                #        {//Only create record if no one exists
                #            salesLineForeignTradeCategory_ds.allowCreate(true);
                #            salesLineForeignTradeCategory_ds.create();
                #            salesLineForeignTradeCategory_ds.allowEdit(true);
                #            salesLineForeignTradeCategory_ds.allowCreate(false);
                #        }
                #    }
                #    else
                #    {
                #        mcrSalesLineDropShipment_ds.allowEdit(true);
                #        salesLineForeignTradeCategory.clearFormFields();
                #        salesLineForeignTradeCategory_ds.allowEdit(false);
                #        salesLineForeignTradeCategory_ds.refresh();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ActivityNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    HierarchyTreeTable::lookupHierarchyTree(_formControl, ProjTable::find(salesLine.ProjId));
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD LedgerDimension
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return ledgerDefaultAccountController.resolveReference();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ExpectedRetQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #    super();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD DeliveryPostalAddress
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine_ds.refresh();
                #
                #    element.showInactiveAddressBar();
                #
                #    // <GBR>
                #    if (BrazilParameters::isEnabled())
                #    {
                #        salesLine_ds.refresh(); // redraw display controls
                #    }
                #    // </GBR>
                #}
              ENDSOURCE
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CustTable custTable = CustTable::find(salesTable.CustAccount);
                #
                #    ret = LogisticsLocationSelectionLookup::lookupAddressForm(_formReferenceControl, custTable,
                #        [LogisticsLocationRoleType::Delivery], false,
                #        LogisticsLocationSelectionLookup::transactionAssociatedAddresses(
                #            tableNum(SalesLine),
                #            fieldNum(SalesLine, DeliveryPostalAddress),
                #            fieldNum(SalesLine, SalesId),
                #            salesTable.SalesId,
                #            salesTable.DeliveryPostalAddress));
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ShipCarrierName
            PROPERTIES
              AllowEdit           #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ItemPBAId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    PBAVersion::lookupPBAId(_formControl, salesLine.ItemId);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD RetailVariantId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #/// <summary>
                #/// Jump Reference
                #/// </summary>
                #public void jumpRef()
                #{
                #    Args args = new Args();
                #
                #    args.caller(element);
                #    args.record(InventTable::find(salesLine.ItemId));
                #    args.lookupRecord(EcoResDistinctProductVariant::find(InventDimCombination::findVariantId(salesLine.RetailVariantId).DistinctProductVariant));
                #
                #    new MenuFunction(menuitemDisplayStr(EcoResProductVariantsAction), MenuItemType::Display).run(args);
                #}
                #
              ENDSOURCE
              SOURCE #modified
                #/// <summary>
                #/// Retail Variant ID - Modified
                #/// </summary>
                #public void modified()
                #{
                #    InventDimCombination    comb;
                #
                #    super();
                #
                #    comb = InventDimCombination::findVariantId(salesLine.RetailVariantId);
                #    if (comb)
                #    {
                #        inventDim.InventSizeId = comb.inventDim().InventSizeId;
                #        inventDim.InventColorId = comb.inventDim().InventColorId;
                #        inventDim.InventStyleId = comb.inventDim().InventStyleId;
                #        inventDim.ConfigId = comb.inventDim().ConfigId;
                #        // set Name according to VariantId
                #        salesLine.InventDimId    = InventDim::findOrCreate(inventDim).InventDimId;
                #        salesLine.initFromProductDimensions(inventDim);
                #
                #        // set Unit price according to VariantId trade agreements
                #        salesLine.setPriceDisc(inventDim);
                #
                #        salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #    }
                #}
                #
              ENDSOURCE
              SOURCE #lookup
                #/// <summary>
                #/// RetailVariantId - Lookup
                #/// </summary>
                #/// <param name="_formControl">
                #/// Form String Control
                #/// </param>
                #/// <param name="_filterStr">
                #/// Filter String
                #/// </param>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    // super(_formControl, _filterStr);
                #
                #    FormRun formRun = classfactory.formRunClass(new Args(formStr(RetailVariantLookup)));
                #    FormStringControl formControl = _formControl;
                #    ;
                #
                #    formRun.args().parm(salesLine.ItemId);
                #    formRun.args().caller(_formControl);
                #    formRun.init();
                #
                #    formRun.run();
                #    formControl.performFormLookup(formRun);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PdsCWQty
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #    super();
                #
                #    salesLine.modifyWMSLocation(inventDim, false);
                #
                #    element.checkCreditNoteLine();
                #    interCompanyIsPriceDiscSearchNeeded = salesLine.RecId;
                #    salesLine_ds.refresh();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #retailDiscountRecalculate
          #/// <summary>
          #/// If retail order, discount is recalculated after deleting line.
          #/// </summary>
          #/// <param name="_salesLine">
          #/// Sales line record on the grid
          #/// </param>
          #private void retailDiscountRecalculate(SalesLine _salesLine)
          #{
          #    RetailSalesTable           retailSalesTable = salesTable.retailSalesTable();
          #    ;
          #    if (RetailParameters::isRetailEnabledAndInUse() &&
          #        RetailPricingEngine::useRetailPricing(_salesLine))
          #    {
          #        RetailSalesOrderCalculator::setPricesDiscountsOnOrderOnServer(salesTable.SalesId, retailSalesTable.TotalManualDiscountPercentage);
          #        salesLine_ds.research(true);
          #    }
          #}
        ENDSOURCE
        SOURCE #deleteMarked
          #public void deleteMarked()
          #{
          #    inDeleteMarked = true;
          #    super();
          #    inDeleteMarked = false;
          #
          #    this.retailDiscountReCalculate(salesLine);
          #}
        ENDSOURCE
        SOURCE #deleteDirectDeliveryPurchaseOrder
          #/// <summary>
          #/// Deletes the related direct delivery purchase order.
          #/// </summary>
          #/// <remarks>
          #/// This is used for cases when user un-checks the drop shipment flag.
          #/// </remarks>
          #protected void deleteDirectDeliveryPurchaseOrder()
          #{
          #    if(salesLine
          #        && !salesLine.mcrSalesLineDropShipment().DropShipment
          #        && salesLine.orig().mcrSalesLineDropShipment().DropShipment)
          #    {
          #        MCRSalesLineDropShipment::deleteRelatedPurchaseOrderLine(salesLine.RecId);
          #        salesLine_ds.reread();
          #    }
          #}
        ENDSOURCE
        SOURCE #mcrGetMarginValues
          #/// <summary>
          #///     Returns the margin percent value and margin icon for the sale line.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The margin percent and icon.
          #/// </returns>
          #private container mcrGetMarginValues(SalesLine _salesLine)
          #{
          #    MCRMarginPecentStr  marginPecentStr;
          #    MCRResourceNum      mcrIcon;
          #
          #    if (salesParameters.mcrEnableMarginAlert
          #        && _salesLine.InventTransId)
          #    {
          #        // Use the value in the map for performance reasons if exists
          #        if (marginMap.exists(_salesLine.InventTransId))
          #        {
          #            return marginMap.lookup(_salesLine.InventTransId);
          #        }
          #        else
          #        {
          #            marginPecentStr = _salesLine.mcrDisplayMarginPercentStr();
          #
          #            // If the margin could not be calculated 'N/A' will be returned so don't
          #            // determine the icon
          #            if (marginPecentStr != "@SYS180118")
          #            {
          #                mcrIcon = MCRMarginAlert::getMarginIcon(str2num(marginPecentStr));
          #            }
          #            marginMap.insert(_salesLine.InventTransId, [marginPecentStr, mcrIcon]);
          #
          #            return [marginPecentStr, mcrIcon];
          #        }
          #    }
          #
          #    return conNull();
          #}
        ENDSOURCE
        SOURCE #mcrMarginPercentStr
          #/// <summary>
          #///     Displays the margin percent value for the sale line.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The margin percent.
          #/// </returns>
          #display MCRMarginPecentStr mcrMarginPercentStr(SalesLine _salesLine)
          #{
          #    return conPeek(this.mcrGetMarginValues(_salesLine), 1);
          #}
        ENDSOURCE
        SOURCE #reread
          #public void reread()
          #{
          #    // Current price references may need to be deleted.
          #    salesLine.SalesPurchLine::cleanUpPriceHistoryRef();
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #unpackExtensions
          #/// <summary>
          #/// Unpacks all prioritized packed <C>SalesLine</C> extension tables.
          #/// </summary>
          #private void unpackExtensions()
          #{
          #    salesLine.SysExtensionSerializerMap::unpackAll(true);
          #}
        ENDSOURCE
        SOURCE #packExtensions
          #/// <summary>
          #/// Packs prioritized <C>SalesLine</C> extension tables.
          #/// </summary>
          #private void packExtensions()
          #{
          #    salesLine.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesLine);
          #    salesLine.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesLineDropShipment);
          #    salesLine.SysExtensionSerializerMap::packPrioritizedExtensionTable(mcrSalesLinePriceOverride);
          #}
        ENDSOURCE
        SOURCE #updateExplosionCTP
          #public void updateExplosionCTP()
          #{
          #    SalesConfirmDatesCommandStrategy    confirmDatesStrategy;
          #
          #    if (salesLine.DeliveryDateControlType == SalesDeliveryDateControlType::CTP)
          #    {
          #        this.write(false);
          #
          #        confirmDatesStrategy = SalesConfirmDatesCommandStrategy::newParameters(
          #            salesLine.DeliveryDateControlType,
          #            max(salesLine.ShippingDateRequested, today()),
          #            dateNull(),
          #            true);
          #
          #        confirmDatesStrategy.run(salesLine);
          #    }
          #}
        ENDSOURCE
        SOURCE #updateRetailDiscounts
          #private void updateRetailDiscounts()
          #{
          #    RetailSalesTable retailSales;
          #    RetailSalesDiscountLine discountLine;
          #    container retailCalculatorResultContainer;
          #    RetailSalesOrderCalculatorResult result = new RetailSalesOrderCalculatorResult();
          #    ListEnumerator discountLineEn;
          #
          #    RetailSalesLine retailSalesLineFromCalculation;
          #
          #    if (!RetailParameters::isRetailEnabledAndInUse())
          #    {
          #        return;
          #    }
          #
          #    retailSales = RetailSalesTable::findSalesTable(salesTable);
          #    if (retailSales && retailSales.RetailChannel)
          #    {
          #        retailCalculatorResultContainer = retailSales.TmpPriceDiscountData;
          #        // If the result is empty, do nothing. MCR may result in calling write() twice.
          #        if (retailCalculatorResultContainer)
          #        {
          #            result.unpack(retailCalculatorResultContainer);
          #
          #            if(result.parmNeedsRecalculateWholeOrder()
          #                && Box::yesNo("@REX4161136", DialogButton::Yes, "@REX4161139") == DialogButton::Yes)
          #            {
          #                element.recalculateRetailPricesDiscounts();
          #            }
          #            else
          #            {
          #                ttsbegin;
          #
          #                retailSalesLineFromCalculation = RetailSalesLine::findByInventTransId(salesLine.InventTransId, true);
          #                retailSalesLineFromCalculation.LineDscAmount = result.parmRetailSalesQuotationLine().LineDscAmount;
          #                retailSalesLineFromCalculation.LineManualDiscountAmount = result.parmRetailSalesQuotationLine().LineManualDiscountAmount;
          #                retailSalesLineFromCalculation.LineManualDiscountPercentage = result.parmRetailSalesQuotationLine().LineManualDiscountPercentage;
          #                retailSalesLineFromCalculation.PeriodicDiscount = result.parmRetailSalesQuotationLine().PeriodicDiscount;
          #                retailSalesLineFromCalculation.PeriodicPercentageDiscount = result.parmRetailSalesQuotationLine().PeriodicPercentageDiscount;
          #                retailSalesLineFromCalculation.TotalDiscount = result.parmRetailSalesQuotationLine().TotalDiscount;
          #                retailSalesLineFromCalculation.TotalPctDiscount = result.parmRetailSalesQuotationLine().TotalPctDiscount;
          #
          #                retailSalesLineFromCalculation.update();
          #
          #                delete_from discountLine
          #                    where discountLine.InventTransId == salesLine.InventTransId;
          #
          #                discountLineEn = result.getRetailSalesDiscountLineList().getEnumerator();
          #
          #                while (discountLineEn.moveNext())
          #                {
          #                    discountLine = discountLineEn.current();
          #                    if (!discountLine.InventTransId)
          #                    {
          #                        discountLine.InventTransId = salesLine.InventTransId;
          #                    }
          #
          #
          #                    if (discountLine.InventTransId == salesLine.InventTransId)
          #                    {
          #                        discountLine.insert();
          #                    }
          #                }
          #
          #                retailSales = RetailSalesTable::findSalesTable(salesTable, true);
          #                retailSales.TmpPriceDiscountData = conNull();
          #                retailSales.update();
          #
          #                ttscommit;
          #            }
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #mcrMarginIcon
          #/// <summary>
          #///     Displays the margin icon value for the sale line.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The margin icon.
          #/// </returns>
          #display MCRResourceNum mcrMarginIcon(SalesLine _salesLine)
          #{
          #    return conPeek(this.mcrGetMarginValues(_salesLine), 2);
          #}
        ENDSOURCE
        SOURCE #create
          #void  create(boolean  append = true)
          #{
          #    // <GEEU>
          #    LineNum lineCount;
          #    // </GEEU>
          #
          #    dimensionDefaultingControllerLine.activated();
          #
          #    if (!salesTableForm.canNewLineBeAppended(salesLine))
          #    {
          #        append = false;
          #    }
          #
          #    if (!salesLine.PBAItemLine::checkMandatory())
          #    {
          #        return;
          #    }
          #
          #    if (salesTable.checkUpdate(true, salesTable_ds.performIntercompanyValidation()))
          #    {
          #        super(append);
          #        // <GEEU>
          #        if (countryRegion_EEU && !isRU)
          #        {
          #            lineCount = salesTable.lineNumForCreditNote();
          #
          #            if (lineCount > 0)
          #            {
          #                salesLine.LineNum = lineCount;
          #            }
          #        }
          #        // </GEEU>
          #
          #        element.setEditItemOrCategoryAllowed(true);
          #
          #        // filter exist on itemId
          #        if (salesLine.ItemId)
          #        {
          #            this.itemIdModified();
          #        }
          #        // filter exists on SalesCategory
          #        else if (salesLine.SalesCategory)
          #        {
          #            this.changedStockedStatus(true);
          #        }
          #
          #        salesLine_ds.refresh();
          #
          #        //Won't create new salesline if current one was not created correctly
          #        if (!salesLine.ItemId && !salesLine.SalesCategory)
          #        {
          #            salesTableForm.salesLine_Create(salesLine);
          #        }
          #
          #        if (salesTable
          #            && salesLine_ItemId.isDisplayed())
          #        {
          #            salesLine_ItemId.setFocus();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #enableDataSourceFields_BR
          #public void enableDataSourceFields_BR()
          #{
          #    boolean enableDeliveryTaxGroups = salesLine.SalesType == SalesType::ItemReq || salesLine_BR.DeliveryCFOPTable_BR;
          #
          #    salesLine_ds.object(fieldNum(SalesLine, DeliveryTaxGroup_BR)).allowEdit(enableDeliveryTaxGroups);
          #    salesLine_ds.object(fieldNum(SalesLine, DeliveryTaxItemGroup_BR)).allowEdit(enableDeliveryTaxGroups);
          #}
        ENDSOURCE
        SOURCE #initCustInvoiceTrans
          #// <GEEU>
          #private void initCustInvoiceTrans()
          #{
          #    Query                   query;
          #    QueryBuildDataSource    qbds;
          #    QueryBuildRange         qbr;
          #
          #    query = new Query();
          #    qbds = query.addDataSource(tableNum(CustInvoiceTrans));
          #
          #    qbr = qbds.addRange(fieldNum(CustInvoiceTrans, RecId));
          #    qbr.value(SysQuery::value(salesLine.RefReturnInvoiceTrans_W));
          #
          #    custInvoiceTrans_ds.query(query);
          #    custInvoiceTrans_ds.executeQuery();
          #}
          #// </GEEU>
        ENDSOURCE
        SOURCE #allowEditLine_PL
          #// <GEEU>
          #private void allowEditLine_PL()
          #{
          #    boolean isCreditNote_PL;
          #
          #    isCreditNote_PL = salesTable.isCreditNote_PL();
          #
          #    salesLine_DS.object(fieldNum(SalesLine, Reservation)).allowEdit(! isCreditNote_PL);
          #
          #    salesLine_DS.object(fieldNum(SalesLine, CreditNoteReasonCode)).allowEdit(isCreditNote_PL);
          #    wmsOrderAllowCreate.enabled(!isCreditNote_PL);
          #    inventTransPick.enabled(!isCreditNote_PL);
          #
          #    if (salesLine.CreditNoteInternalRef_PL && !salesLine.RefReturnInvoiceTrans_W && !salesLine.ProjId && salesLine.aiExistsOnOriginalInvoice())
          #    {
          #        salesLine_DS.object(fieldNum(SalesLine, SalesQty)).allowEdit  (false);
          #        salesLine_DS.object(fieldNum(SalesLine, LineAmount)).allowEdit(false);
          #    }
          #}
          #// </GEEU>
        ENDSOURCE
        SOURCE #active_BR
          #private void active_BR()
          #{
          #    salesLine_BR_ds.object(fieldNum(SalesLine_BR, TaxServiceCode_BR)).allowEdit(!salesLine_BR.TaxServiceCode_BR);
          #
          #    if (salesLine.ProjId)
          #    {
          #        if (salesLine.SalesType == SalesType::ItemReq)
          #        {
          #            salesLine_BR_ds.object(fieldNum(SalesLine_BR, TaxServiceCode_BR)).allowEdit(false);
          #        }
          #    }
          #
          #    salesLine_BR_DS.enableDataSourceFields_BR();
          #    this.enableDataSourceFields_BR();
          #}
        ENDSOURCE
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    super();
          #
          #    if (isCalledFromLP)
          #    {
          #        isCalledFromLP = false;
          #        if (salesTable && TradeFormHelper::isEditableNotGridView(element.args()))
          #        {
          #            salesLine_SalesQty.setFocus();
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #enableProjectFields
          #void enableProjectFields()
          #{
          #    if (salesLine.ProjId)
          #    {
          #        lineInquiry_CostControlCommittedCost.enabled(true);
          #        salesLine_ds.object(fieldNum(SalesLine, ProjCategoryId)).allowEdit(true);
          #        salesLine_ds.object(fieldNum(SalesLine, ActivityNumber)).allowEdit(true);
          #    }
          #    else
          #    {
          #        lineInquiry_CostControlCommittedCost.enabled(false);
          #        salesLine_ds.object(fieldNum(SalesLine, ProjCategoryId)).allowEdit(false);
          #        salesLine_ds.object(fieldNum(SalesLine, ActivityNumber)).allowEdit(false);
          #    }
          #}
        ENDSOURCE
        SOURCE #validateDelete
          #public boolean validateDelete()
          #{
          #    boolean ret = true;
          #    str warning = salesLine.type().getDeleteWarning();
          #
          #    if (warning != "")
          #    {
          #        ret = (Box::yesNo(warning, DialogButton::No) == DialogButton::Yes)
          #            && salesLine.validateDelete();
          #    }
          #    else
          #    {
          #        ret = super();
          #    }
          #
          #    return ret && salesLine.checkDelete();
          #}
        ENDSOURCE
        SOURCE #changedStockedStatus
          #/// <summary>
          #/// Updates the form to reflect the current stocked status, i.e. after a change to the stocked field based on itemid or category field change.
          #/// </summary>
          #/// <param name="_resetPrice">
          #/// A boolean value that specifies if price should be reset for the line.
          #/// </param>
          #void changedStockedStatus(boolean _resetPrice)
          #{
          #    // Update inventDim with new data which has been set due to modification
          #    inventDim.data(
          #        SalesLineItemIdModifiedDTO::salesLineModifyInvDimAndSetTransQtyUnit(salesLine, _resetPrice));
          #    // Update inventdim fields
          #    element.updateDesign(InventDimFormDesignUpdate::FieldChange);
          #    // Update tagging fields based on dimension settings.
          #    element.updateRFIDTagging();
          #
          #    // Disable category editing if itemid is selected
          #    salesLine_ds.object(fieldNum(SalesLine, SalesCategory)).allowEdit(salesLine.ItemId == '');
          #    // Disable itemid editing if only a category is selected
          #    salesLine_ds.object(fieldNum(SalesLine, ItemId)).allowEdit(!salesLine.isCategoryBased());
          #
          #    // Update allow edit for scrap
          #    element.checkCreditNoteLine();
          #    // Update allow edit for inventory fields
          #
          #    salesTableForm.pdsSetLineAccess(salesLine);
          #    salesTableForm.adjustLineAccessBasedOnItem(salesLine);
          #    // <GEERU>
          #    if (isRU)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, AssetId_RU)).allowEdit(salesLine.ItemId &&
          #                                                                       InventTable::find(salesLine.ItemId).AssetGroupId_RU != '' ||
          #                                                                       salesLine.SalesCategory);
          #    }
          #    // </GEERU>
          #}
        ENDSOURCE
        SOURCE #inventDim
          #InventDim inventDim()
          #{
          #    return inventDim;
          #}
        ENDSOURCE
        SOURCE #itemIdModified
          #/// <summary>
          #/// Updates the <c>SalesLine</c> and form based on the item when changed.
          #/// </summary>
          #void itemIdModified()
          #{
          #    SalesLineItemIdModifiedDTO itemIdModifiedDTO = SalesLineItemIdModifiedDTO::construct();
          #
          #    //resetPrice is false here because, it would be called subsequently from changedStockedStatus.
          #    //if an agereement is associated with the SO then reset the price since it won't be reset after the mathichg agreement line is found.
          #    this.packExtensions();
          #    itemIdModifiedDTO.unpack(
          #        salesLine.itemIdChanged(salesTable.MatchingAgreement !=0, salesTable.MatchingAgreement));
          #    this.unpackExtensions();
          #
          #    this.changedStockedStatus(false);
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
          #    {
          #        salesTableForm.enableLineSalesQtyFields(
          #            salesLine,
          #            salesLine.SalesUnit != '',
          #            itemIdModifiedDTO.parmIsStocked());
          #    }
          #
          #    // If ordering a gift card set the buyer name and email
          #    if (salesLine.ItemId == RetailParameters::find().GiftcardItem)
          #    {
          #        mcrSalesLine.GiftCardBuyerEmail = salesTable.Email;
          #        mcrSalesLine.GiftCardBuyerName  = salesTable.SalesName;
          #    }
          #
          #    // Reread ReferenceGroup controls, e.g. to show the category name.
          #    salesLine_ds.rereadReferenceDataSources();
          #
          #    // Refresh view of these two datasources, so they show correct values before line is saved.
          #    // This is not an unused call, doing this makes ds sync with the extension
          #    salesLine.mcrSalesLineDropShipment();
          #    mcrSalesLineDropShipment_ds.refresh();
          #    mcrSalesLine_ds.refresh();
          #
          #    dimensionDefaultingControllerLine.activated();
          #
          #    whsSalesLine.PackingQty = itemIdModifiedDTO.parmWHSPackingQty();
          #
          #    // <GEERU>
          #    element.enableForeignTrade_RU();
          #    // </GEERU>
          #}
        ENDSOURCE
        SOURCE #setTouched
          #void setTouched()
          #{
          #    // required by form MarkupTrans to communicate changes to the caller
          #    salesTableForm.setTouched(salesTable);
          #}
        ENDSOURCE
        SOURCE #lineDeliveryTypeImage
          #display LineDeliveryTypeImage lineDeliveryTypeImage(SalesLine _salesLine)
          #{
          #    return imageList.image(_salesLine.lineDeliveryImageRessNo());
          #}
        ENDSOURCE
        SOURCE #initValue
          #void  initValue()
          #{
          #    salesTable_ds.packExtensions();
          #    this.packExtensions();
          #    salesLine.initFromSalesTable(salesTable);
          #    this.unpackExtensions();
          #
          #    // For category based lines Name should be kept if manually modified.
          #    keepName = false;
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, itemName), false);
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, timeZoneSite), true);
          #
          #    salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, whsGetLoads));
          #
          #    if (InventParameters::find().UseQualityManagement)
          #    {
          #        salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, qualityOrderStatusDisplay), true);
          #    }
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PDS)))
          #    {
          #        this.cacheAddMethod(tableMethodStr(SalesLine, pdsCWUnitId));
          #    }
          #    // <GEEU>
          #    if (countryRegion_EEU)
          #    {
          #        salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, editReasonCode));
          #        salesLine_ds.cacheAddMethod(tableMethodStr(SalesLine, editReasonComment));
          #    }
          #    // </GEEU>
          #
          #    logisticsPostalAddressDeliveryLine_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #    logisticsPostalAddressShipCarrierLine_ds.validTimeStateUpdate(ValidTimeStateUpdate::Correction);
          #
          #    logisticsPostalAddressDeliveryLine_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #    logisticsPostalAddressShipCarrierLine_ds.query().validTimeStateDateTimeRange(DateTimeUtil::minValue(),
          #                                                                                DateTimeUtil::maxValue());
          #}
        ENDSOURCE
        SOURCE #salesTable_ds
          #FormDataSource salesTable_ds()
          #{
          #    return salesTable_ds;
          #}
        ENDSOURCE
        SOURCE #write
          #/// <summary>
          #///     Writes the SalesLine record.
          #/// </summary>
          #/// <param name="_calculateConfirmedDates">
          #///     A boolean value indicating whether to calculate confirmed shipping/receipt dates.
          #/// </param>
          #void  write(boolean _calculateConfirmedDates = true)
          #{
          #    WHSSalesLine    newWHSSalesLine;
          #    SalesLine   localSalesLine;
          #    SalesLine   salesLineFind;
          #
          #    boolean     agreementWasChanged = (salesLine.MatchingAgreementLine != salesLine.orig().MatchingAgreementLine);
          #    boolean     wasDataSourceResearched = false;
          #    // <GEEU>
          #    SalesQty    origSalesQty_PL;
          #    // </GEEU>
          #    boolean     updatePricingCalculationCache = salesLine.RecId == 0;
          #
          #    // <GEEPL>
          #    RefRecId    serviceTariffNumber;
          #    // </GEEPL>
          #
          #    boolean                         onInsert;
          #    boolean                         priceChanged;
          #    boolean                         returnReplacement;
          #    MCROrderEventTable              mcrOrderEventTableLocal;
          #    SalesLine                       salesLineHolder;
          #    MCRInventTable                  mcrInventTableLocal;
          #    MCRSalesLineDropShipment        mcrSalesLineDropShipmentLocal;
          #
          #    if (!salesTable.checkCreditCard())
          #    {
          #        salesTable_ds.setTouched();
          #    }
          #
          #    autoConfig = salesLine.PBAItemLine::doConfigureOnWrite();
          #
          #    // Find if an item is set up as a continuity parent
          #    if (   salesLine.orig().SalesPrice  != salesLine.SalesPrice
          #        || salesLine.orig().LineDisc    != salesLine.LineDisc
          #        || salesLine.orig().LinePercent != salesLine.LinePercent
          #        || salesLine.orig().PriceUnit   != salesLine.PriceUnit
          #        || salesLine.orig().SalesMarkup != salesLine.SalesMarkup)
          #    {
          #        priceChanged = true;
          #    }
          #
          #    if (!askingModifyInvoiced)
          #    {
          #        if (mcrCallCenterEnabled)
          #        {
          #            mcrInventTableLocal = MCRInventTable::findByItemId(salesLine.ItemId);
          #            if (mcrInventTableLocal.ContinuityScheduleId)
          #            {
          #                mcrSalesLine.ContinuityScheduleId = mcrInventTableLocal.ContinuityScheduleId;
          #                mcrSalesLine.LineType = MCRLineType::ContinuityParent;
          #            }
          #        }
          #        // <GEEU>
          #        origSalesQty_PL = salesLine.orig().SalesQty;
          #        // </GEEU>
          #
          #        salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #        salesTableForm.salesLine_Write(salesLine);
          #
          #        if (copyTaxGroupToMarkupTrans == DialogButton::Yes || copyTaxGroupToMarkupTrans == DialogButton::YesToAll)
          #        {
          #            MarkupTrans::updateTaxGroup(salesLine.TableId, salesLine.RecId, salesLine.TaxGroup, salesLine.orig().TaxGroup, copyTaxGroupToMarkupTrans);
          #            copyTaxGroupToMarkupTrans = DialogButton::No;
          #        }
          #
          #        dimensionDefaultingControllerLine.writing();
          #
          #        // Want to know if inserting because will show form for gift certificates
          #        // if inserting but not if modifying.
          #        if (salesLine.RecId == 0)
          #        {
          #            onInsert = true;
          #        }
          #        // <GEEPL>
          #        serviceTariffNumber = taxServiceTariffLine.ServiceTariffNumber;
          #
          #        // </GEEPL>
          #
          #        this.packExtensions();
          #        super();
          #        this.unpackExtensions();
          #
          #        // In case of intercompany auto-create and direct delivery, the mcrSalesLineDropShipment record has already
          #        // been created as result of the intercompany chain creation in the super() call above
          #        if (salesTable.InterCompanyAutoCreateOrders
          #            && salesTable.InterCompanyDirectDelivery
          #            && !mcrSalesLineDropShipment.RecId)
          #        {
          #            mcrSalesLineDropShipmentLocal = MCRSalesLineDropShipment::findSalesLine(SalesLine.RecId);
          #            if (mcrSalesLineDropShipmentLocal)
          #            {
          #                mcrSalesLineDropShipment.data(mcrSalesLineDropShipmentLocal);
          #                mcrSalesLineDropShipment_ds.setCurrent();
          #            }
          #        }
          #
          #        if (updatePricingCalculationCache)
          #        {
          #            salesTableForm.recalculatePotencyPricingCache(salesLine.RecId, salesLine.ItemId);
          #        }
          #
          #
          #        if (WHSInventEnabled::exist(salesLine.ItemId) || TMSInventEnabled::exist(salesLine.ItemId))
          #        {
          #            newWHSSalesLine = WHSSalesLine::find(salesLine.InventTransId);
          #            if (!newWHSSalesLine.RecId)
          #            {
          #                whsSalesLine.InventTransId = salesLine.InventTransId;
          #                whsSalesLine.write();
          #            }
          #            else
          #            {
          #                whsSalesLine.data(newWHSSalesLine);
          #                whsSalesLine.reread();
          #            }
          #        }
          #
          #        // <GEECZ>
          #        if(SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesLine_Intrastat)))
          #        {
          #            salesLine_Intrastat.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GEECZ>
          #
          #        if (!salesLine_IN.RecId)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            salesLine_IN.SalesLine = salesLine.RecId;
          #            salesLine_IN_ds.write();
          #        }
          #
          #        if (!mcrSalesLine.RecId)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            mcrSalesLine.SalesLine = salesLine.RecId;
          #            mcrSalesLine_ds.write();
          #        }
          #
          #        if (!mcrSalesLineDropShipment.RecId && mcrSalesLineDropShipment.DropShipment)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            mcrSalesLineDropShipment.SalesLine = salesLine.RecId;
          #            // if not read above, and needed, get MCRInventTable here. Drop ship does not require call center.
          #            if (!mcrInventTableLocal)
          #            {
          #                mcrInventTableLocal = MCRInventTable::findByItemId(salesLine.ItemId);
          #            }
          #
          #            if (mcrInventTableLocal.DropShipment)
          #            {
          #                mcrSalesLineDropShipment.DropShipment = true;
          #                inventDim.InventLocationId = InventTableModule::find(salesLine.ItemId,ModuleInventPurchSales::Sales).inventLocationId();
          #
          #                mcrSaleslineDropShipment.DropShipStatus = MCRDropShipStatus::ToBeDropShipped;
          #                salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #                salesLine.modifyInventDim(inventDim,fieldNum(InventDim,InventLocationId));
          #            }
          #            mcrSalesLineDropShipment_ds.write();
          #        }
          #
          #        this.deleteDirectDeliveryPurchaseOrder();
          #
          #        if (!mcrSalesLinePriceOverride.RecId && mcrSalesLinePriceOverride.PriceOverride)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            mcrSalesLinePriceOverride.SalesLine = salesLine.RecId;
          #            mcrSalesLinePriceOverride_ds.write();
          #        }
          #
          #        this.updateRetailDiscounts();
          #
          #        // <GEEPL>
          #        // The service tariff relationship is lost during the super() call
          #        // from write since it is on a different data source. So, copy
          #        // the original value back in to ensure saving is done correctly.
          #        if (serviceTariffNumber && countryRegion_PL)
          #        {
          #            taxServiceTariffLine.ServiceTariffNumber = serviceTariffNumber;
          #            taxServiceTariffLine.ParentRecId = salesLine.RecId;
          #            taxServiceTariffLine.ParentTableId = salesLine.TableId;
          #        }
          #        // </GEEPL>
          #
          #        // <GBR>
          #        if (BrazilParameters::isEnabled())
          #        {
          #            salesLine_BR.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GBR>
          #
          #        // Agreement linking is handled as part of SalesLine insert/update/delete
          #
          #        if (salesLine.isCategoryBased() && !salesLineForeignTradeCategory.SalesLineInventTransId)
          #        {
          #            salesLineForeignTradeCategory.initFromSalesLine(salesLine);
          #            salesLineForeignTradeCategory_ds.write();
          #            salesLine.type().updatePendingRegistrationsNonStocked(false);
          #        }
          #
          #        // <GEEU>
          #        if (countryRegion_EEU && !isRU)
          #        {
          #            salesLine.updateCreditNoteMarking_PL(origSalesQty_PL);
          #        }
          #        // </GEEU>
          #
          #        // If item is a continuity parent, mark the sales order as continuity,
          #        // disable and uncheck ship complete, and launch the continuity specific forms
          #        if (onInsert && mcrInventTableLocal.ContinuityScheduleId)
          #        {
          #            salesLine.mcrCreateContinuityCust();
          #        }
          #
          #        if (mcrReturnSalesTable.IsExchange
          #            && SalesLine::mcrFindReturnLineForExchange(salesLine.InventTransId))
          #        {
          #            returnReplacement = true;
          #        }
          #
          #        if (salesLine.InventDimId != inventDim.InventDimId)
          #        {
          #            inventDim.data(InventDim::find(salesLine.InventDimId));
          #            inventDim_ds.setCurrent();
          #        }
          #
          #        // <GIN>
          #        if (isSalesLine_INEnabled)
          #        {
          #            salesLine_IN.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GIN>
          #
          #        // <GMY>
          #        if (isISOMY)
          #        {
          #            salesLine_W.SysExtensionSerializerExtensionMap::insertAfterBaseTable(salesLine);
          #        }
          #        // </GMY>
          #
          #        salesTableForm.refreshDeliverySchedule(salesLine, agreementWasChanged && !salesLine.MatchingAgreementLine);
          #
          #        if (_calculateConfirmedDates &&
          #            SalesLine::setConfirmedDatesUsingUIStrategy(salesLine, salesTable, true))
          #        {
          #            salesLine_ds.refresh();
          #        }
          #
          #        if (PurchTable::find(salesLine.InventRefId).InterCompanyOrder
          #        ||  salesTable.InterCompanyOrder)
          #        {
          #            localSalesLine.data(salesLine.data());
          #            salesLine_ds.executeQuery();
          #            salesLine_ds.findRecord(localSalesLine);
          #        }
          #        salesTable_ds.reread();
          #        salesTable_ds.refresh();
          #        //lines have changed so salesTable.estimated migth need to be re-calculated
          #        salesTable_ds.setTouched();
          #    }
          #
          #    if (autoConfig)
          #    {
          #        // start the configuration process
          #        salesLine.PBAItemLine::autoConfig();
          #
          #        // finds the current selected sales line
          #        salesLineFind = SalesLine::findInventTransId(salesLine.InventTransId);
          #        // syncs sales table with db
          #        salesLine_ds.research();
          #
          #        // finds the current selected sales line
          #        salesLine_ds.findRecord(salesLineFind);
          #
          #        wasDataSourceResearched = true;
          #    }
          #
          #    if (!askingModifyInvoiced && !wasDataSourceResearched)
          #    {
          #        // if using retail pricing, re-query the sales lines (discounts may have changed for other lines)
          #        if (RetailParameters::isRetailEnabledAndInUse() &&
          #            RetailPricingEngine::useRetailPricing(salesLine))
          #        {
          #            salesLineHolder.RecId = salesLine.RecId;
          #            salesLine_ds.research();
          #            salesLine_ds.findRecord(salesLineHolder);
          #        }
          #    }
          #
          #    interCompanyIsPriceDiscSearchNeeded = 0;
          #
          #    if (salesTable.CashDiscPercent && salesLine.SalesQty < 0)
          #    {
          #        if (salesLine.creditNoteLine())
          #        {
          #            info("@SYS99047");
          #        }
          #    }
          #
          #    if (salesTable.ProjId)
          #    {
          #        element.automaticTotalDiscount();
          #    }
          #    // Write the order event for override price if an event around pricing occured.
          #    if (mcrLinePriceOverrideEventType
          #        && priceChanged)
          #    {
          #        mcrOrderEventTableLocal.insertPriceChange(
          #            salesLine.SalesId,
          #            mcrLinePriceOverrideEventType,
          #            mcrLinePriceOverrideUserId,
          #            mcrSalesLinePriceOverride.ListPrice,
          #            mcrSalesLinePriceOverride.ListPriceCurrencyCode,
          #            salesLine.mcrPricePerSalesQty(),
          #            mcrLinePriceOverrideReasonCode,
          #            salesLine.InventTransId);
          #        // Reset event type (otherwise price events continue to be written)
          #        mcrLinePriceOverrideEventType = 0;
          #    }
          #
          #    // The following lines check to see if the line just added above contains any Up-Sell/Cross-Sell
          #    // entries within the MCRUpSellItem table.  If it does, a new form is invoked to allow the addition
          #    // of additional SalesLines.
          #    // Don't upsell/cross-sell for return replacement lines.
          #    if (! returnReplacement)
          #    {
          #        if (onInsert && mcrCallCenterOrder
          #            && MCRUpSellItem::existItem(salesLine.ItemId))
          #        {
          #            TmpMCRUpSellOrderEntry::mcrJumpRef(salesLine);
          #
          #            //Recalculate the Retail Discounts
          #            this.updateRetailDiscounts();
          #
          #            //salesLine_ds.research(true);
          #            // finds the current selected sales line
          #            salesLineFind = SalesLine::findInventTransId(salesLine.InventTransId);
          #            // syncs sales table with db
          #            salesLine_ds.research();
          #
          #            // updates table ui
          #            salesLine_DS.reread();
          #
          #            // finds the current selected sales line
          #            salesLine_ds.findRecord(salesLineFind);
          #        }
          #    }
          #
          #    // Records that the order has been opened and which one it is.
          #    if (salesTable.SalesStatus == SalesStatus::Backorder
          #        && enableOrderCompletion)
          #    {
          #        openOrderSalesTable = salesTable.data();
          #    }
          #}
        ENDSOURCE
        SOURCE #linkActive
          #void  linkActive()
          #{
          #    SalesLine salesLineLocal;
          #
          #    // Needed to avoid sales lines changing for seemingly no reason - related to the MCRScriptText and image
          #    if (salesLine)
          #    {
          #        salesLineLocal = salesLine.data();
          #    }
          #
          #    super();
          #
          #    if (salesLineLocal)
          #    {
          #        // Needed to avoid sales lines changing for seemingly no reason - related to the MCRScriptText and image
          #        salesLine_ds.findRecord(salesLineLocal);
          #    }
          #
          #    /* Set caption */
          #    if (!salesLine && salesTable && !element.inViewMode())
          #    {
          #        salesTableForm.salesTable(salesTable);
          #        salesLine_ds.create();
          #    }
          #}
        ENDSOURCE
        SOURCE #delete
          #void  delete()
          #{
          #    SalesId salesId;
          #    boolean interCompanySalesLineExist;
          #    // <GEEU>
          #    boolean mustFormResearchAfterDelete = salesTableForm.mustFormResearchAfterDelete(salesLine, salesLine_ds.anyMarked());
          #    // </GEEU>
          #
          #    if(blockSalesLineDelete)
          #    {
          #        return;
          #    }
          #
          #    salesId                    = salesLine.SalesId;
          #    interCompanySalesLineExist = salesLine.interCompanySalesLineExist();
          #
          #    // Current price references may need to be deleted.
          #    salesLine.SalesPurchLine::cleanUpPriceHistoryRef();
          #
          #    //For PBA mandaroty configuration item deleting
          #    deleting = true;
          #    super();
          #    deleting = false;
          #
          #    if (!inDeleteMarked)
          #    {
          #        this.retailDiscountReCalculate(salesLine);
          #    }
          #
          #    if (mustFormResearchAfterDelete)
          #    {
          #        salesLine_ds.research(true);
          #    }
          #
          #    if (salesId && SalesTable::exist(salesId))
          #    {
          #        if (SalesParameters::find().DeleteHeading == NoYes::Yes && SalesTable::find(salesId).SalesStatus == SalesStatus::Invoiced)
          #        {
          #            RetailSalesOrderCalculator::setPricesDiscountsOnOrderOnServer(salesTable.SalesId, salesTable.DiscPercent);
          #            salesLine_ds.research(true);
          #        }
          #        else
          #        {
          #            salesTable_ds.reread();
          #            salesTable_ds.refresh();
          #        }
          #    }
          #
          #    // Always make sure it gets refreshed. Certain cases exist where the existing lines will hide if this isn't called
          #    if(!mcrProcessingDeliverySchedule
          #        && this.numberOfRowsLoaded() == 0)
          #    {
          #        salesLine_ds.executeQuery();
          #    }
          #
          #    // Reset the header control
          #    element.mcrSetHeaderControls();
          #
          #    salesTableForm.setTouched(salesTable);
          #
          #    dimensionDefaultingControllerLine.deleted();
          #
          #    if (salesTable.ProjId)
          #    {
          #        element.automaticTotalDiscount();
          #    }
          #}
        ENDSOURCE
        SOURCE #active
          #int  active(boolean _mcrFormPartUpdateOnly = false)
          #{
          #    int     ret;
          #    boolean returnItem = salesTable.returnItem();
          #    boolean allowEditDeliveryPostalAddress;
          #
          #    ret = super();
          #
          #    element.mcrSetLineControls();
          #
          #    if (_mcrFormPartUpdateOnly)
          #    {
          #        return ret;//only do the super to update the form part
          #    }
          #
          #    salesTableForm.salesTable(salesTable);
          #
          #    buttonHeaderTradeAgreements.    enabled(!returnItem);
          #
          #    element.setEditItemOrCategoryAllowed(salesLine.RecId == 0);
          #
          #    // <GEEU>
          #    salesLine_ds.allowEdit(salesTableForm.editLineAllowed(salesLine));
          #    // </GEEU>
          #
          #     // If already disabled by setting header controls (Complete/modify buttons) don't allow this to re-enable the salesLine
          #    if (salesLine_ds.allowEdit())
          #    {
          #        salesLine_ds.allowCreate(salesTableForm.createLineAllowed(salesLine));
          #        salesLine_ds.allowDelete(salesTableForm.deleteLineAllowed(salesLine));
          #    }
          #
          #    // <GEERU>
          #    if (isRU)
          #    {
          #        salesLine_ds.object(fieldNum(SalesLine, AssetId_RU)).allowEdit(
          #            salesLine.SalesStatus != SalesStatus::Invoiced &&
          #            (salesLine.ItemId                               &&
          #             InventTable::find(salesLine.ItemId).AssetGroupId_RU ||
          #             salesLine.SalesCategory));
          #
          #        salesLine_ds.object(fieldNum(SalesLine, LedgerDimension)).allowEdit(element.allowEditLedgerAccount_RU());
          #
          #        element.enableForeignTrade_RU();
          #    }
          #    // </GEERU>
          #
          #    element.checkCreditNoteLine();
          #
          #    element.updateDesign(InventDimFormDesignUpdate::Active);
          #    element.updateRFIDTagging();
          #
          #    if (headerError)
          #    {
          #        salesTable.Touched  = NoYes::Yes;
          #        headerError         = false;
          #    }
          #
          #    // <GEEU>
          #    // Credit note
          #    if (countryRegion_EEU && !isRU)
          #    {
          #        this.allowEditLine_PL();
          #        this.initCustInvoiceTrans();
          #
          #        if (salesLine.RefReturnInvoiceTrans_W != 0 || salesLine.CreditNoteInternalRef_PL != 0)
          #        {
          #            tabCreditNote.visible(true);
          #        }
          #        else
          #        {
          #            tabCreditNote.visible(false);
          #        }
          #
          #        element.redraw();
          #    }
          #    // </GEEU>
          #
          #    salesTableForm.interCompanySetLineAccess(salesLine);
          #
          #    allowEditDeliveryPostalAddress = salesLine_ds.object(fieldNum(SalesLine,DeliveryPostalAddress)).allowEdit();
          #    logisticsLocationSelectLine.enabled(allowEditDeliveryPostalAddress);
          #    dirPartyPostalAddressNewLine.enabled(allowEditDeliveryPostalAddress);
          #
          #    salesTableForm.enableAvailableDlvDatesButtons(salesTable, salesAvailableDlvDatesHeader, salesAvailableDlvDatesLine, salesLine.LineDeliveryType);
          #
          #    if (isConfigurationkeyEnabled(configurationKeyNum(PMF)))
          #    {
          #        pmfBatchOrderNew.enabled(element.pmfIsEnabled());
          #    }
          #    buttonLineProduction.enabled(salesLine.inventTable().isBOMAllowed());
          #
          #    salesLine_ds.enableProjectFields();
          #
          #    element.showInactiveAddressBar();
          #
          #    salesTableForm.pdsSetLineAccess(salesLine);
          #    // <GBR>
          #    if (BrazilParameters::isEnabled())
          #    {
          #        this.active_BR();
          #    }
          #    // </GBR>
          #
          #    // <GIN>
          #    if (isIndiaIndirectTaxParameterMarked)
          #    {
          #        element.enableFieldsActive_IN();
          #        element.setTaxWithholdEnabled_IN();
          #        element.setReturnFields_IN();
          #        this.enableExciseFields_IN();
          #
          #        if (salesTable.CustomsExportOrder_IN
          #            && salesLine.RecId
          #            && salesLine.SalesQty > 0
          #            && TaxParameters::find().EximIncentiveSchemes_IN
          #            && !EximSalesLine_IN::exist(salesLine.RecId))
          #        {
          #            element.setTaxWithholdEnabled_IN();
          #            taxInformation_IN_ds.executeQuery();
          #        }
          #        salesLineReturnDetails_IN_ds.enableSalesLineReturnDataSource();
          #    }
          #    // </GIN>
          #    dimensionDefaultingControllerLine.activated();
          #
          #    // <GEEPL>
          #    if (countryRegion_PL)
          #    {
          #        element.enableInventExtPurchButton();
          #    }
          #    // </GEEPL>
          #    mcrLinePriceOverrideReasonCode = "";
          #    mcrLinePriceOverrideUserId     = "";
          #
          #    if (enableDirectedSelling)
          #    {
          #        // Set the current image to 1 so that the first image will load.
          #        // Load the images and messages for this item
          #        element.mcrDisplayItemMessage();
          #
          #        mcrImageUrl = element.mcrGetLoadImageFileObject().loadImageFile(InventTable::find(salesLine.ItemId));
          #    }
          #
          #    // For lines with a continuity item, enable the ContinuitySchedule Button
          #    if(enableOrderCompletion
          #        || (mcrCallCenterOrder && InventTable::mcrIsItemContinuity(salesLine.ItemId)))
          #    {
          #        mcrSalesLine_ContinuityScheduleId.enabled(true);
          #        mcrContinuitySchedule.enabled(true);
          #    }
          #    else
          #    {
          #        mcrSalesLine_ContinuityScheduleId.enabled(false);
          #        mcrContinuitySchedule.enabled(false);
          #    }
          #
          #    onInit = true;
          #
          #    whsWorkTable.enabled(WHSInventEnabled::exist(salesLine.ItemId));
          #    whsSalesLine_PackingQty.enabled(WHSInventEnabled::exist(salesLine.ItemId) || TMSInventEnabled::exist(salesLine.ItemId));
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #displayOption
          #public void displayOption(Common _record, FormRowDisplayOption _options)
          #{
          #    SalesLine salesLineLocal =  _record;
          #    int     priceOverrideLineColor;
          #
          #    priceOverrideLineColor   = mcrOrderParameters.mcrPriceOverrideLineColor;
          #
          #    // if the price was overridden on this line, set the Price Override Line Color from the sales parameter table.
          #    // Child Ship To Lines always have there price overriden by the system - don't display as overridden
          #    // note:  child ship to line price cannot be changed & is driven by the parent line.
          #    if (enableOrderPriceControl
          #        && priceOverrideLineColor
          #        && salesLineLocal.LineDeliveryType != LineDeliveryType::DeliveryLine
          #        && salesLineLocal.mcrSalesLinePriceOverride().PriceOverride == NoYes::Yes)
          #    {
          #        _options.backColor(priceOverrideLineColor);
          #    }
          #    else
          #    {
          #        _options.clearBackColor();
          #    }
          #
          #    super(_record, _options);
          #}
        ENDSOURCE
        SOURCE #mcrGetOverrideResponse
          #/// <summary>
          #/// Prompts the user for a reason code when overriding price fields.
          #/// </summary>
          #/// <param name="_fieldId">
          #/// The ID of the field being overridden.
          #/// </param>
          #/// <param name="_newValue">
          #/// The new value the user entered.
          #/// </param>
          #/// <param name="_overrideFieldId">
          #/// The ID of the parameter field used to check whether or not the
          #/// current user has permission.
          #/// </param>
          #/// <returns>
          #/// true if the value can be changed; otherwise, false.
          #/// </returns>
          #public boolean mcrGetOverrideResponse(
          #    FieldId     _fieldId,
          #    real        _newValue,
          #    FieldId     _overrideFieldId)
          #{
          #    MCROverrideLogin_OverridePrice  mcrOverrideLogin_OverridePrice;
          #    boolean                         currentUserPermission;
          #    boolean                         cancelOverride;
          #    Args                            args;
          #    container                       userIdmcrPriceOverrideReasonCode;
          #    RetailInformationSubcodeId      mcrPriceOverrideReasonCode;
          #    AmountCur                       brokerages;
          #    AmountCur                       rebates;
          #    AmountCur                       royalties;
          #    AmountCur                       totalDeductible;
          #    real                            marginPrice;
          #    MCRMarginAlert_Sales            mcrMarginAlert_Sales;
          #
          #    #define.Cancel('Cancel')
          #
          #    if (enableOrderPriceControl)
          #    {
          #        mcrOverrideLogin_OverridePrice = new MCROverrideLogin_OverridePrice();
          #
          #        // Convert to a percentage based on item cost.
          #        if (_overrideFieldId == fieldNum(MCRPriceOverrideMarkUpGroup, CostMarkUpPercent))
          #        {
          #            mcrMarginAlert_Sales = MCRMarginAlert_Sales::newSalesLine(salesLine);
          #            mcrMarginAlert_Sales.calcMargin();
          #            brokerages      = mcrMarginAlert_Sales.parmBrokerAmountPerUnit();
          #            rebates         = mcrMarginAlert_Sales.parmCustRebateAmountPerUnit();
          #            royalties       = mcrMarginAlert_Sales.parmRoyaltyAmountPerUnit();
          #            totalDeductible = brokerages + rebates + royalties;
          #
          #            _newValue = 100 * mcrOverrideLogin_OverridePrice.calcCostMarkupPercent(
          #                salesLine.ItemId,
          #                salesLine.SalesUnit,
          #                salesLine.mcrPricePerSalesQty());
          #            marginPrice = 100 * mcrOverrideLogin_OverridePrice.calcMarginCostMarkupPercent(
          #                salesLine.ItemId,
          #                salesLine.SalesUnit,
          #                salesLine.mcrPricePerSalesQty(),
          #                totalDeductible);
          #        }
          #
          #        // See if the current user has permission to override the price.  If they do not
          #        // call the form for a different user to log in.
          #        currentUserPermission = mcrOverrideLogin_OverridePrice.isUserValid(curUserId(),
          #                                                                            _newValue,
          #                                                                            _overrideFieldId,
          #                                                                            marginPrice);
          #        // Do not allow the user to manipulate the form while a dialog is open.
          #        element.mcrDisableForm();
          #
          #        // if the current user does not have permission
          #        if (!currentUserPermission)
          #        {
          #            args = mcrOverrideLogin_OverridePrice.launchPriceOverrideLogin(
          #                salesLine,
          #                NoYes::Yes,
          #                _fieldId);
          #
          #            // if the user did not cancel out or close using the X with out first getting a valid login
          #            // from the override form it means that someone had a successful override
          #            if (args.parm() != #Cancel)
          #            {
          #                // the args.parm passes out user id and reason code
          #                userIdmcrPriceOverrideReasonCode = str2con(args.parm());
          #                element.mcrLinePriceOverrideYes(
          #                    conPeek(userIdmcrPriceOverrideReasonCode, 2),
          #                    conPeek(userIdmcrPriceOverrideReasonCode, 1));
          #            }
          #            else
          #            {
          #                cancelOverride = true;
          #            }
          #        }
          #        else
          #        {
          #            // If current user can override the price.
          #            mcrPriceOverrideReasonCode = mcrOverrideLogin_OverridePrice.launchPriceOverrideReasonCode(salesLine, NoYes::Yes);
          #            if (mcrPriceOverrideReasonCode != #Cancel)
          #            {
          #                if (_fieldId == fieldNum(RetailSalesLine, LineManualDiscountPercentage))
          #                {
          #                    element.mcrLineManualDiscountOverride(mcrPriceOverrideReasonCode, curUserId());
          #                }
          #                else
          #                {
          #                    element.mcrLinePriceOverrideYes(mcrPriceOverrideReasonCode, curUserId());
          #                }
          #            }
          #            else
          #            {
          #                cancelOverride = true;
          #            }
          #        }
          #
          #        if (!cancelOverride
          #            && !mcrSalesLinePriceOverride.RecId)
          #        {
          #            mcrSalesLinePriceOverride.ListPrice = (salesLine.LineAmount / (salesLine.SalesQty != 0 ? salesLine.SalesQty : 1));
          #            mcrSalesLinePriceOverride.ListPriceCurrencyCode = salesLine.CurrencyCode;
          #        }
          #
          #        element.mcrEnableForm();
          #
          #        element.mcrSetLineControls();
          #    }
          #
          #    // Return false if it was cancelled, otherwise return true
          #    return !cancelOverride;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean                    ret = true;
          #
          #    salesTableForm.setTouched(salesTable);
          #    salesLine.InventDimId = InventDim::findOrCreate(inventDim).InventDimId;
          #
          #    if (salesLine.RecId != 0
          #    &&  salesLine.InterCompanyInventTransId
          #    &&  salesTable.InterCompanyOrder)
          #    {
          #        salesLine.DeliveryDateControlType = SalesDeliveryDateControlType::None;
          #    }
          #
          #    if (!salesLine.isAgreementLinkValid(true))
          #    {
          #        ret = salesLine.unLinkAgreementLinePrompt(0,tableNum(SalesLine),false);
          #    }
          #
          #    salesTable_ds.packExtensions();
          #    this.packExtensions();
          #    ret = super() && ret;
          #    this.unpackExtensions();
          #    salesTable_ds.unpackExtensions();
          #
          #    if (!askingModifyInvoiced && ret)
          #    {
          #        askingModifyInvoiced = true;
          #
          #        ret = salesTable.checkUpdate(true, salesTable_ds.performIntercompanyValidation());
          #        if (!ret)
          #        {
          #            salesLine_ds.reread();
          #            salesTable_ds.reread();
          #        }
          #        askingModifyInvoiced = false;
          #    }
          #
          #    copyTaxGroupToMarkupTrans = DialogButton::No;
          #    if (ret && salesLine.TaxGroup != salesLine.orig().TaxGroup)
          #    {
          #        copyTaxGroupToMarkupTrans   = MarkupTrans::promptCopyTaxGroupToMarkupTrans(salesLine.TableId, salesLine.RecId);
          #        ret                         = copyTaxGroupToMarkupTrans != DialogButton::Cancel;
          #    }
          #
          #    if (ret)
          #    {
          #       ret = salesTableForm.salesLine_validateWrite(salesLine, inventDim);
          #    }
          #
          #    if (ret && salesLine.DeliveryDateControlType)
          #    {
          #        ret = SalesCalcAvailableDlvDates::validateWritePromptOnServer(salesLine, false, false, true, false);
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #leave
          #public boolean leave()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    if (!deleting)
          #    {
          #        if (!salesLine.PBAItemLine::checkMandatory())
          #        {
          #            return false;
          #        }
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #refreshDDC
          #void refreshDDC()
          #{
          #    if (salesLine_ds && salesLine && salesLine.DeliveryDateControlType)
          #    {
          #        salesLine_ds.refresh();
          #    }
          #}
        ENDSOURCE
        SOURCE #enableExciseFields_IN
          #// <GIN>
          #public void enableExciseFields_IN()
          #{
          #    if (TaxParameters::isExciseEnable_IN())
          #    {
          #        taxExciseTypeController.buildUI(
          #            salesLine_IN.ExciseType_IN,
          #            salesLine_IN.ExciseRecordType_IN,
          #            salesLine.ItemId,
          #            salesLine.SalesQty > 0 ? TaxDirection::OutgoingTax : TaxDirection::IncomingTax);
          #    }
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #exciseManufacture_IN
          #// <GIN>
          #edit ExciseManufacture_IN exciseManufacture_IN(
          #    boolean                 _set,
          #    ExciseManufacture_IN    _exciseManufacture_IN)
          #{
          #    ExciseManufacture_IN    exciseManufacture;
          #
          #    salesLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseManufacture(_set,_exciseManufacture_IN,salesLine_IN.ExciseRecordType_IN);
          #
          #    exciseManufacture = taxExciseTypeController.exciseRecordType2ExciseManufacture(salesLine_IN.ExciseRecordType_IN);
          #
          #    return exciseManufacture;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #exciseNone_IN
          #// <GIN>
          #edit ExciseNone_IN exciseNone_IN(
          #    boolean         _set,
          #    ExciseNone_IN   _exciseNone_IN)
          #{
          #    ExciseNone_IN           exciseNone;
          #    salesLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseNone(_set,_exciseNone_IN, salesLine_IN.ExciseRecordType_IN);
          #
          #    exciseNone = taxExciseTypeController.exciseRecordType2ExciseNone(salesLine_IN.ExciseRecordType_IN);
          #    return exciseNone;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #exciseTraders_IN
          #// <GIN>
          #edit ExciseTraders_IN exciseTraders_IN(
          #    boolean          _set,
          #    ExciseTraders_IN _exciseTraders_IN)
          #{
          #    ExciseTraders_IN        exciseTraders;
          #
          #    salesLine_IN.ExciseRecordType_IN = TaxExciseTypeController_IN::exciseTraders(_set,_exciseTraders_IN, salesLine_IN.ExciseRecordType_IN);
          #
          #    exciseTraders = taxExciseTypeController.exciseRecordType2ExciseTraders(salesLine_IN.ExciseRecordType_IN);
          #
          #    return exciseTraders;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #getPotencyCalculatedLineAmount
          #/// <summary>
          #///     Displays the adjusted net amount.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The adjusted net amount.
          #/// </returns>
          #public display PDSCalculatedLineAmount getPotencyCalculatedLineAmount(SalesLine _salesLine)
          #{
          #    if (_salesLine.ItemId)
          #    {
          #        return salesTableForm.getActiveLineCalculatedAmount(_salesLine.RecId, _salesLine.ItemId);
          #    }
          #    else
          #    {
          #        return 0;
          #    }
          #}
        ENDSOURCE
        SOURCE #getPotencyCalculatedUnitPrice
          #/// <summary>
          #///     Displays the adjusted unit price if this is an advanced pricing order.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The adjusted unit price.
          #/// </returns>
          #public display PDSCalculatedUnitPrice getPotencyCalculatedUnitPrice(SalesLine _salesLine)
          #{
          #    if (_salesLine.ItemId)
          #    {
          #        return salesTableForm.getActiveLineCalculatedUnitPrice(_salesLine.RecId, _salesLine.ItemId);
          #    }
          #    else
          #    {
          #        return 0;
          #    }
          #}
        ENDSOURCE
        SOURCE #getPotencyCalculationId
          #/// <summary>
          #///     Displays the calculation ID if this is an advanced pricing order.
          #/// </summary>
          #/// <param name="_salesLine">
          #///     A buffer of the sales line record selected on the form.
          #/// </param>
          #/// <returns>
          #///     The calculation ID.
          #/// </returns>
          #public display PDSCalculationId getPotencyCalculationId(SalesLine _salesLine)
          #{
          #    if (_salesLine.ItemId)
          #    {
          #        return salesTableForm.getActiveLineCalculationId(_salesLine.RecId, _salesLine.ItemId);
          #    }
          #    else
          #    {
          #        return '';
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLineForeignTradeCategory
          Table               #SalesLineForeignTradeCategory
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #allowEdtItemCodeId
          #void allowEdtItemCodeId()
          #{
          #    if (salesLine.isCategoryBased())
          #    {
          #        if (salesLine.deliveredInTotal()       != 0 ||
          #            salesLine.invoicedInTotal()        != 0)
          #        {
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).allowEdit(false);
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).skip(true);
          #        }
          #        else
          #        {
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).allowEdit(true);
          #            salesLineForeignTradeCategory_ds.object(fieldNum(SalesLineForeignTradeCategory, ItemCodeId)).skip(false);
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int     ret;
          #    boolean allowEditLine;
          #
          #    ret = super();
          #
          #    if (salesLine.isCategoryBased())
          #    {
          #        allowEditLine = salesTableForm.editLineAllowed();
          #        salesLineForeignTradeCategory_ds.allowEdit(allowEditLine);
          #        if (allowEditLine)
          #        {
          #            salesLineForeignTradeCategory_ds.allowEdtItemCodeId();
          #        }
          #    }
          #    else
          #    {
          #        salesLineForeignTradeCategory_ds.allowEdit(false);
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #
          #    if (salesLine.RecId && salesLine.isCategoryBased())
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (salesLine.RecId && salesLine.isCategoryBased())
          #    {
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    if (salesLine.isCategoryBased())
          #    {
          #        super(_append);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InventDim
          Table               #InventDim
          JoinSource          #SalesLine
          LinkType            #InnerJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD inventBatchId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventBatchId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventBatchId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,wmsLocationId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,wmsLocationId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD wMSPalletId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,wmsPalletId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,wmsPalletId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD inventSerialId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventSerialId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSerialId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventLocationId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventLocationId), !salesLine.MatchingAgreementLine);
                #
                #    if (!salesLine.RecId && salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #
                #        salesLine.ConfirmedDlv = salesLine.ShippingDateConfirmed ? salesLine.ShippingDateConfirmed : salesLine.ShippingDateRequested;
                #    }
                #
                #    if (salesLine_ds && salesLine)
                #    {
                #        salesLine_ds.refresh();
                #    }
                #
                #    if (salesLine_ds &&
                #        (TaxParameters::checkTaxParameters_IN() || TaxWithholdParameters_IN::checkTaxParameters()))
                #    {
                #        salesLine_IN_ds.refresh();
                #        TaxInformation_IN_DS.linkActive();
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventLocationId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD configId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,ConfigId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (!EcoResProductMasterConfigurationMgr::configure(_formControl,
                #                                                       salesLine.ItemId,
                #                                                       InventDim::findOrCreate(inventDim).InventDimId,
                #                                                       salesLine.deliveryDate(),
                #                                                       salesLine.ItemBOMId,
                #                                                       salesLine.QtyOrdered))
                #    {
                #        super(_formControl, _filterStr);
                #    }
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,ConfigId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSizeId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventSizeId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSizeId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventColorId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventColorId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventColorId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventSiteId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventSiteId), !salesLine.MatchingAgreementLine);
                #
                #    if (!salesLine.RecId)
                #    {
                #        if (salesLine.DeliveryDateControlType != SalesDeliveryDateControlType::None)
                #        {
                #            salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #            salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #
                #            salesLine.ConfirmedDlv = salesLine.ShippingDateConfirmed ? salesLine.ShippingDateConfirmed : salesLine.ShippingDateRequested;
                #        }
                #    }
                #
                #    if (salesLine_ds && salesLine)
                #    {
                #        salesLine_ds.refresh();
                #    }
                #
                #    if (salesLine_ds &&
                #        (TaxParameters::checkTaxParameters_IN() || TaxWithholdParameters_IN::checkTaxParameters()))
                #    {
                #        salesLine_IN_ds.refresh();
                #        TaxInformation_IN_DS.linkActive();
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventSiteId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventGtdId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventGtdId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventGtdId_RU),
                #                            InventTable::itemProductDimensionGroup(salesLine.ItemId));
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim).modifiedField(salesLine, false);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventProfileId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventProfileId_RU));
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim).modifiedField(salesLine, false);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventProfileId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventOwnerId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim,
                #                            fieldNum(InventDim, InventOwnerId_RU));
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim).modifiedField(salesLine, false);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,
                #                                                fieldNum(InventDim, InventOwnerId_RU));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventStyleId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim,InventStyleId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine,0,inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,itemName));
                #
                #    element.mcrRefreshMarginAlert();
                #}
                #
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim,fieldNum(InventDim,InventStyleId));
                #    }
                #
                #    return ret;
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD LicensePlateId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim, fieldNum(InventDim, LicensePlateId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim, LicensePlateId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventStatusId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    ret = super();
                #
                #    if (ret)
                #    {
                #        ret = salesLine.validateModifyInventDim(inventDim, fieldNum(InventDim, InventStatusId));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    SalesCalcAvailableDlvDates salesCalcAvailableDlvDates;
                #
                #    super();
                #
                #    salesLine.modifyInventDim(inventDim, fieldNum(InventDim, InventStatusId), !salesLine.MatchingAgreementLine);
                #
                #    if (salesLine.DeliveryDateControlType)
                #    {
                #        salesCalcAvailableDlvDates =  SalesCalcAvailableDlvDates::newCommonSalesDlvDateType(salesLine, 0, inventDim);
                #        salesCalcAvailableDlvDates.modifiedFieldBeforeInsert(salesLine);
                #    }
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    WHSInventStatus::lookupInventStatus(_formControl, NoYes::No);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #FiscalEstablishment
          #// <GBR>
          #display FiscalEstablishmentId_BR FiscalEstablishment()
          #{
          #    return inventDim.inventSite().fiscalEstablishment().FiscalEstablishmentId;
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #//  super();
          #}
        ENDSOURCE
        SOURCE #initValue
          #void initValue()
          #{
          #    inventDim.data(InventDim::find(salesLine.InventDimId));
          #
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InterCompanyPurchSalesReference
          Table               #InterCompanyPurchSalesReference
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          MaxAccessRight      #NoAccess
          AutoSearch          #No
          AutoNotify          #No
          JoinSource          #SalesTable
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #WHSLoadLine
          Table               #WHSLoadLine
          AllowCheck          #No
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #executeQuery
          #public void executeQuery()
          #{
          #    if (tabWhsLoads.isActivePage())
          #    {
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #WHSSalesLine
          Table               #WHSSalesLine
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (whsSalesLine.RecId)
          #    {
          #        super();
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    if (whsSalesLine.RecId)
          #    {
          #        ret = super();
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TMSSalesTable
          Table               #TMSSalesTable
          AllowCheck          #No
          JoinSource          #SalesTable
          LinkType            #OuterJoin
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD CarrierCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    if (tmsSalesTable.RecId == 0)
                #    {
                #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
                #    }
                #
                #    super();
                #
                #    if (!tmsSalesTable.CarrierCode
                #    || !TMSCarrierService::exist(tmsSalesTable.CarrierServiceCode, tmsSalesTable.CarrierCode))
                #    {
                #        tmsSalesTable.CarrierServiceCode    = "";
                #    }
                #
                #    tmsSalesTable.ModeCode  = TMSCarrier::find(tmsSalesTable.CarrierCode).ModeCode;
                #
                #    tmsSalesTable_ds.refresh();
                #
                #    element.tmsUpdateSalesOrder();
                #
                #    element.enableTMSFields();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD CarrierServiceCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    if (tmsSalesTable.RecId == 0)
                #    {
                #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
                #    }
                #
                #    super();
                #
                #    element.tmsUpdateSalesOrder();
                #
                #    element.enableTMSFields();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ModeCode
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    if (tmsSalesTable.RecId == 0)
                #    {
                #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
                #    }
                #
                #    super();
                #
                #    salesTable_ds.reread();
                #    salesTable_ds.refresh();
                #
                #    element.enableTMSFields();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #/// <summary>
          #///    Persists a record in the database when super is called.
          #/// </summary>
          #/// <remarks>
          #/// Some sales table records don't have a corresponding tms transportation table record
          #/// so call write method and not super and it will update database properly
          #/// </remarks>
          #public void write()
          #{
          #    if (!tmsSalesTable.RecId)
          #    {
          #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
          #    }
          #
          #    tmsSalesTable.write();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #/// <summary>
          #/// Determines whether the current record is valid and ready to be written to the database.
          #/// </summary>
          #/// <returns>
          #/// true if the record is valid; otherwise, false.
          #/// </returns>
          #/// <remarks>
          #/// Some sales table records don't have a corresponding tms transportation table record
          #/// so call super only if corresponding record exists
          #/// </remarks>
          #public boolean validateWrite()
          #{
          #    boolean ret = true;
          #
          #    if (tmsSalesTable.CarrierCode != "" && tmsSalesTable.CarrierServiceCode == "")
          #    {
          #        ret = checkFailed("@TRX733");
          #    }
          #
          #    if (ret
          #    && tmsSalesTable.CarrierCode
          #    && tmsSalesTable.CarrierServiceCode
          #    && !TMSCarrierService::exist(tmsSalesTable.CarrierServiceCode, tmsSalesTable.CarrierCode))
          #    {
          #        ret = checkFailed("@TRX734");
          #    }
          #
          #    if (ret && tmsSalesTable.RecId != 0)
          #    {
          #        ret = super();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    element.enableTMSFields();
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #CustInvoiceTrans
          Table               #CustInvoiceTrans
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #EximSalesLine_IN
          Table               #EximSalesLine_IN
          Index               #SalesLineRecIdx
          AllowCheck          #No
          AllowDelete         #No
          JoinSource          #SalesLine
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD ApplyDEPB
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    eximSalesLine_IN_MarketValue.allowEdit(eximSalesLine_IN.ApplyDEPB);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DBKCenvatStatus
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    boolean isDBKEnabled;
                #    ;
                #
                #    super();
                #
                #    isDBKEnabled = eximSalesLine_IN.dbkCenvatStatus != EximDBKCenvatStatus_IN::None;
                #    eximSalesLine_IN_DBKRateType.allowEdit(isDBKEnabled);
                #    eximSalesLine_IN_DBKPercent.allowEdit(isDBKEnabled);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (isIN)
          #    {
          #        this.linkType(FormLinkType::Active);
          #    }
          #
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #active
          #// <GIN>
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (ret)
          #    {
          #        element.enableFieldsActive_IN();
          #    }
          #
          #    return ret;
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #write
          #// <GIN>
          #public void write()
          #{
          #    if (salesLine.RecId)
          #    {
          #        if (!EximSalesLine_IN::findBySalesLineRecId(salesLine.RecId).RecId)
          #        {
          #            eximSalesLine_IN.SalesLineRecId = salesLine.RecId;
          #        }
          #        super();
          #    }
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_BR
          Table               #SalesLine_BR
          JoinSource          #SalesLine
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD CFOPTable_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GBR>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CFOPAttributesDeterminer_BR cfopAttributes;
                #
                #    if (BrazilParameters::isEnabled())
                #    {
                #        cfopAttributes = CFOPAttributesDeterminer_BR::construct(salesLine);
                #        cfopAttributes.parmFiscalEstablishment(inventDim.inventSite().fiscalEstablishment());
                #
                #        ret = CFOPTable_BR::lookupCFOPTable(_formReferenceControl, cfopAttributes);
                #    }
                #
                #    return ret;
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #modified
                #// <GBR>
                #public void modified()
                #{
                #    super();
                #
                #    buttonLineFiscalDocumentText_BR.enabled(salesLine.type().canFiscalDocTextBeRegistrated_BR());
                #
                #    salesLine_ds.enableDataSourceFields_BR();
                #    salesLine_ds.refresh();
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD FiscalDocumentType_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return FiscalDocumentType_BR::lookupReference(salesLine.inventDim().inventSite().fiscalEstablishment().RecId, _formReferenceControl);
                #}
              ENDSOURCE
              SOURCE #resolveReference
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    FiscalDocumentTypeId_BR fiscalDocumentTypeId;
                #
                #    // Get the text that the user entered into the control to see if there is a match to display
                #    fiscalDocumentTypeId = _formReferenceControl.filterValue(AbsoluteFieldBinding::construct(fieldStr(FiscalDocumentType_BR, FiscalDocumentTypeId), tableStr(FiscalDocumentType_BR))).value();
                #
                #    if (fiscalDocumentTypeId)
                #    {
                #        ret = FiscalDocumentType_BR::find
                #        (
                #            fiscalDocumentTypeId,
                #            salesLine.inventDim().inventSite().fiscalEstablishment().FiscalEstablishmentId
                #        );
                #    }
                #    else
                #    {
                #        ret = super(_formReferenceControl);
                #    }
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD SuframaDiscount_BR
            PROPERTIES
              Enabled             #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TaxServiceCode_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    NoYes                   serviceCodeOnDlvAddress;
                #    LogisticsPostalAddress  logisticsPostalAddress;
                #
                #
                #
                #    if(salesTable.ProjId)
                #    {
                #        serviceCodeOnDlvAddress = salesTable.projTable().projInvoice().TaxServiceCodeOnDlvAddress_BR;
                #        logisticsPostalAddress = LogisticsPostalAddress::findRecId(salesTable.projTable().postalAddress().RecId);
                #    }
                #    else
                #    {
                #        serviceCodeOnDlvAddress = salesTable.salesTable_BR().ServiceCodeOnDlvAddress_BR;
                #        logisticsPostalAddress = LogisticsLocationEntity::location2PostalAddress(salesLine.deliveryLocation());
                #    }
                #
                #    TaxServiceCode_BR::lookup(_formControl, serviceCodeOnDlvAddress,
                #                              logisticsPostalAddress.CountryRegionId,
                #                              logisticsPostalAddress.State,
                #                              logisticsPostalAddress.City);
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #enableDataSourceFields_BR
          #/// <summary>
          #///    Sets which fields should be enabled in the form datasource.
          #/// </summary>
          #// <GBR>
          #public void enableDataSourceFields_BR()
          #{
          #    FormDataObject      formDataObject;
          #
          #    formDataObject = salesLine_BR_DS.object(fieldNum(SalesLine_BR, FiscalDocumentType_BR));
          #    formDataObject.allowEdit(salesTable.hasIssueFiscalDocument_BR());
          #
          #    formDataObject = salesLine_BR_DS.object(fieldNum(SalesLine_BR, TaxServiceCode_BR));
          #    formDataObject.allowEdit(salesLine.inventTable().ItemType == ItemType::Service);
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    boolean isBrazilParametersEnabled = BrazilParameters::isEnabled();
          #
          #    if (isBrazilParametersEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isBrazilParametersEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesLine, salesLine_BR);
          #    }
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (BrazilParameters::isEnabled() && salesLine_BR.SalesLine)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_IN
          Table               #SalesLine_IN
          JoinSource          #SalesLine
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD CompanyLocation_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::locationLookup(_formReferenceControl, CompanyInfo::find().RecId);
                #}
                #// </GIN>
                #
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    salesline_IN_ds.object(fieldNum(SalesLine_IN, TaxInformation)).modified();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRefLocationAddressForm(salesLine_IN.CompanyLocation_IN, this);
                #}
                #// </GIN>
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD CustomsTariffCodeTable_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = CustomsTariffCodeTable_IN::lookupDirectionImportExport(_formReferenceControl, enum2str(Direction_IN::Export));
                #
                #    return ret;
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #resolveReference
                #// <GIN>
                #public Common resolveReference(FormReferenceControl _formReferenceControl)
                #{
                #    return CustomsTariffCodeTable_IN::resolveCustomsTariffCode(_formReferenceControl, Direction_IN::Export);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ExciseType_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine_IN.SalesPurchJournalLineExtension_IN::initFromPrimaryTable(salesLine);
                #    salesLine_DS.enableExciseFields_IN();
                #    salesLine_IN_DS.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD ServiceCodeTable_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = ServiceCodeTable_IN::lookupServiceCode(_formReferenceControl);
                #
                #    return ret;
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TaxInformation
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #// <GIN>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    return TaxInformation_IN::lookup(_formReferenceControl, salesline_IN.CompanyLocation_IN);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #
                #    taxInformation_IN_DS.linkActive();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #jumpRef
                #public void jumpRef()
                #{
                #    TaxInformation_IN::jumpRef(salesLine_IN.TaxInformation, this);
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD TCSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TCS);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TDSGroup_IN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GIN>
                #public void modified()
                #{
                #    super();
                #    element.setTaxWithholdEnabled_IN();
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxWithholdGroupHeading::lookupTaxComponentGroup_IN(_formControl, TaxWithholdCodeType_IN::TDS);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #// <GIN>
          #public void write()
          #{
          #    if (isSalesLine_INEnabled && salesLine_IN.SalesLine != 0)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #
          #        if (!salesLineReturnDetails_IN.RecId && salesLineReturnDetails_IN.Type != SalesReturnType_IN::None)
          #        {
          #            // need to force the write in the create case since the form won't do it.
          #            salesLineReturnDetails_IN.SalesLine_IN = salesLine_IN.RecId;
          #            salesLineReturnDetails_IN_ds.write();
          #        }
          #
          #    }
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #initValue
          #// <GIN>
          #public void initValue()
          #{
          #    super();
          #    salesLine_IN.TaxModelDocLineExtensionIN::init(salesLine.salesLineView_IN());
          #}
          #// </GIN>
        ENDSOURCE
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (isSalesLine_INEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #
          #    if (isSalesLine_INEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesLine, salesLine_IN);
          #    }
          #
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_Intrastat
          Table               #SalesLine_Intrastat
          JoinSource          #SalesLine
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    boolean isLegalEntityInCountryRegionIsoCZEnabled = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]);
          #
          #    if (isLegalEntityInCountryRegionIsoCZEnabled)
          #    {
          #        // Only enable the symbol datasource if the country context is correct
          #        salesLine_intrastat_DS.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #
          #    if (isLegalEntityInCountryRegionIsoCZEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesLine, salesLine_Intrastat);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_BR
          Table               #SalesTable_BR
          JoinSource          #SalesTable
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD CFPSId_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GBR>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CFPSTable_BR::lookup(_formControl, SalesPurchBoth_BR::Sales);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD SalesPurchOperationType_BR
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #// <GBR>
                #public boolean validate()
                #{
                #    CFOPAttributesDeterminer_BR cfopAttributesDeterminer;
                #    boolean                     ret;
                #
                #    cfopAttributesDeterminer = CFOPAttributesDeterminer_BR::construct(salesLine);
                #
                #    ret = salesPurchOperationTypeController_BR.validate(salesTable_BR.SalesPurchOperationType_BR, cfopAttributesDeterminer);
                #
                #    if (ret && !salesTable.createInventTrans_BR())
                #    {
                #        if (Box::yesNo("@GLS104", DialogButton::No) == DialogButton::No)
                #        {
                #            return false;
                #        }
                #    }
                #
                #    return super() && ret;
                #}
                #// </GBR>
              ENDSOURCE
              SOURCE #lookupReference
                #// <GBR>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    CFOPAttributesDeterminer_BR cfopAttributesDeterminer;
                #    SalesPurchOperationTypeController_BR s;
                #
                #    cfopAttributesDeterminer = CFOPAttributesDeterminer_BR::construct(salesLine);
                #    s = new SalesPurchOperationTypeController_BR (element.name());
                #    return s.lookupReference(_formReferenceControl, cfopAttributesDeterminer);
                #}
                #// </GBR>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #enableDataSourceFields_BR
          #public void enableDataSourceFields_BR()
          #{
          #    FormDataObject  formDataObject;
          #
          #    formDataObject = salesTable_BR_DS.object(fieldNum(SalesTable_BR, CustFinalUser_BR));
          #    formDataObject.allowEdit(!salesTable.custTable_InvoiceAccount().Suframa_BR);
          #
          #    formDataObject = salesTable_BR_DS.object(fieldNum(SalesTable_BR, SalesPurchOperationType_BR));
          #    formDataObject.allowEdit(salesTable.type().canEditSalesPurchOperationType_BR());
          #
          #    formDataObject = salesLine_BR_DS.object(fieldNum(SalesLine_BR, DeliveryCFOPTable_BR));
          #    formDataObject.allowEdit(salesTable.SalesType == SalesType::ItemReq);
          #
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    boolean isBrazilParametersEnabled = BrazilParameters::isEnabled();
          #
          #    if (isBrazilParametersEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isBrazilParametersEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTable_BR);
          #    }
          #}
        ENDSOURCE
        SOURCE #displaySuframaPISCOFINS_BR
          #// <GBR>
          #public display NoYes displaySuframaPISCOFINS_BR()
          #{
          #    return salesTable.custTable_InvoiceAccount().SuframaPISCOFINS_BR;
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #displaySuframa_BR
          #// <GBR>
          #public display CustSuframa_BR displaySuframa_BR()
          #{
          #    return salesTable.custTable_InvoiceAccount().Suframa_BR;
          #}
          #// </GBR>
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (BrazilParameters::isEnabled() && salesTable_BR.SalesTable)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_Intrastat
          Table               #SalesTable_Intrastat
          JoinSource          #SalesTable
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    boolean isLegalEntityInCountryRegionIsoCZEnabled = SysCountryRegionCode::isLegalEntityInCountryRegion([#isoCZ]);
          #
          #    if (isLegalEntityInCountryRegionIsoCZEnabled)
          #    {
          #        // Only enable the symbol datasource if the country context is correct
          #        salesTable_intrastat_DS.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isLegalEntityInCountryRegionIsoCZEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTable_Intrastat);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxServiceTariffLine
          Table               #TaxServiceTariff
          OnlyFetchActive     #Yes
          JoinSource          #SalesLine
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (countryRegion_PL)
          #    {
          #        if (!taxServiceTariffLine.ParentRecId)
          #        {
          #            taxServiceTariffLine.ParentRecId = salesLine.RecId;
          #        }
          #
          #        if (!taxServiceTariffLine.ParentTableId)
          #        {
          #            taxServiceTariffLine.ParentTableId = salesLine.TableId;
          #        }
          #    }
          #
          #    super();
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    super(_append);
          #
          #    if (taxServiceTariffHeader.ServiceTariffNumber && !salesLine.RecId && countryRegion_PL)
          #    {
          #        taxServiceTariffLine.ServiceTariffNumber = taxServiceTariffHeader.ServiceTariffNumber;
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxServiceTariffHeader
          Table               #TaxServiceTariff
          OnlyFetchActive     #Yes
          JoinSource          #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTableSymbol
          Table               #SalesTableSymbol
          JoinSource          #SalesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_RU
          Table               #SalesTable_RU
          Index               #SalesTable
          JoinSource          #SalesTable
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD AgreementHeaderExt_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GEERU>
                #public void modified()
                #{
                #    super();
                #
                #    // force a refresh because the agreement document title is indirectly related on a different datasource
                #    salesTable_DS.cacheCalculateMethod(tableMethodStr(SalesTable, agreementDocumentTitle_RU));
                #    salesTable_DS.refresh();
                #}
                #// </GEERU>
                #
              ENDSOURCE
              SOURCE #lookupReference
                #// <GEERU>
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #
                #    ret = SalesAgreementHeaderExt_RU::salesAgreementReferenceLookup(_formReferenceControl,
                #        salesTable.CustAccount,
                #        salesTable.ShippingDateRequested,
                #        salesTable.InvoiceAccount);
                #
                #    return ret;
                #}
                #// </GEERU>
                #
              ENDSOURCE
              SOURCE #jumpRef
                #// <GEERU>
                #public void jumpRef()
                #{
                #    SalesAgreementHeaderExt_RU::salesAgreementJumpRef(salesTable_RU.AgreementHeaderExt_RU);
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          DATAFIELD ConsigneeAccount_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GEERU>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    CustTable::lookupCustomer(_formControl);
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD ConsignorAccount_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GEERU>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    VendTable::lookupVendor(_formControl);
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD InventProfileId_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #// <GEERU>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    if (salesTable_RU.InventProfileType_RU != InventProfileType_RU::NotSpecified)
                #    {
                #        InventProfile_RU::lookupInventProfileId(_formControl, salesTable_RU.InventProfileType_RU);
                #    }
                #}
                #// </GEERU>
                #
              ENDSOURCE
              SOURCE #validate
                #// <GEERU>
                #public boolean validate()
                #{
                #    boolean ret = true;
                #
                #    if (salesTable_RU.InventProfileType_RU == InventProfileType_RU::NotSpecified && salesTable_RU.InventProfileId_RU)
                #    {
                #        ret = false;
                #    }
                #    ret = ret && super();
                #
                #    return ret;
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD PriceAgreementDate_RU
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #// <GEERU>
                #public void modified()
                #{
                #    super();
                #    element.automaticTotalDiscount();
                #}
                #// </GEERU>
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #// <GEERU>
          #public void init()
          #{
          #    if (isRU)
          #    {
          #        switch (element.args().dataset())
          #        {
          #            case tableNum(SalesAgreementHeaderExt_RU):
          #                if (element.args().record())
          #                {
          #                    this.linkType(FormLinkType::InnerJoin);
          #                }
          #                break;
          #
          #            default :
          #                this.linkType(FormLinkType::OuterJoin);
          #                break;
          #        }
          #    }
          #
          #    super();
          #
          #    if (isRU)
          #    {
          #        switch (element.args().dataset())
          #        {
          #            case tableNum(SalesAgreementHeaderExt_RU):
          #                if (element.args().record())
          #                {
          #                    this.query().dataSourceTable(tableNum(SalesTable_RU)).clearDynalinks();
          #                    this.query().dataSourceTable(tableNum(SalesTable_RU)).addDynalink(
          #                        fieldNum(SalesTable_RU, AgreementHeaderExt_RU),
          #                        element.args().record(),
          #                        fieldNum(AgreementHeaderExt_RU, RecId));
          #                }
          #                break;
          #        }
          #
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTable_RU);
          #    }
          #}
          #// </GEERU>
          #
        ENDSOURCE
        SOURCE #write
          #// <GEERU>
          #public void write()
          #{
          #    if (isRU && salesTable_RU.SalesTable != 0)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
          #// </GEERU>
          #
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #TaxInformation_IN
          Table               #TaxInformation_IN
          AllowEdit           #No
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesLine_IN
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          REFERENCEFIELD SalesTaxRegistrationNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(TaxRegistrationNumbers_IN::find(taxInformation_IN.SalesTaxRegistrationNumber).RegistrationNumber,
                #                                           TaxType_IN::SalesTax,
                #                                           salesLine);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxRegistrationNumbers_IN::lookupRegistrationNumberValue(_formControl, TaxType_IN::SalesTax, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TIN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(TaxRegistrationNumbers_IN::find(taxInformation_IN.SalesTaxRegistrationNumber).RegistrationNumber,
                #                                           TaxType_IN::VAT,
                #                                           salesLine);
                #}
                #// </GIN>
              ENDSOURCE
              SOURCE #lookup
                #// <GIN>
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    TaxRegistrationNumbers_IN::lookupRegistrationNumberValue(_formControl, TaxType_IN::VAT, TaxRegistrationType_IN::Company);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TAN
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxWithholdRegNumbers_IN::jumpRef(
                #        TaxWithholdRegNumbers_IN::find(taxInformation_IN.tin).RegistrationNumber,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ManECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.ManECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD TraderECCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.TraderECCRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD IECRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.iecRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::Customs,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD STCRegistrationNumberTable
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.stcRegistrationNumberTable).RegistrationNumber,
                #        TaxType_IN::ServiceTax,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
          REFERENCEFIELD ECCNumber
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #jumpRef
                #// <GIN>
                #public void jumpRef()
                #{
                #    TaxRegistrationNumbers_IN::jumpRef(
                #        TaxRegistrationNumbers_IN::find(taxInformation_IN.eccNumber).RegistrationNumber,
                #        TaxType_IN::Excise,
                #        salesLine);
                #}
                #// </GIN>
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #// <GIN>
          #public void init()
          #{
          #    if (isIN)
          #    {
          #        this.linkType(FormLinkType::Active);
          #    }
          #
          #    super();
          #}
          #// </GIN>
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTableExtensionTH
          Table               #SalesTableExtensionTH
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesTable
          LinkType            #Passive
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD NoteFormat
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.noteFormatEdit();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          REFERENCEFIELD InvoicePostalAddress
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookupReference
                #public Common lookupReference(FormReferenceControl _formReferenceControl)
                #{
                #    Common ret;
                #    CustTable custTable = CustTable::find(salesTable.InvoiceAccount);
                #
                #    ret = LogisticsLocationSelectionLookup::lookupAddressForm(_formReferenceControl, custTable, [LogisticsLocationRoleType::Invoice], false);
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDREFERENCEFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (salesTable.RecId)
          #    {
          #        salesTableExtensionTH.SalesTable = salesTable.RecId;
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    isSalesTableExtensionTHEnabled = SalesTableExtensionTH::isExtensionEnabled();
          #    if (isSalesTableExtensionTHEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isSalesTableExtensionTHEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTableExtensionTH);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesTable
          Table               #MCRSalesTable
          AllowCheck          #No
          JoinSource          #SalesTable
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD PriceOverride
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    element.mcrHeaderPriceOverride(true, "", curUserId());
                #
                #    salesTable_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SourceId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    FormRun formRun;
                #    Args args;
                #
                #    args = new Args();
                #    args.name(formStr(MCRSourceIdTargetLookup));
                #    // Use SysQuery::value since this will be used in a range
                #    args.parm(SysQuery::value(salesTable.custTable_CustAccount().Party));
                #    args.caller(_formControl);
                #    formRun = ClassFactory::formRunClassOnClient(args);
                #    formRun.init();
                #    this.performFormLookup(formRun, _formControl);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    MCRDefaultDimensions    mcrDefaultDimensionsLocal;
                #    MCRSourceCode           mcrSourceCodeLocal;
                #    CustTable               custTableLocal;
                #
                #    super();
                #
                #    if (mcrLastSourceId != mcrSalesTable.SourceId)
                #    {
                #        // Blank out the dimension on source code modified, this way
                #        // the defaulting will come from the hierarchy set up on the AR Params
                #        // field AccountRevenue.
                #        salesTable.DefaultDimension = 0;
                #
                #        mcrSourceCodeLocal = MCRSourceCode::construct(salesTable);
                #        if (mcrSalesTable.SourceId)
                #        {
                #            ttsbegin;
                #            mcrSalesTable.update();
                #            // Can assume source code is valid after call to MCRInitFromSourceCodeSetup.
                #            mcrSourceCodeLocal.mcrInitFromSourceCodeSetup(MCRSourceCodeSetup::find(mcrSalesTable.SourceId), salesTable.CustAccount);
                #            ttscommit;
                #        }
                #        else
                #        {
                #            custTableLocal                  = CustTable::find(salesTable.CustAccount);
                #            salesTable.MultiLineDisc        = custTableLocal.MultiLineDisc;
                #            salesTable.EndDisc              = custTableLocal.EndDisc;
                #            salesTable.DeliveryDate         = systemDateGet();
                #
                #            mcrDefaultDimensionsLocal = MCRDefaultDimensions::construct(salesTable);
                #            mcrDefaultDimensionsLocal.setDefaultDimensions();
                #        }
                #
                #        // Update total discount now, or a user-entered change will be trapped
                #        // and considered an override, possibly of an old value, which is not
                #        // desirable.
                #        salesTable.updateFinalDisc();
                #
                #        mcrLastSourceId = mcrSalesTable.SourceId;
                #        mcrSalesTableShipping_ds.reread();
                #        mcrSalesTableShipping_ds.refresh();
                #
                #        salesTable_ds.refresh();
                #
                #        element.mcrDisplaySourceMessage();
                #    }
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesTable, mcrSalesTable);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (!mcrSalesTable.SalesTable)
          #    {
          #        mcrSalesTable.SalesTable = salesTable.RecId;
          #    }
          #    if (mcrSalesTable.SalesTable
          #        && mcrSalesTable.validateMCRSalesTableUsed())
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrSalesTable.SalesTable)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesTableShipping
          Table               #MCRSalesTableShipping
          AllowCheck          #No
          JoinSource          #SalesTable
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesTable, mcrSalesTableShipping);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (!mcrSalesTableShipping.SalesTable)
          #    {
          #        mcrSalesTableShipping.SalesTable = salesTable.RecId;
          #    }
          #    if (mcrSalesTableShipping.SalesTable
          #        && mcrSalesTableShipping.validateMCRSalesTableShippingUsed())
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesLine
          Table               #MCRSalesLine
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD GiftCardType
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.mcrSetEditGiftCard();
                #
                #    MCRSalesLine_ds.giftCardPolicyChanged();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SourceId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #lookup
                #public void lookup(FormControl _formControl, str _filterStr)
                #{
                #    MCRSourceCodeSetup::lookupNonExpiredSourceCodes(_formControl);
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // Changes were made to the related sales line, need to refresh.
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    ret = super();
          #
          #    if (ret &&
          #        !mcrSalesLine.SalesLine &&
          #        mcrGiftCardPoliciesEnabled &&
          #        mcrProcessGiftCardsAsPrepayments_RU &&
          #        this.validateMCRSalesLine())
          #    {
          #        ret = mcrSalesLine.checkGiftCardIssuePolicies(SalesTable.CurrencyCode);
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #giftCardPolicyChanged
          #/// <summary>
          #/// Update gift card price by the polycy accordig to gift card number
          #/// </summary>
          #public void giftCardPolicyChanged()
          #{
          #    RetailGiftCardFaceValue retailGiftCardFaceValue;
          #    if (mcrGiftCardPoliciesEnabled)
          #    {
          #        retailGiftCardFaceValue = giftCardPolicyCache.getFaceValue(MCRSalesLine.GiftCardNumber, MCRSalesLine.GiftCardType);
          #
          #        if (retailGiftCardFaceValue)
          #        {
          #            if (mcrProcessGiftCardsAsPrepayments_RU)
          #            {
          #                MCRSalesLine.GiftCardAmount_RU = retailGiftCardFaceValue;
          #            }
          #            else
          #            {
          #                SalesLine.SalesPrice = retailGiftCardFaceValue;
          #                SalesLine_ds.object(fieldNum(SalesLine, SalesPrice)).modified();
          #            }
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #policyDescription
          #/// <summary>
          #/// Displays the description of gift card policy associated with the current MCRSAlesLine.
          #/// </summary>
          #/// <param name="_mCRSalesLine">
          #/// A buffer of the MCRSAlesLine table.
          #/// </param>
          #/// <returns>
          #/// The description of gift card policy only if the Gift card policies feature is ON; otherwies return empty string.
          #/// </returns>
          #public display RetailGiftCardPolicies policyDescription(MCRSAlesLine _mCRSalesLine)
          #{
          #    if (!mcrGiftCardPoliciesEnabled)
          #    {
          #        return "";
          #    }
          #    return giftCardPolicyCache.getPoliciesDescription(_mCRSalesLine.GiftCardNumber, _mCRSalesLine.GiftCardType);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (mcrSalesLine.SalesLine)
          #    {
          #        if (this.validateMCRSalesLine())
          #        {
          #            super();
          #        }
          #        else if (mcrSalesLine.RecId == 0)
          #        {
          #            mcrSalesLine.SalesLine = 0;
          #        }
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesLine, mcrSalesLine);
          #}
        ENDSOURCE
        SOURCE #validateMCRSalesLine
          #private boolean validateMCRSalesLine()
          #{
          #    if (mcrCallCenterEnabled
          #        && (mcrSalesLine.ContinuityScheduleId
          #            || mcrSalesLine.CustInvoiceTransRecId
          #            || mcrSalesLine.Expedite
          #            || mcrSalesLine.GiftCardRecipientEmail
          #            || mcrSalesLine.GiftCardRecipientName
          #            || mcrSalesLine.GiftCardBuyerEmail
          #            || mcrSalesLine.GiftCardBuyerName
          #            || mcrSalesLine.InstallmentEligible
          #            || mcrSalesLine.LineType != MCRLineType::Regular
          #            || mcrSalesLine.ParentLotId
          #            || mcrSalesLine.SourceId
          #            || mcrSalesLine.UpSellOrigin
          #            || mcrSalesLine.UpSellOriginRef))
          #    {
          #        return true;
          #    }
          #
          #    return false;
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrSalesLine.SalesLine)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    if (mcrSalesTableShipping.Expedite)
          #    {
          #        mcrSalesLine.Expedite = mcrSalesTableShipping.Expedite;
          #    }
          #
          #    //If the source code is set on the header, default it to the sales line.
          #    if (mcrSalesTable.SourceId)
          #    {
          #        mcrSalesLine.SourceId = mcrSalesTable.SourceId;
          #    }
          #
          #    if (mcrCallCenterEnabled)
          #    {
          #        super(_append);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesLineDropShipment
          Table               #MCRSalesLineDropShipment
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD DropShipComment
            PROPERTIES
              Enabled             #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DropShipment
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    InventTable                 inventTable;
                #    InventDimId                 inventDimId;
                #    InventLocationId            defaultDropShipmentWarehouse = salesLine.mcrInventTable().DefaultDropShipmentWarehouse;
                #    PurchCreateFromSalesOrder   purchCreate;
                #    TmpPurchLinePrice           tmpPurchLinePrice;
                #    PurchLine                   purchLine;
                #
                #    // Set the direct delivery warehouse
                #    if (defaultDropShipmentWarehouse)
                #    {
                #        if (!mcrSaleslineDropShipment.DropShipment)
                #        {
                #            inventTable = salesLine.inventTable();
                #            inventDim.InventSiteId = inventTable.inventItemOrderSetupMap(InventItemOrderSetupType::Sales).inventSiteId('', inventTable);
                #
                #            if (inventDim.InventSiteId)
                #            {
                #                inventDimId = InventDim::findOrCreate(inventDim).InventDimId;
                #
                #            }
                #            else
                #            {
                #                inventDimId = InventDim::inventDimIdBlank();
                #            }
                #
                #            inventDim.InventLocationId   = inventTable.inventItemOrderSetupMap(InventItemOrderSetupType::Sales,
                #                                                                               inventDimId).inventLocationId('',
                #                                                                                                            inventTable,
                #                                                                                                            inventDim.InventSiteId);
                #        }
                #        else
                #        {
                #            inventDim.InventLocationId = defaultDropShipmentWarehouse;
                #        }
                #
                #        inventDim.InventSiteId = InventLocation::find(inventDim.InventLocationId).InventSiteId;
                #        salesLine.InventDimId  = InventDim::findOrCreate(inventDim).InventDimId;
                #        salesLine.modifyInventDim(inventDim,fieldNum(InventDim,InventLocationId));
                #    }
                #
                #    // Set the direct delivery status
                #    if (!mcrSaleslineDropShipment.DropShipment)
                #    {
                #        mcrSaleslineDropShipment.DropShipStatus = MCRDropShipStatus::None;
                #    }
                #    else
                #    {
                #        tmpPurchLinePrice.AccountNum        = salesLine.inventTable().PrimaryVendorId;
                #        tmpPurchLinePrice.SalesId           = salesLine.SalesId;
                #        tmpPurchLinePrice.ItemId            = salesLine.ItemId;
                #        tmpPurchLinePrice.SalesLineRefRecId = salesLine.RecId;
                #        tmpPurchLinePrice.Included          = NoYes::Yes;
                #        tmpPurchLinePrice.insert();
                #
                #        purchCreate = PurchCreateFromSalesOrder::newPurchCreateFromSalesOrder(TradeLineDlvType::DropShip);
                #        purchCreate.parmTmpPurchLinePrice(tmpPurchLinePrice);
                #        purchCreate.parmSalesTable(salesTable);
                #
                #        if (!purchCreate.checkSelectedLines())
                #        {
                #            mcrSaleslineDropShipment.DropShipment = NoYes::No;
                #            return;
                #        }
                #
                #        mcrSaleslineDropShipment.DropShipStatus = MCRDropShipStatus::ToBeDropShipped;
                #    }
                #
                #    super();
                #
                #    // The call to salesLine_ds.write() will take care of deleting related direct delivery purchase line when un-selecting drop shipment flag.
                #    // This is conditioned only if the related direct delivery purchase line exists and can be deleted.
                #    if (salesLine.InventRefType == InventRefType::Purch
                #        && !mcrSalesLineDropShipment.DropShipment
                #        && mcrSalesLineDropShipment.orig().DropShipment)
                #    {
                #        purchLine = PurchLine::findInventTransId(salesLine.InventRefTransId);
                #        if(purchLine && purchLine.isDropShipment())
                #        {
                #            if(mcrSalesLineDropShipment.validateWrite()
                #                && salesLine.warningForReference())    // salesLine_ds.write() will do call that deletes related PO. Need to ensure the user's acceptance of this
                #            {
                #                salesLine_ds.write();
                #            }
                #            mcrSalesLineDropShipment_ds.reread();
                #        }
                #    }
                #
                #    salesline_ds.refresh();
                #}
                #
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD DropShipStatus
            PROPERTIES
              Enabled             #No
            ENDPROPERTIES
            
            METHODS
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesLine, mcrSalesLineDropShipment);
          #}
        ENDSOURCE
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    mcrSalesLineDropShipment_ds.allowEdit(!salesLine.isCategoryBased());
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (mcrSalesLineDropShipment.SalesLine)
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrSalesLineDropShipment.SalesLine)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRSalesLinePriceOverride
          Table               #MCRSalesLinePriceOverride
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD PriceOverride
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    // Releases price override on line.
                #    element.mcrLinePriceOverrideNo(curUserId());
                #
                #    salesLine.LineAmount = salesLine.calcLineAmountForced();
                #
                #    element.mcrSetLineControls();
                #
                #    salesLine_ds.refresh();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesLine, mcrSalesLinePriceOverride);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (mcrSalesLinePriceOverride.SalesLine)
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrSalesLinePriceOverride.SalesLine)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #MCRReturnSalesTable
          Table               #MCRReturnSalesTable
          AllowCheck          #No
          JoinSource          #SalesTable
          DelayActive         #No
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #init
          #public void init()
          #{
          #    super();
          #
          #    element.formRunHelper().addExtensionTablePair(salesTable, mcrReturnSalesTable);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (mcrReturnSalesTable.SalesTable)
          #    {
          #        // no-op because a record with an empty FK is not valid.
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #leaveRecord
          #public boolean leaveRecord(boolean _forceUpdate = false)
          #{
          #    boolean ret;
          #
          #    if(mcrReturnSalesTable.SalesTable)
          #    {
          #        ret = super(_forceUpdate);
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesTable_W
          Table               #SalesTable_W
          AllowCreate         #No
          AllowDelete         #No
          JoinSource          #SalesTable
          LinkType            #Passive
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD EntryCertificateRequired_W
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #    element.allowEditIssueOwnEntryCertificate_W();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #active
          #public int active()
          #{
          #    int ret;
          #
          #    ret = super();
          #
          #    if (custParameters.EntryCertificateIssuingEnabled_W)
          #    {
          #        element.allowEditIssueOwnEntryCertificate_W();
          #    }
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    isSalesTableWEnabled = SalesTable_W::isLegalEntityInCountryRegion();
          #    if (isSalesTableWEnabled)
          #    {
          #        // Switch the link type as fields appear in the grid that require an outerjoin
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isSalesTableWEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesTable, salesTable_W);
          #    }
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLineReturnDetails_IN
          Table               #SalesLineReturnDetails_IN
          AllowCheck          #No
          JoinSource          #SalesLine_IN
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #enableSalesLineReturnDataSource
          #/// <summary>
          #///    Sets which fields should be enabled in the form datasource.
          #/// </summary>
          #public void enableSalesLineReturnDataSource()
          #{
          #    if (isIndiaIndirectTaxParameterMarked
          #        && salesLine_IN.RecId
          #        && salesLine.SalesQty
          #        && (salesLine.creditNoteLine(salesTable) || salesTable.returnItem()))
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #        salesLineReturnDetails_IN_ds.refresh();
          #    }
          #    else if(salesLine.SalesQty > 0)
          #    {
          #        element.setReturnDetails_IN();
          #        this.linkType(FormLinkType::Passive);
          #    }
          #}
          #
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    if (isIndiaIndirectTaxParameterMarked && salesLine_IN.RecId
          #        && salesLine.SalesQty && (salesLine.creditNoteLine(salesTable) || salesTable.returnItem()))
          #    {
          #        if (!SalesLineReturnDetails_IN::findbySalesLine(salesLine_IN.RecId).RecId)
          #        {
          #            salesLineReturnDetails_IN.SalesLine_IN = salesLine_IN.RecId;
          #        }
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    if (isIndiaIndirectTaxParameterMarked)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #RetailSalesLine
          Table               #RetailSalesLine
          AllowCheck          #No
          JoinSource          #SalesLine
          LinkType            #OuterJoin
          InsertAtEnd         #No
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD LineManualDiscountPercentage
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret = super();
                #
                #    if (ret && mcrCallCenterEnabled && enableOrderPriceControl)
                #    {
                #        ret = salesLine_ds.mcrGetOverrideResponse(fieldNum(RetailSalesLine, LineManualDiscountPercentage),
                #                                                retailSalesLine.LineManualDiscountPercentage,
                #                                                fieldNum(MCRPriceOverrideMarkUpGroup, DiscPercentOverride));
                #    }
                #
                #    return ret;
                #}
              ENDSOURCE
              SOURCE #modified
                #public void modified()
                #{
                #    super();
                #
                #    salesLine.setPriceDisc(inventDim, true, retailSalesLine);
                #
                #    element.mcrRefreshMarginAlert();
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #create
          #public void create(boolean _append = false)
          #{
          #    //super(_append);
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    //super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #SalesLine_W
          Table               #SalesLine_W
          JoinSource          #SalesLine
          LinkType            #Passive
          DelayActive         #No
          InsertAtEnd         #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #write
          #public void write()
          #{
          #    if (salesLine_W.SalesLine)
          #    {
          #        // no-op because a record with an empty FK is not valid
          #        super();
          #
          #        // <GMY>
          #        if (isIsoMY)
          #        {
          #            if (SalesTable.hasLinesWithRefrence_MY() && SalesTable.hasLinesWithoutRefrence_MY())
          #            {
          #                if (!isWrnPrintedMY)
          #                {
          #                    warning("@SYP4860678");
          #                    isWrnPrintedMY = true;
          #                }
          #            }
          #            else
          #            {
          #                isWrnPrintedMY = false;
          #            }
          #        }
          #        // <GMY>
          #    }
          #}
        ENDSOURCE
        SOURCE #init
          #public void init()
          #{
          #    isSalesLineWEnabled = SysExtensionSerializerExtensionMap::isExtensionEnabled(tableNum(SalesLine_W));
          #    if (isSalesLineWEnabled)
          #    {
          #        this.linkType(FormLinkType::OuterJoin);
          #    }
          #
          #    super();
          #
          #    if (isSalesLineWEnabled)
          #    {
          #        element.formRunHelper().addExtensionTablePair(salesLine, salesLine_W);
          #    }
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean         ret;
          #
          #    if (SalesLine_W.SalesLine)
          #    {
          #        ret = super();
          #    }
          #    else
          #    {
          #        ret = true;
          #    }
          #
          #    // <GMY>
          #    if (ret && isIsoMY)
          #    {
          #        if (SalesLine_W.RefInvoiceId_MY && SalesLine_W.RefInvoiceDate_MY)
          #        {
          #            if(!CustInvoiceJour::existByInvoiceIdTransDate(SalesLine_W.RefInvoiceId_MY, SalesLine_W.RefInvoiceDate_MY))
          #            {
          #                ret = checkFailed("@SYP4860680");
          #            }
          #        }
          #        else if ((SalesLine_W.RefInvoiceId_MY && !SalesLine_W.RefInvoiceDate_MY) || (!SalesLine_W.RefInvoiceId_MY && SalesLine_W.RefInvoiceDate_MY))
          #        {
          #            ret = checkFailed("@SYP4860689");
          #        }
          #    }
          #    // <GMY>
          #
          #    return ret;
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LCE_SalesCoupons
          Table               #LCE_SalesCoupons
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LCE_CarrierInfoSalesOrder
          Table               #LCE_CarrierInfoSalesOrder
          JoinSource          #SalesTable
          InsertIfEmpty       #No
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryHeader
          Table               #LogisticsPostalAddress
          JoinSource          #SalesTable
          JoinRelation        #DeliveryPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierHeader
          Table               #LogisticsPostalAddress
          JoinSource          #SalesTable
          JoinRelation        #ShipCarrierPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryLine
          Table               #LogisticsPostalAddress
          JoinSource          #SalesLine
          JoinRelation        #DeliveryPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierLine
          Table               #LogisticsPostalAddress
          JoinSource          #SalesLine
          JoinRelation        #ShipCarrierPostalAddress_FK
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #AgreementHeaderExt_RU
          Table               #AgreementHeaderExt_RU
          JoinSource          #SalesTable_RU
          JoinRelation        #AgreementHeaderExt_RU
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #ServiceCodeTable_IN
          Table               #ServiceCodeTable_IN
          JoinSource          #SalesLine_IN
          JoinRelation        #ServiceCodeTable_IN
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #InvoicePostalAddress
          Table               #LogisticsPostalAddress
          JoinSource          #SalesTableExtensionTH
          JoinRelation        #InvoicePostalAddress
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDREFERENCEDATASOURCES
  
  JOINS
    SalesLine SalesTable
    SalesLineForeignTradeCategory SalesLine
    InventDim SalesLine
    InterCompanyPurchSalesReference SalesTable
    WHSLoadLine SalesLine
    WHSSalesLine SalesLine
    TMSSalesTable SalesTable
    EximSalesLine_IN SalesLine
    SalesLine_BR SalesLine
    SalesLine_IN SalesLine
    SalesLine_Intrastat SalesLine
    SalesTable_BR SalesTable
    SalesTable_Intrastat SalesTable
    TaxServiceTariffLine SalesLine
    TaxServiceTariffHeader SalesTable
    SalesTableSymbol SalesTable
    SalesTable_RU SalesTable
    TaxInformation_IN SalesLine_IN
    SalesTableExtensionTH SalesTable
    MCRSalesTable SalesTable
    MCRSalesTableShipping SalesTable
    MCRSalesLine SalesLine
    MCRSalesLineDropShipment SalesLine
    MCRSalesLinePriceOverride SalesLine
    MCRReturnSalesTable SalesTable
    SalesTable_W SalesTable
    SalesLineReturnDetails_IN SalesLine_IN
    RetailSalesLine SalesLine
    SalesLine_W SalesLine
    LogisticsPostalAddressDeliveryHeader SalesTable
    LogisticsPostalAddressShipCarrierHeader SalesTable
    LogisticsPostalAddressDeliveryLine SalesLine
    LogisticsPostalAddressShipCarrierLine SalesLine
    AgreementHeaderExt_RU SalesTable_RU
    ServiceCodeTable_IN SalesLine_IN
    InvoicePostalAddress SalesTableExtensionTH
    LCE_CarrierInfoSalesOrder SalesTable
  ENDJOINS
  
  PARTREFERENCES
    PARTREFERENCE #LatestSalesOrders
      PROPERTIES
        Name                #LatestSalesOrders
        MenuItemName        #SalesLatestOrdersPart
        DataSource          #SalesTable
        DataSourceRelation  #EDT.SalesTable.CustAccount
        ElementPosition     #536870911
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
    PARTREFERENCE #CustRelatedInfo
      PROPERTIES
        Name                #CustRelatedInfo
        MenuItemName        #CustRelatedInfo
        DataSource          #SalesTable
        IsLinked            #Yes
        ElementPosition     #1073741822
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
    PARTREFERENCE #MCRScriptImagePart
      PROPERTIES
        Name                #MCRScriptImagePart
        MenuItemName        #MCRSalesTableScriptImagePart
        DataSource          #SalesLine
        DataSourceRelation  #SelfLink
        IsLinked            #Yes
        ElementPosition     #1610612733
      ENDPROPERTIES
      
    ENDPARTREFERENCE
    
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #@SYS9694
      TitleDatasource     #SalesTable
      DataSource          #SalesTable
      HideIfEmpty         #No
      Style               #DetailsFormTransaction
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPaneHeader
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ContactInfoActionPane
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderCarrierContact
          Style               #Strip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #LinesActionPaneStrip
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #LineViewLines
          Style               #Strip
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab1
          ElementPosition     #1431655764
          HierarchyParent     #ContactInfoActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #aptabRetail
          AutoDeclaration     #Yes
          ConfigurationKey    #Retail
          ElementPosition     #1366580502
          HierarchyParent     #ActionPaneHeader
          Caption             #@RET3014
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #General
          AutoDeclaration     #Yes
          ElementPosition     #1561806288
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS114913
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Invoice
          AutoDeclaration     #Yes
          ElementPosition     #1171354716
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS14204
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #LineOverviewActionTab
          ElementPosition     #1431655764
          HierarchyParent     #LinesActionPaneStrip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Manage
          AutoDeclaration     #Yes
          ElementPosition     #780903144
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS115306
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #PickAndPack
          AutoDeclaration     #Yes
          ElementPosition     #976128930
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS317470
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #SalesOrder
          AutoDeclaration     #Yes
          ElementPosition     #390451572
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS19627
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #Sell
          AutoDeclaration     #Yes
          ElementPosition     #585677358
          HierarchyParent     #ActionPaneHeader
          Caption             #@SYS114644
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #TMS
          AutoDeclaration     #Yes
          ConfigurationKey    #WHSandTMS
          ElementPosition     #1952257860
          HierarchyParent     #ActionPaneHeader
          Caption             #@TRX1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #WHS
          AutoDeclaration     #Yes
          ElementPosition     #1757032074
          HierarchyParent     #ActionPaneHeader
          Caption             #@WAX13
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #btngrpAttribute
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #aptabRetail
          Caption             #@SYS334125
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #btngrpInquiries
          ElementPosition     #1789569705
          HierarchyParent     #aptabRetail
          Caption             #@SYS316992
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupActions
          ElementPosition     #1717986916
          HierarchyParent     #WHS
          Caption             #@SYS40422
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupInvoice
          ElementPosition     #1610612733
          HierarchyParent     #TMS
          Caption             #@TRX1373
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupLoads
          ElementPosition     #1288490187
          HierarchyParent     #WHS
          Caption             #@WAX312
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ButtonGroupRating
          ElementPosition     #1073741822
          HierarchyParent     #TMS
          Caption             #@SYS27110
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ContactInfoActionsButtonGroup
          ElementPosition     #1431655764
          HierarchyParent     #ActionPaneTab1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #EventNotification
          ElementPosition     #1988410782
          HierarchyParent     #SalesOrder
          Caption             #@RET4160023
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralCustomer
          ElementPosition     #920350134
          HierarchyParent     #General
          Caption             #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralMaintain
          ElementPosition     #1227133512
          HierarchyParent     #General
          Caption             #@SYS316594
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralRelatedInfo
          ElementPosition     #1687308579
          HierarchyParent     #General
          Caption             #@SYS111665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #GeneralSetup
          ElementPosition     #613566756
          HierarchyParent     #General
          Caption             #@SYS342635
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #Generate
          ElementPosition     #1357090359
          HierarchyParent     #Sell
          Caption             #@SYS26349
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #IntercompanyTracing
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1717986916
          HierarchyParent     #Manage
          Caption             #@SYS317473
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceBill
          ElementPosition     #805306365
          HierarchyParent     #Invoice
          Caption             #@SYS114665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceChange
          ElementPosition     #1610612730
          HierarchyParent     #Invoice
          Caption             #@SYS1038
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceGenerate
          ElementPosition     #536870910
          HierarchyParent     #Invoice
          Caption             #@SYS318742
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceIntroduce
          ElementPosition     #1342177275
          HierarchyParent     #Invoice
          Caption             #@SYS317556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceJournals
          ElementPosition     #1879048188
          HierarchyParent     #Invoice
          Caption             #@SYS9020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #InvoiceSettle
          ElementPosition     #1073741820
          HierarchyParent     #Invoice
          Caption             #@SYS114666
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LCE_VehicleGroup
          ElementPosition     #2040109463
          HierarchyParent     #Manage
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewActionButtonGroup
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewMainActionButtonGroup
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #LineOverviewWHS
          ElementPosition     #1717986916
          HierarchyParent     #LineOverviewActionTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageBankDocument
          ElementPosition     #1288490187
          HierarchyParent     #Manage
          Caption             #@SYS313653
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ManageCustomer
          ElementPosition     #1252698792
          HierarchyParent     #Manage
          Caption             #@SYS11779
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #MCRCoupon
          AutoDeclaration     #Yes
          ElementPosition     #1932735281
          HierarchyParent     #Manage
          Caption             #@MCR25553
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #MCRPayments
          AutoDeclaration     #Yes
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #742340024
          HierarchyParent     #SalesOrder
          Caption             #@SYS58091
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #MCRSalesOrderFunctions
          AutoDeclaration     #Yes
          ElementPosition     #1484680048
          HierarchyParent     #SalesOrder
          Caption             #@SYS81103
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackDelivery
          ElementPosition     #1431655764
          HierarchyParent     #PickAndPack
          Caption             #@SYS4508
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackGenerate
          ElementPosition     #715827882
          HierarchyParent     #PickAndPack
          Caption             #@SYS318742
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackJournals
          ElementPosition     #1789569705
          HierarchyParent     #PickAndPack
          Caption             #@SYS9020
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #PickAndPackQualityManagement
          ElementPosition     #1073741823
          HierarchyParent     #PickAndPack
          Caption             #@SYS113616
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ProcessGroup
          ElementPosition     #1550960411
          HierarchyParent     #Sell
          Caption             #@SYS114631
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #RetailPrepaymentBalance
          ConfigurationKey    #Retail
          ElementPosition     #2028178999
          HierarchyParent     #Sell
          Caption             #@RET4990
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderAttachments
          ElementPosition     #1829337920
          HierarchyParent     #SalesOrder
          Caption             #@SYS316708
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderCopy
          ElementPosition     #1113510036
          HierarchyParent     #SalesOrder
          Caption             #@SYS80350
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderList
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1670265058
          HierarchyParent     #SalesOrder
          Caption             #@SYS118440
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderModify
          ElementPosition     #556755018
          HierarchyParent     #SalesOrder
          Caption             #@SYS316703
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderNew
          ElementPosition     #371170012
          HierarchyParent     #SalesOrder
          Caption             #@SYS2055
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SalesOrderView
          ElementPosition     #1299095042
          HierarchyParent     #SalesOrder
          Caption             #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellApply
          ElementPosition     #1670265058
          HierarchyParent     #Sell
          Caption             #@SYS24973
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellCalculate
          ElementPosition     #1163220308
          HierarchyParent     #Sell
          Caption             #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellCharges
          ElementPosition     #715827882
          HierarchyParent     #Sell
          Caption             #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellCreate
          ElementPosition     #477218588
          HierarchyParent     #Sell
          Caption             #@SYS112171
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellJournals
          ElementPosition     #1908874352
          HierarchyParent     #Sell
          Caption             #@SYS2827
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #SellTax
          ElementPosition     #954437176
          HierarchyParent     #Sell
          Caption             #@SYS28668
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #ShowGroup
          AutoDeclaration     #Yes
          ElementPosition     #927925030
          HierarchyParent     #SalesOrder
          Caption             #@SYS317437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #CarrierInfoGrid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612734
          HierarchyParent     #TabHeaderCarrierContact
          MultiSelect         #No
          VisibleRows         #5
          DataSource          #LCE_CarrierInfoSalesOrder
          GridLinesStyle      #Vertical
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #LoadGrid
          DataSource          #WHSLoadLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #GridHeader
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridGroup
          VisibleCols         #7
          VisibleRows         #9
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #SalesLineGrid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #LineViewLines
          VisibleRows         #5
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Administration
          ElementPosition     #1171354716
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #Administration
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Agreement_RU
          CountryRegionCodes  #RU
          ElementPosition     #2013265915
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS15240
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ART_Custom
          ElementPosition     #1073741822
          HierarchyParent     #TabPagePacking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Asset_RU
          ElementPosition     #2130706430
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #FixedAssets_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BankAccounts_LV
          ElementPosition     #1932735281
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #BankAccounts_LV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Barcode
          ElementPosition     #858993458
          HierarchyParent     #TabPagePacking
          DataSource          #SalesLine
          DataGroup           #Barcode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Baseinfo
          ElementPosition     #536870910
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS19627
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #BomRoute
          ElementPosition     #1879048188
          HierarchyParent     #TabPageProduct
          Caption             #@SYS22227
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Campaign
          ElementPosition     #920350134
          HierarchyParent     #GroupReferences
          FrameType           #None
          DataSource          #SalesTable
          DataGroup           #Campaign
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CarrierInfo
          AutoDeclaration     #Yes
          ElementPosition     #1342177278
          HierarchyParent     #DeliveryDoubleColumnGroup
          DataSource          #SalesTable
          DataGroup           #CarrierInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CarrierInfoLine
          ElementPosition     #1503238551
          HierarchyParent     #TabLineDelivery
          DataSource          #SalesLine
          DataGroup           #CarrierInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Commission
          ElementPosition     #780903144
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #Commission
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CompanyInfo
          AutoDeclaration     #Yes
          ElementPosition     #429496728
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYP4860563
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ConsTarget_JP
          AutoDeclaration     #Yes
          CountryRegionCodes  #JP
          ElementPosition     #1879048190
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataGroup           #ConsTarget_JP
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ContactInfo
          ElementPosition     #1073741820
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTable
          DataGroup           #ContactInfo
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CopyOfLineViewDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1840700268
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CopyOfLineViewTMSHeader
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderTMS
          Caption             #@TRX607
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Currency
          ElementPosition     #858993458
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #CurrencyShow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Customer
          VerticalSpacing     #5
          ElementPosition     #715827882
          HierarchyParent     #GroupCustomer
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CustomerReturns_IN
          AutoDeclaration     #Yes
          ElementPosition     #2093796553
          HierarchyParent     #TabLineSetup
          Caption             #@SYS4004286
          DataSource          #SalesLineReturnDetails_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Customs_IN
          AutoDeclaration     #Yes
          ElementPosition     #1181116002
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5007
          DataSource          #SalesLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DateAndTime
          ElementPosition     #1890868500
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS112412
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Delivery
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@SYS16056
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryAddressHeaderOverview
          ElementPosition     #715827882
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryDoubleColumnGroup
          ElementPosition     #1145324610
          HierarchyParent     #TabHeaderDelivery
          FrameType           #None
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliveryHeaderOverview
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS16056
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DeliverySalesTax_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #1610612730
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #DeliverySalesTax_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Disc
          ElementPosition     #858993458
          HierarchyParent     #TabLinePriceDisc
          Caption             #@SYS11829
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DiscMarkup
          ElementPosition     #1717986916
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataGroup           #DiscountMiscCharges
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoice
          AutoDeclaration     #Yes
          ElementPosition     #976128930
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #EInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoice_MX
          AutoDeclaration     #Yes
          CountryRegionCodes  #MX
          ElementPosition     #1908874352
          HierarchyParent     #TabPageProduct
          DataSource          #SalesLine
          DataGroup           #EletronicInvoice_MX
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EInvoiceLine
          AutoDeclaration     #Yes
          ElementPosition     #1932735276
          HierarchyParent     #TabLineSetup
          Caption             #@SYS5779
          DataSource          #SalesLine
          DataGroup           #EInvoice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EntryCertificate_W
          ElementPosition     #2146959358
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable_W
          DataGroup           #EntryCertificate_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Excise_IN
          AutoDeclaration     #Yes
          ElementPosition     #751619274
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5005
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #EximIncentiveScheme_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1503238548
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS61737
          DataSource          #EximSalesLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ExternalRefernces
          ElementPosition     #1073741823
          HierarchyParent     #TabLineGeneral
          Caption             #@SYS318616
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FiscalDocType_PL
          CountryRegionCodes  #PL
          ElementPosition     #2024704929
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #FiscalDocType_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FiscalInformation_BR
          ElementPosition     #1431655764
          HierarchyParent     #TabLineFiscalInformation_BR
          DataSource          #SalesLine_BR
          DataGroup           #FiscalInformation_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #FLC_ProductAgreement
          AutoDeclaration     #Yes
          ElementPosition     #2028178999
          HierarchyParent     #TabPageProduct
          Caption             #Product Agreement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTrade
          ElementPosition     #858993458
          HierarchyParent     #TabPageForeignTrade
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ForeignTradeCategory
          ElementPosition     #1288490187
          HierarchyParent     #TabPageForeignTrade
          FrameType           #None
          DataSource          #SalesLineForeignTradeCategory
          DataGroup           #ForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Format_MY
          ElementPosition     #2080374780
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTable_W
          DataGroup           #Format_MY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GiftCard
          ConfigurationKey    #RetailGiftCard
          ElementPosition     #1932735281
          HierarchyParent     #TabPagePacking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GiftCardPhysical
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #GiftCard
          DataSource          #MCRSalesLine
          DataGroup           #GiftCardPhysical
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GiftCardVirtual
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #GiftCard
          DataSource          #MCRSalesLine
          DataGroup           #GiftCardVirtual
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GiroMoneyTransferSlip
          ElementPosition     #1561806288
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS316960
          DataSource          #SalesTable
          DataGroup           #GiroMoneyTransferSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridGroup
          ElementPosition     #1431655764
          HierarchyParent     #TabPageGrid
          Style               #BorderlessGridContainer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Group
          ElementPosition     #715827882
          HierarchyParent     #Customer
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupColumnLast
          ElementPosition     #1717986916
          HierarchyParent     #TabPageForeignTrade
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCreditNote
          ElementPosition     #1073741822
          HierarchyParent     #TabCreditNote
          Caption             #@GLS220480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCustomer
          ElementPosition     #805306365
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupCustomerReturnPeriod
          ElementPosition     #1717986916
          HierarchyParent     #CustomerReturns_IN
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupDiscountHeaderOverview
          ElementPosition     #1521134249
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS335044
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupHeaderAddress
          ElementPosition     #1073741823
          HierarchyParent     #HeaderDeliveryAddress
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupHeaderAddressHeaderOverview
          ElementPosition     #1073741823
          HierarchyParent     #DeliveryAddressHeaderOverview
          FrameType           #None
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLineDeliveryAddressRef
          ElementPosition     #1288490187
          HierarchyParent     #TabPageAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupLineViewHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #LineViewHeader
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupNotificationToTheCentralBank
          AutoDeclaration     #Yes
          ElementPosition     #1757032074
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #NotificationToTheCentralBank
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupOriginalInvoice
          ElementPosition     #1610612733
          HierarchyParent     #TabCreditNote
          Caption             #@SYS300088
          DataSource          #CustInvoiceTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupProductModel
          ElementPosition     #1193046470
          HierarchyParent     #TabPageProduct
          Caption             #@SYS40117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupReferences
          ElementPosition     #1879048186
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS14018
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupReferencesHeaderOverview
          ElementPosition     #1297438036
          HierarchyParent     #GroupLineViewHeader
          Caption             #@SYS14018
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GroupStatus
          ElementPosition     #1342177275
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS36398
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderDeliveryAddress
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1744830461
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS306383
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderFiscalInformation
          ElementPosition     #858993458
          HierarchyParent     #TabHeaderFiscalInformation_BR
          Caption             #@GLS56
          DataSource          #SalesTable_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderForeignTrade
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderForeignTrade
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #HeaderInfo
          ElementPosition     #1073741822
          HierarchyParent     #TabPageDetails
          FrameType           #None
          Style               #DetailTitleContainer
          Columns             #Auto
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #IndiaSalesTax
          AutoDeclaration     #Yes
          ElementPosition     #858993456
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS5878
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InterCompanyAdmin
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderIntercompanySettings
          FrameType           #None
          DataSource          #SalesTable
          DataGroup           #IntercompanyAdmin
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InterestAndFine_BR
          CountryRegionCodes  #BR
          ElementPosition     #1556925642
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable_BR
          DataGroup           #InterestAndFine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Intrastat
          ElementPosition     #1789569705
          HierarchyParent     #TabHeaderForeignTrade
          FrameType           #None
          DataSource          #SalesTable_Intrastat
          DataGroup           #Intrastat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Intrastat1
          ElementPosition     #1073741822
          HierarchyParent     #TabPageForeignTrade
          FrameType           #None
          DataSource          #SalesLine_Intrastat
          DataGroup           #Intrastat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Inventory
          ElementPosition     #1610612730
          HierarchyParent     #TabHeaderGeneral
          Caption             #@SYS108783
          DataSource          #SalesTable
          DataGroup           #Inventory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventoryDimensionsGrid
          AutoDeclaration     #Yes
          ElementPosition     #775480199
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #InventDim
          DataGroup           #InventoryDimensions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InventProfile_RU
          ElementPosition     #2146435070
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable_RU
          DataGroup           #InventProfile_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #InvoiceAddress_TH
          CountryRegionCodes  #TH
          ElementPosition     #1946157053
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS54098
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ItemReference
          AllowEdit           #No
          ElementPosition     #1431655764
          HierarchyParent     #TabPageProduct
          DataSource          #SalesLine
          DataGroup           #ItemReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineCommission
          ElementPosition     #1288490184
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #Commission
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineCratedDateTime
          ElementPosition     #1717986912
          HierarchyParent     #TabLineSetup
          Caption             #@SYS112412
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDelivery
          AutoDeclaration     #Yes
          ElementPosition     #596523234
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS16056
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDeliveryAddress
          ElementPosition     #858993458
          HierarchyParent     #TabPageAddress
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1932735281
          HierarchyParent     #TabPageAddress
          Caption             #@GLS221489
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineInventory
          AutoDeclaration     #Yes
          ElementPosition     #429496728
          HierarchyParent     #TabLineSetup
          Caption             #@SYS981
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LinePosting
          ElementPosition     #858993456
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #Posting
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #lineRFIDTaggingLevel
          ElementPosition     #1717986916
          HierarchyParent     #TabPagePacking
          DataSource          #SalesLine
          DataGroup           #RFIDTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineSalesTax
          ElementPosition     #1073741820
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #SalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineViewDlvAddressFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1968526675
          HierarchyParent     #DeliveryAddressHeaderOverview
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineViewTMSHeader
          ElementPosition     #1968526675
          HierarchyParent     #GroupLineViewHeader
          Caption             #@TRX1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineViewWHSHeader
          ElementPosition     #1610612734
          HierarchyParent     #GroupLineViewHeader
          Caption             #@WAX13
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineWithholdingTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #2040109461
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine_IN
          DataGroup           #WithholdingTax_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LineWithholdTax
          AutoDeclaration     #Yes
          CountryRegionCodes  #TH,SA,GB,IE,BR
          ElementPosition     #1503238548
          HierarchyParent     #TabLineSetup
          DataSource          #SalesLine
          DataGroup           #WithholdingTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #LoadGrid
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #TabWHSLoads
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRAddressGroup
          ElementPosition     #1073741823
          HierarchyParent     #MCRGroupLineViewHeader
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRCustomerGroup
          ElementPosition     #715827882
          HierarchyParent     #MCRGroupLineViewHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDeliveryAddressHeaderOverview
          ElementPosition     #1073741822
          HierarchyParent     #MCRAddressGroup
          Caption             #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDeliveryAndDiscounts
          ElementPosition     #1431655764
          HierarchyParent     #MCRGroupLineViewHeader
          FrameType           #None
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDeliveryDetails
          ElementPosition     #1073741822
          HierarchyParent     #MCRDeliveryAndDiscounts
          Caption             #@MCR35884
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDeliveryHeaderOverview
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #MCRAddressGroup
          Caption             #@SYS16056
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDetails
          AutoDeclaration     #Yes
          ElementPosition     #1565873491
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@SYS136132
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRDropShip
          AutoDeclaration     #Yes
          ElementPosition     #1360072975
          HierarchyParent     #TabLineDelivery
          Caption             #@MCR23774
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRExpedite
          ElementPosition     #894784852
          HierarchyParent     #TabLineDelivery
          Caption             #@MCR21525
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRGroupDiscountHeaderOverview
          ElementPosition     #1610612734
          HierarchyParent     #MCRDeliveryAndDiscounts
          Caption             #@SYS335044
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRGroupHeaderAddressHeaderOverview
          ElementPosition     #920350134
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
          FrameType           #None
          Style               #MarginlessContainer
          DataSource          #SalesTable
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRGroupLineViewHeader
          AutoDeclaration     #Yes
          Visible             #No
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #1610612734
          HierarchyParent     #LineViewHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRGroupReferencesHeaderOverview
          ElementPosition     #1789569705
          HierarchyParent     #MCRGroupLineViewHeader
          Caption             #@SYS14018
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRPriceGroup
          AutoDeclaration     #Yes
          ElementPosition     #1364546899
          HierarchyParent     #TabPageProduct
          Caption             #@SYS4707
          DataSource          #MCRSalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRPriceOverride
          AutoDeclaration     #Yes
          ElementPosition     #1431655763
          HierarchyParent     #TabLinePriceDisc
          Caption             #@MCR10725
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRProductAttributes
          ElementPosition     #1073741823
          HierarchyParent     #TabPageProduct
          Caption             #@SYS132100
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MCRSimulateDeliveryDatesGroup
          ElementPosition     #1431655764
          HierarchyParent     #MCRDeliveryHeaderOverview
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Measurement
          ElementPosition     #1431655764
          HierarchyParent     #GroupColumnLast
          Caption             #@SYS34825
          DataSource          #SalesLineForeignTradeCategory
          DataGroup           #Measurement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MiscDelivery
          AutoDeclaration     #Yes
          ElementPosition     #1767200083
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@SYS102988
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #MiscLineDelivery
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS102988
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #NoteFormat_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1744830457
          HierarchyParent     #TabHeaderGeneral
          DataSource          #SalesTableExtensionTH
          DataGroup           #NoteFormat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #OrderLine
          ElementPosition     #715827882
          HierarchyParent     #TabLineGeneral
          Caption             #@SYS22920
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Packagingmaterial
          ConfigurationKey    #InventPackaging
          ElementPosition     #1288490187
          HierarchyParent     #TabPagePacking
          DataSource          #SalesLine
          DataGroup           #PackagingMaterial
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Payment
          AutoDeclaration     #Yes
          ElementPosition     #1395864369
          HierarchyParent     #TabHeaderPriceCalc
          Caption             #@SYS333953
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PdsCWMain
          ElementPosition     #417566261
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataGroup           #PdsCWMain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PdsRebate
          ElementPosition     #1360072975
          HierarchyParent     #TabLinePriceDisc
          DataSource          #SalesLine
          DataGroup           #PdsRebate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PhysDims
          ElementPosition     #1073741822
          HierarchyParent     #TabWHSLoads
          ArrangeMethod       #Horizontal, flush right
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Posting
          ElementPosition     #585677358
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS5943
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Potency
          ElementPosition     #1503238551
          HierarchyParent     #TabLinePriceDisc
          Caption             #@PSC311
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Price_RU
          ElementPosition     #1073741822
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable_RU
          DataGroup           #Price_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Prices
          ElementPosition     #1288490187
          HierarchyParent     #TabLinePriceDisc
          Caption             #@SYS12983
          DataSource          #SalesLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ProductDimensions
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #TabPageProduct
          Caption             #@SYS133228
          DataSource          #InventDim
          DataGroup           #productDimensions
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Project
          ElementPosition     #1431655764
          HierarchyParent     #TabLineProject
          FrameType           #None
          DataSource          #SalesLine
          DataGroup           #SalesOrderProject
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Reservation
          ElementPosition     #1073741823
          HierarchyParent     #TabHeaderSetup
          Caption             #@SYS981
          DataSource          #SalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Return
          ElementPosition     #644245092
          HierarchyParent     #TabLineSetup
          Caption             #@SYS24700
          DataSource          #SalesLine
          DataGroup           #ReturnGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #RFIDTaggingLevel
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderPacking
          DataSource          #SalesTable
          DataGroup           #RFIDTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesAvailableDlvDatesHeaderGroup
          ElementPosition     #805306365
          HierarchyParent     #Delivery
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesAvailableDlvDatesLineGroup
          ElementPosition     #1380525200
          HierarchyParent     #LineDelivery
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesLine_DeliveryPostalAddressGroup
          ElementPosition     #1610612734
          HierarchyParent     #LineDeliveryAddress
          Style               #MarginlessContainer
          Columns             #3
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesLineIntercompany
          ElementPosition     #1431655764
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #Intercompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesLineStatus
          ElementPosition     #1789569705
          HierarchyParent     #TabLineGeneral
          DataSource          #SalesLine
          DataGroup           #Status
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesTableTimeZoneDelivery
          ElementPosition     #1717986916
          HierarchyParent     #TabHeaderDelivery
          Caption             #@SYS110097
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SalesTax
          ElementPosition     #390451572
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #SalesTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ServiceTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #1717986912
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5006
          DataSource          #SalesLine_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ShipCarrierAddr
          ConfigurationKey    #ShipCarrier
          ElementPosition     #1409286141
          HierarchyParent     #TabHeaderAddress
          Caption             #@SYS116845
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #ShipCarrierLineAddress
          ConfigurationKey    #ShipCarrier
          ElementPosition     #1610612734
          HierarchyParent     #TabPageAddress
          Caption             #@SYS116845
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SimulateDeliveryDatesGroup
          ElementPosition     #1252698793
          HierarchyParent     #DeliveryHeaderOverview
          Style               #MarginlessContainer
          Columns             #2
          Columnspace         #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #StorageDimensions
          AutoDeclaration     #Yes
          ElementPosition     #954437176
          HierarchyParent     #TabPageProduct
          Caption             #@SYS108783
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Suframa_BR
          ElementPosition     #1073741822
          HierarchyParent     #TabLinePriceDisc
          DataSource          #SalesLine_BR
          DataGroup           #Suframa_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #SuframaRegion_BR
          CountryRegionCodes  #BR
          ElementPosition     #1288490187
          HierarchyParent     #TabHeaderFiscalInformation_BR
          Caption             #@GLS128
          DataSource          #SalesTable_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TAMRebate
          ElementPosition     #1234803095
          HierarchyParent     #TabHeaderPriceCalc
          Caption             #@MCR24921
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TimeZoneDelivery
          ElementPosition     #1789569705
          HierarchyParent     #TabLineDelivery
          Caption             #@SYS110097
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TMSTransportation
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #DeliveryDoubleColumnGroup
          Caption             #@TRX536
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #TrackingDimensions
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #TabPageProduct
          Caption             #@SYS317445
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Transport
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #DeliveryDoubleColumnGroup
          DataSource          #SalesTable
          DataGroup           #Transport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VAT
          AutoDeclaration     #Yes
          ElementPosition     #644245092
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@GLS5004
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VAT_IN
          ElementPosition     #1073741822
          HierarchyParent     #VAT
          FrameType           #None
          DataSource          #TaxInformation_IN
          DataGroup           #VAT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WHSStatus
          ElementPosition     #1431655764
          HierarchyParent     #TabHeaderWHS
          Caption             #@SYS36398
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax
          AutoDeclaration     #Yes
          ElementPosition     #1932735279
          HierarchyParent     #TabTaxInformation_IN
          Caption             #@SYS7372
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #WithholdingTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #2145386494
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataGroup           #WithholdingTax_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonHeaderTradeAgreements
          AutoDeclaration     #Yes
          HelpText            #@SYS69473
          ElementPosition     #477218588
          HierarchyParent     #GeneralCustomer
          Text                #@SYS115266
          ButtonDisplay       #Text & Image left
          NormalImage         #12430
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonLineInventory
          AutoDeclaration     #Yes
          HelpText            #@SYS69645
          ElementPosition     #1227133512
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS981
          ButtonDisplay       #Text & Image left
          NormalImage         #10932
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // <GEEPL>
            #    boolean     isExternalItem;
            #    int         controlCount, i;
            #    FormControl curControl;
            #    // </GEEPL>
            #
            #    // Don't allow inventory reservation for continuity items
            #    if (mcrSalesLine.ContinuityScheduleId)
            #    {
            #        buttonLineInventReservation.enabled (false);
            #    }
            #
            #    if (buttonLineInventTrans.visible() &&
            #        buttonLineInventTrans.enabled())
            #    {
            #        buttonLineInventTransGoodsInRoute_RU.visible(salesLine.hasInventTransGoodsInRoute_RU());
            #    }
            #
            #    // <GEEPL>
            #    if (countryRegion_PL)
            #    {
            #        isExternalItem = !salesLine.isCategoryBased() && (salesLine.inventDim().inventLocation().InventLocationType == InventLocationType::PlExternalItems);
            #
            #        controlCount = buttonLineInventory.controlCount();
            #        for (i = 1; i <= controlCount; i++)
            #        {
            #            curControl = buttonLineInventory.controlNum(i);
            #            curControl.enabled(! isExternalItem);
            #        }
            #
            #        plInventExternalReserve.visible (isExternalItem);
            #        plInventSumExternal.visible     (true);
            #
            #        plInventExternalReserve.enabled (isExternalItem);
            #        plInventSumExternal.enabled     (true);
            #    }
            #    else
            #    {
            #        plInventExternalReserve.visible (false);
            #        plInventSumExternal.visible     (false);
            #    }
            #    // </GEEPL>
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #ButtonLineInventorySMB
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@SYS69645
          ElementPosition     #1380525201
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS981
          ButtonDisplay       #Text & Image left
          NormalImage         #10932
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // <GEEPL>
            #    boolean     isExternalItem;
            #    int         controlCount, i;
            #    FormControl curControl;
            #    // </GEEPL>
            #
            #    // Don't allow inventory reservation for continuity items
            #    if (mcrSalesLine.ContinuityScheduleId)
            #    {
            #        buttonLineInventReservation.enabled (false);
            #    }
            #
            #    if (buttonLineInventTrans.visible() &&
            #        buttonLineInventTrans.enabled())
            #    {
            #        buttonLineInventTransGoodsInRoute_RU.visible(salesLine.hasInventTransGoodsInRoute_RU());
            #    }
            #
            #    // <GEEPL>
            #    if (countryRegion_PL)
            #    {
            #        isExternalItem = !salesLine.isCategoryBased() && (salesLine.inventDim().inventLocation().InventLocationType == InventLocationType::PlExternalItems);
            #
            #        controlCount = buttonLineInventory.controlCount();
            #        for (i = 1; i <= controlCount; i++)
            #        {
            #            curControl = buttonLineInventory.controlNum(i);
            #            curControl.enabled(! isExternalItem);
            #        }
            #
            #        plInventExternalReserve.visible (isExternalItem);
            #        plInventSumExternal.visible     (true);
            #
            #        plInventExternalReserve.enabled (isExternalItem);
            #        plInventSumExternal.enabled     (true);
            #    }
            #    else
            #    {
            #        plInventExternalReserve.visible (false);
            #        plInventSumExternal.visible     (false);
            #    }
            #    // </GEEPL>
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #CreateActivity
          HelpText            #@SYS26027
          ElementPosition     #715827882
          HierarchyParent     #GeneralCustomer
          Text                #@SYS38378
          NormalImage         #10197
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #CreditCard
          AutoDeclaration     #Yes
          HelpText            #@SYS116961
          ElementPosition     #1073741822
          HierarchyParent     #ManageCustomer
          Text                #@SYS101746
          ButtonDisplay       #Text & Image left
          NormalImage         #12446
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #GeneralCustomerCases
          HelpText            #@SYS310451
          ElementPosition     #954437176
          HierarchyParent     #GeneralCustomer
          Text                #@SYS130461
          ButtonDisplay       #Text & Image left
          NormalImage         #11229
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripFinancials
          HelpText            #@SYS80043
          ElementPosition     #920350134
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS80043
          ButtonDisplay       #Text & Image left
          NormalImage         #10694
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // <GEEU>
            #
            #    buttonChangeTaxGroups.enabled(salesTable.SalesStatus != SalesStatus::Invoiced   &&
            #                           salesLine.InventTransIdReturn                            &&
            #                           salesLine.CreditNoteInternalRef_PL);
            #    // </GEEU>
            #
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripFinancialsSMB
          Visible             #No
          HelpText            #@SYS80043
          ElementPosition     #1073741823
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS80043
          ButtonDisplay       #Text & Image left
          NormalImage         #10694
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    // <GEEU>
            #
            #    buttonChangeTaxGroups.enabled(salesTable.SalesStatus != SalesStatus::Invoiced   &&
            #                           salesLine.InventTransIdReturn                            &&
            #                           salesLine.CreditNoteInternalRef_PL);
            #    // </GEEU>
            #
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripProduct
          HelpText            #@SYS317849
          ElementPosition     #1585047453
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS317847
          ButtonDisplay       #Text & Image left
          NormalImage         #12422
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    // <GIN>
            #    if (TaxParameters::isCustomsEnable_IN()
            #        && EximParameters_IN::checkParameters())
            #    {
            #        element.enableEximInquiry_IN();
            #    }
            #    // </GIN>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripSalesLine
          HelpText            #@SYS69510
          ElementPosition     #511305630
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS123905
          ButtonDisplay       #Text & Image left
          NormalImage         #11046
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripSalesLineSMB
          Visible             #No
          HelpText            #@SYS69510
          ElementPosition     #766958445
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS123905
          ButtonDisplay       #Text & Image left
          NormalImage         #11046
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripUpdate
          HelpText            #@SYS28285
          ElementPosition     #1789569705
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS58728
          ButtonDisplay       #Text & Image left
          NormalImage         #12545
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #LineStripUpdateSMB
          Visible             #No
          HelpText            #@SYS28285
          ElementPosition     #1994091957
          HierarchyParent     #LineOverviewActionButtonGroup
          Text                #@SYS58728
          ButtonDisplay       #Text & Image left
          NormalImage         #12545
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #mbTemplatesButton
          AutoDeclaration     #Yes
          HelpText            #@SYS345469
          ElementPosition     #613566756
          HierarchyParent     #SalesOrderAttachments
          Text                #@SYS345468
          NormalImage         #12723
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #SendEmail
          AutoDeclaration     #Yes
          HelpText            #@RET4170063
          ElementPosition     #1073741822
          HierarchyParent     #EventNotification
          Text                #@RET4170062
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #    RetailEventNotificationAction::creditCardProcessCompletion(
            #                                    false,
            #                                    CreditCardPaymentErrors::construct(),
            #                                    CreditCardOperation::Authorize,
            #                                    true,
            #                                    salesTable);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUBUTTON
        PROPERTIES
          Name                #WHSLineStripMenuButton
          HelpText            #@SYS6437
          ElementPosition     #1431655764
          HierarchyParent     #LineOverviewWHS
          Text                #@SYS6437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_WorkerSalesResponsible
          ElementPosition     #536870910
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #WorkerSalesResponsible
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Administration_WorkerSalesTaker
          ElementPosition     #805306365
          HierarchyParent     #Administration
          DataSource          #SalesTable
          ReferenceField      #WorkerSalesTaker
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Agreement_RU_AgreementHeaderExt_RU
          ElementPosition     #1073741822
          HierarchyParent     #Agreement_RU
          DataSource          #SalesTable_RU
          ReferenceField      #AgreementHeaderExt_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #CopyOfReferenceGroup
          ElementPosition     #858993458
          HierarchyParent     #GroupHeaderAddressHeaderOverview
          DataSource          #SalesTable
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Customs_IN_CustomsTariffCodeTable_IN
          ElementPosition     #1610612733
          HierarchyParent     #Customs_IN
          DataSource          #SalesLine_IN
          ReferenceField      #CustomsTariffCodeTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Excise_IN_ExciseTariffCodes_IN
          ElementPosition     #173534032
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          ReferenceField      #ExciseTariffCodes_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesLine_IN_EximIncentiveSchemeGroup
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1503238549
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          ReferenceField      #EximIncentiveSchemeGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesLine_IN_EximPorts
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1717986914
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          ReferenceField      #EximPorts
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #EximSalesLine_IN_EximProductGroupTable
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1932735279
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          ReferenceField      #EximProductGroupTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #FiscalInformation_BR_CFOPTable_BR
          ElementPosition     #1073741823
          HierarchyParent     #FiscalInformation_BR
          DataSource          #SalesLine_BR
          ReferenceField      #CFOPTable_BR
          Label               #@GLS200
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #FiscalInformation_BR_FiscalDocumentType_BR
          ElementPosition     #715827882
          HierarchyParent     #FiscalInformation_BR
          DataSource          #SalesLine_BR
          ReferenceField      #FiscalDocumentType_BR
          ReplacementFieldGroup #FiscalDocumentTypeReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #LineWithholdTax_TaxWithholdItemGroupHeading_TH
          ElementPosition     #1073741822
          HierarchyParent     #LineWithholdTax
          DataSource          #SalesLine
          ReferenceField      #TaxWithholdItemGroupHeading_TH
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #MCRReferenceGroup1
          ElementPosition     #858993458
          HierarchyParent     #MCRGroupHeaderAddressHeaderOverview
          DataSource          #SalesTable
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #OriginalInvoice_SalesCategory
          ElementPosition     #1193046470
          HierarchyParent     #GroupOriginalInvoice
          DataSource          #CustInvoiceTrans
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Payment_DirectDebitMandate
          ElementPosition     #2098677199
          HierarchyParent     #Payment
          DataSource          #SalesTable
          ReferenceField      #DirectDebitMandate
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookupReference
            #public Common lookupReference()
            #{
            #    return CustDirectDebitMandate::lookupReference(
            #        salesTable.InvoiceAccount,
            #        this);
            #}
            #
          ENDSOURCE
          SOURCE #resolveReference
            #public Common resolveReference()
            #{
            #    return CustDirectDebitMandate::resolveReference(
            #        salesTable.InvoiceAccount,
            #        this);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ReferenceGroup
          ElementPosition     #1113510038
          HierarchyParent     #GroupHeaderAddress
          DataSource          #SalesTable
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #Sales_SalesCategory
          ElementPosition     #858993458
          HierarchyParent     #OrderLine
          DataSource          #SalesLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_CFOPTable_BR
          ElementPosition     #656175553
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine_BR
          ReferenceField      #CFOPTable_BR
          Label               #@GLS200
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_CompanyLocation_IN
          HelpText            #@GLS222760
          ElementPosition     #795364312
          HierarchyParent     #CompanyInfo
          DataSource          #SalesLine_IN
          ReferenceField      #CompanyLocation_IN
          Label               #@SYS33556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_DeliveryPostalAddress
          ElementPosition     #858993458
          HierarchyParent     #SalesLine_DeliveryPostalAddressGroup
          DataSource          #SalesLine
          ReferenceField      #DeliveryPostalAddress
          ReplacementFieldGroup #LocationReference
          Label               #@SYS7924
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_IN_TaxWithholdCountryRegionToRemittance_IN
          ElementPosition     #1789569705
          HierarchyParent     #WithholdingTax
          DataSource          #SalesLine_IN
          ReferenceField      #TaxWithholdCountryRegionToRemittance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_IN_TaxWithholdNatureOfRemittance_IN
          ElementPosition     #1073741823
          HierarchyParent     #WithholdingTax
          DataSource          #SalesLine_IN
          ReferenceField      #TaxWithholdNatureOfRemittance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_SalesCategory
          ElementPosition     #357913938
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          ReferenceField      #SalesCategory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_SalesTaxFormTypes_IN
          ElementPosition     #1610612734
          HierarchyParent     #IndiaSalesTax
          DataSource          #SalesLine_IN
          ReferenceField      #SalesTaxFormTypes_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLine_TaxInventVATCommodityCode_IN
          ElementPosition     #1610612734
          HierarchyParent     #VAT
          DataSource          #SalesLine_IN
          ReferenceField      #TaxInventVATCommodityCode_IN
          ReplacementFieldGroup #CommodityCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    Query                   query = new Query();
            #    SysReferenceTableLookup sysReferenceTableLookup;
            #    QueryBuildDataSource    queryBuildDataSource;
            #
            #    sysReferenceTableLookup = SysReferenceTableLookup::newParameters(tableNum(TaxInventVATCommodityCode_IN), this);
            #    sysReferenceTableLookup.addLookupfield(fieldNum(TaxInventVATCommodityCode_IN, CommodityCode));
            #    sysReferenceTableLookup.addLookupfield(fieldNum(TaxInventVATCommodityCode_IN, Description));
            #    sysReferenceTableLookup.addLookupfield(fieldNum(TaxInventVATCommodityCode_IN, LogisticsAddressStateId));
            #
            #    queryBuildDataSource = query.addDataSource(tableNum(TaxInventVATCommodityCode_IN));
            #
            #    queryBuildDataSource.addRange(fieldNum(TaxInventVATCommodityCode_IN, ItemId)).value(queryValue(salesLine.ItemId));
            #    sysReferenceTableLookup.parmQuery(query);
            #
            #    sysReferenceTableLookup.performFormLookup();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesLineTaxExtensionIN_TaxInformation
          ElementPosition     #1696777201
          HierarchyParent     #CompanyInfo
          DataSource          #SalesLine_IN
          ReferenceField      #TaxInformation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_LCE_CouponCode
          ElementPosition     #2116805307
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          ReferenceField      #LCE_CouponCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean ret;
            #
            #    LCE_SalesCoupons LCE_SalesCouponsLocal;
            #    ret =super();
            #
            #    //<<catalina.leonte.LCE_SalesCoupons_02/21/2018
            #
            #    ttsBegin;
            #
            #    LCE_SalesCouponsLocal = LCE_SalesCoupons::findByRecId(this.value(), true);
            #
            #    //4.1  Validate if the coupon entered is for the customer that was used on the sales order
            #    if (LCE_SalesCouponsLocal.CustAccount != SalesTable.CustAccount)
            #    {
            #        ret = false;
            #        warning ("Coupon code entered is not valid for this customer. Please provide a valid coupon code");
            #    }
            #    //4.2    Validate if the coupon code has expired
            #    else if (LCE_SalesCouponsLocal.EndDate <= systemDateGet() && LCE_SalesCouponsLocal.EndDate != dateNull())
            #    {
            #        ret = false;
            #        warning ( "Coupon code entered has expired. Please provide an active coupon code.");
            #    }
            #    //4.3    Validate if the coupon code has already been used
            #    else if (LCE_SalesCouponsLocal.Used == NoYes::Yes)
            #    {
            #        ret = false;
            #        warning ("Coupon code has already been used. Please provide a valid coupon.");
            #    }
            #    //Check if the coupon is available (FromDate)
            #    else if (LCE_SalesCouponsLocal.FromDate <= systemDateGet())
            #    {
            #
            #       /* if (str2int64(oldCoupon) != 0 && LCE_SalesCoupons::findByRecId(str2int64(oldCoupon)) )
            #        {
            #            LCE_SalesCoupons::findByRecId(str2int64(oldCoupon), true);
            #            LCE_SalesCoupons.Used = NoYes::No;
            #            LCE_SalesCoupons.update();
            #        }*/
            #        LCE_SalesCouponsLocal.Used = NoYes::Yes;
            #        LCE_SalesCouponsLocal.SalesOrder = SalesTable.SalesId;
            #        LCE_SalesCouponsLocal.update();
            #    }
            #    else
            #    {
            #        ret = false;
            #        warning ("This sales coupon is not available now. Please choose another coupon.");
            #    }
            #
            #    ttsCommit;
            #    //>>catalina.leonte.LCE_SalesCoupons_02/21/2018
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_SalesPurchOperationType_BR
          ElementPosition     #715827882
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          ReferenceField      #SalesPurchOperationType_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTable_TaxAgent_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #2086126969
          HierarchyParent     #GroupReferences
          DataSource          #SalesTableExtensionTH
          ReferenceField      #TaxAgent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTableExtensionTH_InvoicePostalAddress
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceAddress_TH
          DataSource          #SalesTableExtensionTH
          ReferenceField      #InvoicePostalAddress
          ReplacementFieldGroup #LocationReference
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #SalesTableSymbol_BankConstantSymbol
          ElementPosition     #2049870753
          HierarchyParent     #Payment
          DataSource          #SalesTableSymbol
          ReferenceField      #BankConstantSymbol
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTariffNumberHeader
          ElementPosition     #2013265917
          HierarchyParent     #HeaderForeignTrade
          DataSource          #TaxServiceTariffHeader
          ReferenceField      #ServiceTariffNumber
          ReplacementFieldGroup #ServiceTariffId
          Label               #@GLS115893
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTariffNumberLine
          HelpText            #@GLS115894
          ElementPosition     #2102744402
          HierarchyParent     #ForeignTrade
          DataSource          #TaxServiceTariffLine
          ReferenceField      #ServiceTariffNumber
          ReplacementFieldGroup #ServiceTariffId
          Label               #@GLS115893
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #ServiceTax_IN_ServiceCodeTable_IN
          ElementPosition     #1610612733
          HierarchyParent     #ServiceTax_IN
          DataSource          #SalesLine_IN
          ReferenceField      #ServiceCodeTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ECCNumber
          AutoDeclaration     #Yes
          ElementPosition     #151842278
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ECCNumber
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_IECRegistrationNumberTable
          ElementPosition     #1073741822
          HierarchyParent     #Customs_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #IECRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_ManECCRegistrationNumberTable
          AutoDeclaration     #Yes
          ElementPosition     #108458770
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #ManECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_SalesTaxRegistrationNumber
          ElementPosition     #1073741822
          HierarchyParent     #IndiaSalesTax
          DataSource          #TaxInformation_IN
          ReferenceField      #SalesTaxRegistrationNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_STCRegistrationNumberTable
          ElementPosition     #1073741822
          HierarchyParent     #ServiceTax_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #STCRegistrationNumberTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #TaxInformation_IN_TraderECCRegistrationNumberTable
          AutoDeclaration     #Yes
          ElementPosition     #130150524
          HierarchyParent     #Excise_IN
          DataSource          #TaxInformation_IN
          ReferenceField      #TraderECCRegistrationNumberTable
          Label               #@GLS5102
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REFERENCEGROUP
        PROPERTIES
          Name                #WithholdingTax_TAN
          ElementPosition     #715827882
          HierarchyParent     #WithholdingTax
          DataSource          #TaxInformation_IN
          ReferenceField      #TAN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #DetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #TabPageDetails
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #HeaderDetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #HeaderView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineDetailsTab
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #LineViewLineDetails
          Tabs                #14
          Style               #IndexTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #LineViewTab
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #LineView
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #MainTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          ShowTabs            #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #tabChanged
            #public void tabChanged(int _fromTab, int _toTab)
            #{
            #    super(_fromTab, _toTab);
            #    element.lock();
            #
            #    // Buttons to show in Grid View
            #    editDetailsButton.visible(tabPageGrid.isActivePage());
            #    salesOrderList.visible(tabPageGrid.isActivePage());
            #
            #    // Buttons to show in Details View
            #    editSalesOrder.visible(!tabPageGrid.isActivePage()
            #                            && !enableOrderCompletion
            #                            );
            #    showGroup.visible(!tabPageGrid.isActivePage());
            #
            #    element.unLock();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #HeaderView
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #DetailsTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineView
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
          HierarchyParent     #DetailsTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #DetailsLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewHeader
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #858993458
          HierarchyParent     #LineViewTab
          Caption             #@SYS335042
          FastTabExpanded     #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLineDetails
          Width               #Column width
          Height              #Column height
          ElementPosition     #1717986916
          HierarchyParent     #LineViewTab
          Caption             #@SYS23823
          DataSource          #SalesLine
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          FastTabExpanded     #No
          Scrollbars          #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #LineViewLines
          Width               #Column width
          Height              #Column height
          ElementPosition     #1288490187
          HierarchyParent     #LineViewTab
          Caption             #@SYS335043
          FastTabExpanded     #Always
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabCreditNote
          AutoDeclaration     #Yes
          Visible             #No
          CountryRegionCodes  #LT,EE,LV,CZ,PL,HU,RU
          ElementPosition     #2013265905
          HierarchyParent     #LineDetailsTab
          Caption             #@SYS8125
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabFinancialDimensionLine
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ElementPosition     #1476394997
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS101181
          DataSource          #SalesLine
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    dimensionDefaultingControllerLine.pageActivated();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabFinancialDimensionTable
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          Width               #Column width
          ElementPosition     #1840700268
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS101181
          DataSource          #SalesTable
          HideIfEmpty         #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    dimensionDefaultingControllerTable.pageActivated();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderAddress
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #613566756
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS9362
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderCarrierContact
          ElementPosition     #843654289
          HierarchyParent     #HeaderDetailsTab
          Caption             #@LCE151
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderDelivery
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #766958445
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS4508
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderFiscalInformation_BR
          CountryRegionCodes  #BR
          Width               #Column width
          ElementPosition     #1994091957
          HierarchyParent     #HeaderDetailsTab
          Caption             #@GLS56
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderForeignTrade
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1380525201
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS27650
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderGeneral
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #306783378
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2952
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderIntercompanySettings
          Width               #Column width
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1227133512
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS317558
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderPacking
          Width               #Column width
          ElementPosition     #1073741823
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS82176
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderPriceCalc
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #920350134
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS328717
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderSetup
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #460175067
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2186
          DataSource          #SalesTable
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderTMS
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1687308579
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@TRX1
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabHeaderWHS
          AutoDeclaration     #Yes
          Width               #Column width
          ElementPosition     #1533916890
          HierarchyParent     #HeaderDetailsTab
          BackgroundColor     #Window background
          Caption             #@WAX13
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineDelivery
          AutoDeclaration     #Yes
          ElementPosition     #939524089
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS4508
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineFiscalInformation_BR
          CountryRegionCodes  #BR
          ElementPosition     #1744830451
          HierarchyParent     #LineDetailsTab
          Caption             #@GLS56
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineGeneral
          AutoDeclaration     #Yes
          ElementPosition     #268435454
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2952
          DataSource          #SalesLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLinePriceDisc
          AutoDeclaration     #Yes
          ElementPosition     #1073741816
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS328717
          DataSource          #SalesLine
          Columns             #4
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineProject
          AutoDeclaration     #Yes
          ElementPosition     #1207959543
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS80304
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabLineSetup
          AutoDeclaration     #Yes
          ElementPosition     #402653181
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS2186
          DataSource          #SalesLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageAddress
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeMultiShipTo
          ElementPosition     #536870908
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS9362
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageDetails
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1073741822
          HierarchyParent     #MainTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          Style               #DetailsFormDetails
          PanelStyle          #Details
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #    element.lockWindowUpdate(true);
            #    salesorderlist.visible(false);
            #    element.lockWindowUpdate(false);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageForeignTrade
          AutoDeclaration     #Yes
          ElementPosition     #1342177270
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS27650
          DataSource          #SalesLine
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageGrid
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #MainTab
          BackgroundColor     #Dyn Background blue
          TopMargin           #0
          BottomMargin        #0
          LeftMargin          #0
          RightMargin         #0
          ViewEditMode        #Edit
          Style               #DetailsFormGrid
          PanelStyle          #Grid
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    super();
            #    element.lockWindowUpdate(true);
            #    salesorderlist.visible(true);
            #    element.lockWindowUpdate(false);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPagePacking
          ElementPosition     #805306362
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS82176
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPageProduct
          ElementPosition     #671088635
          HierarchyParent     #LineDetailsTab
          BackgroundColor     #Window background
          Caption             #@SYS103105
          Columns             #3
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabTaxInformation_IN
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          ElementPosition     #1610612724
          HierarchyParent     #LineDetailsTab
          Caption             #@SYS33652
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabWHSLoads
          AutoDeclaration     #Yes
          ConfigurationKey    #WHSandTMS
          ElementPosition     #1879048178
          HierarchyParent     #LineDetailsTab
          Caption             #@WAX312
        ENDPROPERTIES
        
        METHODS
          SOURCE #pageActivated
            #public void pageActivated()
            #{
            #    whsLoadLine_ds.executeQuery();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonChangeTaxGroups
          AutoDeclaration     #Yes
          HelpText            #@GLS109917
          ElementPosition     #1342177275
          HierarchyParent     #LineStripFinancials
          Text                #@GLS109917
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <GEEU>
            #void clicked()
            #{
            #    Dialog      dialog;
            #    DialogField taxGroupItem;
            #    DialogField taxGroup;
            #
            #    super();
            #
            #    if (salesLine.CreditNoteInternalRef_PL &&
            #        salesLine.InventTransIdReturn)
            #    {
            #        dialog      = new Dialog("@GLS109917");
            #        taxGroup     = dialog.addFieldValue(extendedTypeStr(TaxGroup),     salesLine.TaxGroup);
            #        taxGroupItem = dialog.addFieldValue(extendedTypeStr(TaxItemGroup), salesLine.TaxItemGroup);
            #
            #        if (dialog.run())
            #        {
            #            if (taxGroup.value())
            #            {
            #                salesLine.TaxGroup      = taxGroup.value();
            #                salesLine.TaxItemGroup  = taxGroupItem.value();
            #                salesLine_ds.write();
            #            }
            #            else
            #            {
            #                Box::warning("@GLS109918");
            #            }
            #        }
            #    }
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyOriginalSalesTable
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94563
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1073741823
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS93838
          ButtonDisplay       #Text & Image above
          NormalImage         #10664
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    if (salesTable.SalesType == SalesType::ReturnItem)
            #    {
            #        TradeInterCompany::construct(salesTable,true).formRun(formStr(ReturnTable),element);
            #    }
            #    else
            #    {
            #        TradeInterCompany::construct(salesTable,true).formRun(formStr(SalesTable),element);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanyPurchTable
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94560
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1789569705
          HierarchyParent     #MCRCoupon
          Text                #@SYS75319
          ButtonDisplay       #Text & Image above
          NormalImage         #10603
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    TradeInterCompany::construct(salesTable).formRun(formStr(PurchTable),element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanySalesFormLetter_Pickinglist
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94424
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1073741820
          HierarchyParent     #PickAndPackGenerate
          Text                #@SYS114678
          ButtonDisplay       #Text & Image above
          NormalImage         #10602
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    PurchTable                  purchTable_Reference = salesTable.referencePurchTable();
            #    SalesTableInteractionHelper salesTableInteractionHelper;
            #
            #    if (!purchTable_Reference.RecId && !purchTable_Reference.InterCompanySalesId)
            #    {
            #        throw(error("@SYS28047"));
            #    }
            #
            #    TradeInterCompany::construct(purchTable_Reference).menuFunction(classStr(SalesFormLetter_PickingList), MenuItemType::Action, element);
            #    salesTableInteractionHelper = SalesTableInteractionHelper::construct();
            #    salesTableInteractionHelper.initHeaderActions(salesTable);
            #    buttonInterCompanySalesFormLetter_Pickinglist.enabled(salesTableInteractionHelper.parmEnableICPickingListButton());
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #ButtonInterCompanySalesTable
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94562
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #715827882
          HierarchyParent     #IntercompanyTracing
          Text                #@SYS93837
          ButtonDisplay       #Text & Image above
          NormalImage         #10604
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    if (salesTable.SalesType == SalesType::ReturnItem)
            #    {
            #        TradeInterCompany::construct(salesTable.referencePurchTable()).formRun(formStr(ReturnTable),element);
            #    }
            #    else
            #    {
            #        TradeInterCompany::construct(salesTable.referencePurchTable()).formRun(formStr(SalesTable),element);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #buttonLineProduction
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS28807
          ConfigurationKey    #Prod
          SecurityKey         #ProdDaily
          ElementPosition     #306783378
          HierarchyParent     #LineStripProduct
          Text                #@SYS114884
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    salesLine.type().formProduction(element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #CreateLink
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS305729
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #1717986912
          HierarchyParent     #LineStripUpdate
          Text                #@SYS132301
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.createAgreementLink();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #EndDisc
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS68934
          ConfigurationKey    #PriceDisc
          ElementPosition     #1511192194
          HierarchyParent     #SellCalculate
          Text                #@SYS6465
          ButtonDisplay       #Text & Image left
          NormalImage         #10831
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void  clicked()
            #{
            #    super();
            #
            #    salesTable.updateFinalDisc();
            #    // CreditLimit calculation should only be triggered if updateFinalDisc() changes the DiscPercent which is indicated by touched.
            #    if (salesTable.Touched)
            #    {
            #        // Refresh if the final discount is updated
            #        salesTable_ds.reread();
            #        salesTable_ds.refresh();
            #
            #        //This will trigger the creditlimit calculation when salesTable.validateWrite is called
            #        salesTable_ds.setTouched();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #InterCompanyRemoveMarking
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS94561
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1561806288
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS67038
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    TradeInterCompany::removeMarking(salesLine,element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #MCRLineEvents
          HelpText            #@MCR10928
          ElementPosition     #2059759637
          HierarchyParent     #LineStripSalesLine
          Text                #@MCR10929
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args    args;
            #    FormRun formRun;
            #
            #    //Call user override form
            #    args = new Args(menuitemDisplayStr(MCROrderEventTable));
            #    args.parm(salesLine.InventTransId);
            #    args.record(salesLine);
            #    formRun = ClassFactory::formRunClassOnClient(args);
            #    formRun.init();
            #    formRun.run();
            #    formRun.wait();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #MCROrderHolds
          AutoDeclaration     #Yes
          HelpText            #@MCR10900
          ConfigurationKey    #LogisticsBasic
          ElementPosition     #1717986916
          HierarchyParent     #MCRSalesOrderFunctions
          Text                #@MCR10491
          ButtonDisplay       #Text & Image right
          NormalImage         #11153
          ImageLocation       #EmbeddedResource
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    if (!SalesTableForm::mcrEnableOrderHoldsButton(salesTable))
            #    {
            #        throw error("@SYS4160087");
            #    }
            #
            #    SalesTableForm::mcrPromptHoldOrder(salesTable);
            #    salesTable_ds.reread();
            #    salesTable_ds.refresh();
            #    salesTable_ds.active();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #MultiLnDisc
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS68933
          ConfigurationKey    #PriceDisc
          ElementPosition     #1193046468
          HierarchyParent     #SellCalculate
          Text                #@SYS11440
          ButtonDisplay       #Text & Image left
          NormalImage         #10647
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void  clicked()
            #{
            #    super();
            #    element.multiLineDiscount();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PBAExecute
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS40755
          ElementPosition     #613566756
          HierarchyParent     #LineStripProduct
          Text                #@SYS40223
          SaveRecord          #No
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.pbaConfigureLine();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #PrintMgmt
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          HelpText            #@SYS68918
          ConfigurationKey    #LogisticsBasic
          SecurityKey         #CustMisc
          ElementPosition     #1073741822
          HierarchyParent     #GeneralSetup
          Text                #@SYS54502
          ButtonDisplay       #Text & Image above
          NormalImage         #10698
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    PrintMgmtSetupContext setupContext = new PrintMgmtSetupContext();
            #    List inventDocs = new List(Types::Enum);
            #    List salesDocs  = new List(Types::Enum);
            #
            #    if (salesTable_ds.cursor() == null)
            #    {
            #        return;
            #    }
            #
            #    super();
            #
            #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderConfirmation);
            #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderInvoice);
            #    salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderPackingSlip);
            #
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        salesDocs.addEnd(PrintMgmtDocumentType::SalesOrderInvoice4Paym_RU);
            #    }
            #    // </GEERU>
            #
            #    inventDocs.addEnd(PrintMgmtDocumentType::InventPickList);
            #
            #    setupContext.addHierarchyContext(PrintMgmtHierarchyType::Sales, PrintMgmtNodeType::SalesTable,salesDocs);
            #    setupContext.addHierarchyContext(PrintMgmtHierarchyType::Invent, PrintMgmtNodeType::SalesTable,inventDocs);
            #
            #    setupContext.parmCaller(element);
            #    setupContext.parmReferencedTableBuffer(salesTable_ds.cursor());
            #    setupContext.parmCountryRegionId(salesTable.getCountryRegionIdByDocumentStatus());
            #
            #    PrintMgmt::launchSetup(setupContext);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #RemoveLink
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS305731
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #2004318064
          HierarchyParent     #LineStripUpdate
          Text                #@SYS67038
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.removeAgreementLink();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTON
        PROPERTIES
          Name                #TieredCharges
          AutoDeclaration     #Yes
          NeededPermission    #Create
          HelpText            #@SYS4050023
          ConfigurationKey    #Markup
          ElementPosition     #1829337920
          HierarchyParent     #SellCalculate
          Text                #@SYS4050022
          ButtonDisplay       #Text & Image left
          NormalImage         #10639
          ImageLocation       #EmbeddedResource
          NeedsRecord         #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void  clicked()
            #{
            #    super();
            #
            #    salesTable.calculateTieredCharges();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierExpeditedShipment
          ElementPosition     #1073741820
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierExpeditedShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierFuelSurcharge
          ElementPosition     #1342177275
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierFuelSurcharge
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierResidential
          ElementPosition     #1610612730
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierResidential
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Delivery_ShipBlind
          ElementPosition     #1879048188
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ShipCarrierBlindShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #displaySuframa_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #SuframaRegion_BR
          DataSource          #SalesTable_BR
          DataMethod          #displaySuframa_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #displaySuframaPISCOFINS_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #SuframaRegion_BR
          Label               #@GLS1335
          DataSource          #SalesTable_BR
          DataMethod          #displaySuframaPISCOFINS_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EInvoice_EInvoiceLineSpec
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #EInvoice
          DataSource          #SalesTable
          DataField           #EInvoiceLineSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EntryCertificate_W1_EntryCertificateRequired_W
          ElementPosition     #1073741822
          HierarchyParent     #EntryCertificate_W
          DataSource          #SalesTable_W
          DataField           #EntryCertificateRequired_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EntryCertificate_W1_IssueOwnEntryCertificate_W
          ElementPosition     #1610612733
          HierarchyParent     #EntryCertificate_W
          DataSource          #SalesTable_W
          DataField           #IssueOwnEntryCertificate_W
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Excise_IN_Consignment_IN
          ElementPosition     #1225584100
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #Consignment_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Excise_IN_DSA_IN
          ElementPosition     #1686533872
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #DSA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Excise_IN_IsScrap_IN
          ElementPosition     #1917008759
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #IsScrap
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #EximSalesLine_IN_ApplyDEPB
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #429496728
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #ApplyDEPB
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #FiscalInformation_BR1_ServiceCodeOnDlvAddress_BR
          ElementPosition     #1789569705
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #ServiceCodeOnDlvAddress_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #ForeignTrade_StatTriangularDeal
          ElementPosition     #630823320
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #StatTriangularDeal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #inclTax
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #InclTax
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InterCompanyAdmin_InterCompanyAllowIndirectCreation
          ElementPosition     #715827882
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataField           #InterCompanyAllowIndirectCreation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InterCompanyAdmin_InterCompanyAutoCreateOrders
          ElementPosition     #1073741823
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataField           #InterCompanyAutoCreateOrders
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #InterCompanyAdmin_InterCompanyDirectDelivery
          ElementPosition     #1431655764
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataField           #InterCompanyDirectDelivery
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LCE_CarrierInfoSalesOrder_IsPrimary
          ElementPosition     #1610612730
          HierarchyParent     #CarrierInfoGrid
          BackgroundColor     #Window background
          DataSource          #LCE_CarrierInfoSalesOrder
          DataField           #IsPrimary
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LineInventory_PdsBatchAttribAutoRes
          ElementPosition     #1700091219
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #PdsBatchAttribAutoRes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #LineInventory_PdsSameLot
          ElementPosition     #1789569704
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #PdsSameLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lineRFIDTaggingLevel_CaseTagging
          ElementPosition     #858993458
          HierarchyParent     #lineRFIDTaggingLevel
          DataSource          #SalesLine
          DataField           #CaseTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lineRFIDTaggingLevel_ItemTagging
          ElementPosition     #1288490187
          HierarchyParent     #lineRFIDTaggingLevel
          DataSource          #SalesLine
          DataField           #ItemTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #lineRFIDTaggingLevel_PalletTagging
          ElementPosition     #1717986916
          HierarchyParent     #lineRFIDTaggingLevel
          DataSource          #SalesLine
          DataField           #PalletTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRDelivery_ShipComplete
          ElementPosition     #805306365
          HierarchyParent     #MCRDeliveryDetails
          DataSource          #MCRSalesTableShipping
          DataField           #ShipComplete
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesLine_InstallmentEligible
          ElementPosition     #1073741822
          HierarchyParent     #MCRProductAttributes
          DataSource          #MCRSalesLine
          DataField           #InstallmentEligible
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesLineDropShipment_DropShipment
          ElementPosition     #858993458
          HierarchyParent     #MCRDropShip
          DataSource          #MCRSalesLineDropShipment
          DataField           #DropShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesLinePriceOverride_PriceOverride
          AutoDeclaration     #Yes
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #1252698783
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #MCRSalesLinePriceOverride
          DataField           #PriceOverride
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesTable_FTCExempt
          AutoDeclaration     #Yes
          ElementPosition     #1352119332
          HierarchyParent     #MCRDetails
          DataSource          #MCRSalesTable
          DataField           #FTCExempt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesTable_PriceOverride
          AutoDeclaration     #Yes
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #1879048189
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #MCRSalesTable
          DataField           #PriceOverride
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #MCRSalesTableShipping_ShipComplete
          ElementPosition     #477218588
          HierarchyParent     #MCRDetails
          DataSource          #MCRSalesTableShipping
          DataField           #ShipComplete
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #OneTimeCustomer
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1610612733
          HierarchyParent     #Customer
          DataSource          #SalesTable
          DataField           #OneTimeCustomer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Posting_InvoiceRegister_LT
          ElementPosition     #1002159034
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #InvoiceRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Posting_PackingSlipRegister_LT
          ElementPosition     #1145324610
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #PackingSlipRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #Return_Scrap
          ElementPosition     #858993458
          HierarchyParent     #Return
          DataSource          #SalesLine
          DataField           #Scrap
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RFIDTaggingLevel_CaseTagging
          ElementPosition     #858993458
          HierarchyParent     #RFIDTaggingLevel
          DataSource          #SalesTable
          DataField           #CaseTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RFIDTaggingLevel_ItemTagging
          ElementPosition     #1288490187
          HierarchyParent     #RFIDTaggingLevel
          DataSource          #SalesTable
          DataField           #ItemTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #RFIDTaggingLevel_PalletTagging
          ElementPosition     #1717986916
          HierarchyParent     #RFIDTaggingLevel
          DataSource          #SalesTable
          DataField           #PalletTagging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLine_PdsSameLot
          ElementPosition     #1789569690
          HierarchyParent     #SalesLineGrid
          BackgroundColor     #Window background
          DataSource          #SalesLine
          DataField           #PdsSameLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLineStatus_Blocked
          ElementPosition     #715827882
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #Blocked
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesLineStatus_Complete
          ElementPosition     #1073741823
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #Complete
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_AgreementIsLinked
          ElementPosition     #1840700268
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #SalesTable
          DataMethod          #AgreementIsLinked
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_CustFinalUser_BR
          ElementPosition     #1431655764
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #CustFinalUser_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_CustomsExportOrder_IN
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1610612734
          HierarchyParent     #Group
          DataSource          #SalesTable
          DataField           #CustomsExportOrder_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_InvoiceRegister_LT
          ElementPosition     #2113202422
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #SalesTable
          DataField           #InvoiceRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_MCRContinuityOrder
          ElementPosition     #1932735281
          HierarchyParent     #Baseinfo
          DataSource          #MCRSalesTable
          DataField           #ContinuityOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_MCRContinuityOrderGrid
          ElementPosition     #843654289
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #MCRSalesTable
          DataField           #ContinuityOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_MCROrderStopped
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #MCROrderStopped
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_MCROrderStoppedGrid
          ElementPosition     #2044989502
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #SalesTable
          DataField           #MCROrderStopped
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_PackingSlipRegister_LT
          ElementPosition     #2130343034
          HierarchyParent     #GridHeader
          BackgroundColor     #Window background
          DataSource          #SalesTable
          DataField           #PackingSlipRegister_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_PdsBatchAttribAutoRes
          ElementPosition     #1207959549
          HierarchyParent     #Reservation
          DataSource          #SalesTable
          DataField           #PdsBatchAttribAutoRes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTable_RetailOrder
          ConfigurationKey    #RetailHeadquarters
          ElementPosition     #1073741822
          HierarchyParent     #Baseinfo
          Label               #@RET4540
          DataSource          #SalesTable
          DataMethod          #isRetailOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTax_M_editExportSales_PL
          ElementPosition     #1767200083
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataMethod          #editExportSales_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL CHECKBOX
        PROPERTIES
          Name                #SalesTax_UnitedVATInvoice_LT
          HelpText            #@GLS220217
          ElementPosition     #1700091219
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #UnitedVATInvoice_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #CopyOfSalesTable_ReleaseStatus
          ElementPosition     #1431655764
          HierarchyParent     #WHSStatus
          DataSource          #SalesTable
          DataField           #ReleaseStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Delivery_TimeZoneSite
          AllowEdit           #No
          HelpText            #@SYS110100
          ElementPosition     #1431655764
          HierarchyParent     #SalesTableTimeZoneDelivery
          Label               #@SYS102501
          DataSource          #SalesTable
          DataMethod          #timeZoneSite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Excise_IN_DirectSettlement_IN
          ElementPosition     #764634328
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #DirectSettlement_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Excise_IN_ExciseType_IN
          ElementPosition     #86767016
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine_IN
          DataField           #ExciseType_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseManufacture_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #260301048
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine
          DataMethod          #exciseManufacture_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesLine_DS.enableExciseFields_IN();
            #
            #    salesLine_IN.modifiedField(fieldNum(SalesLine_IN, ExciseRecordType_IN), salesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseNone_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #216917540
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine
          DataMethod          #exciseNone_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesLine_DS.enableExciseFields_IN();
            #
            #    salesLine_IN.modifiedField(fieldNum(SalesLine_IN, ExciseRecordType_IN), salesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ExciseTraders_IN
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #303684556
          HierarchyParent     #Excise_IN
          DataSource          #SalesLine
          DataMethod          #exciseTraders_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    salesLine_DS.enableExciseFields_IN();
            #
            #    salesLine_IN.modifiedField(fieldNum(SalesLine_IN, ExciseRecordType_IN), salesLine);
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #EximSalesLine_IN_DBKCenvatStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #858993456
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #DBKCenvatStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #EximSalesLine_IN_DBKRateType
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1073741820
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #DBKRateType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #GiroMoneyTransferSlip_GiroType
          ElementPosition     #1431655764
          HierarchyParent     #GiroMoneyTransferSlip
          Label               #@SYS342021
          DataSource          #SalesTable
          DataField           #GiroType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #GroupCustomerReturnPeriod_PeriodType
          ElementPosition     #1610612733
          HierarchyParent     #GroupCustomerReturnPeriod
          ShowLabel           #No
          DataSource          #SalesLineReturnDetails_IN
          DataField           #PeriodType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    salesLineReturnDetails_IN_ds.write();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #HeaderForeignTrade_Listcode
          ElementPosition     #447392426
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #Listcode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #ItemReference_InventRefType
          ElementPosition     #1431655764
          HierarchyParent     #ItemReference
          DataSource          #SalesLine
          DataField           #InventRefType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LCE_CarrierInfoSalesOrder_Type
          ElementPosition     #805306365
          HierarchyParent     #CarrierInfoGrid
          DataSource          #LCE_CarrierInfoSalesOrder
          DataField           #Type
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #LineInventory_Reservation
          ElementPosition     #805306365
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #Reservation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #MCRSalesLine_LineType
          AutoDeclaration     #Yes
          ElementPosition     #1312351106
          HierarchyParent     #SalesLineGrid
          DataSource          #MCRSalesLine
          DataField           #LineType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #MCRSalesLineDropShipment_DropShipStatus
          ElementPosition     #1288490187
          HierarchyParent     #MCRDropShip
          DataSource          #MCRSalesLineDropShipment
          DataField           #DropShipStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #NoteFormat_TH_NoteFormat_TH
          ElementPosition     #1431655764
          HierarchyParent     #NoteFormat_TH
          DataSource          #SalesTableExtensionTH
          DataField           #NoteFormat
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Payment_BankDocumentType
          ElementPosition     #1952257860
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #BankDocumentType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Posting_InvoicePostingType_RU
          ElementPosition     #1503238551
          HierarchyParent     #Posting
          DataSource          #SalesTable_RU
          DataField           #InvoicePostingType_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Posting_SettleVoucher
          ElementPosition     #1288490187
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #SettleVoucher
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Reservation_SOAllocPriority
          ElementPosition     #1677721597
          HierarchyParent     #Reservation
          DataSource          #MCRSalesTable
          DataField           #SOAllocPriority
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_DeliveryDateControl
          HelpText            #@SYS88210
          ElementPosition     #1840700268
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #DeliveryDateControlType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_QualityOrderStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1133394137
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_SalesStatus
          ElementPosition     #1431655752
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLine_TimeZoneSite
          AllowEdit           #No
          HelpText            #@SYS110100
          ElementPosition     #1431655764
          HierarchyParent     #TimeZoneDelivery
          Label               #@SYS102501
          DataSource          #SalesLine
          DataMethod          #timeZoneSite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineDeliveryGroup_DeliveryType
          ElementPosition     #1789569705
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #DeliveryType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineReturnDetails_IN_BasisType
          ElementPosition     #1288490187
          HierarchyParent     #CustomerReturns_IN
          DataSource          #SalesLineReturnDetails_IN
          DataField           #BasisType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    ret = super();
            #    element.setBasisDate_IN();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineReturnDetails_IN_Type
          ElementPosition     #858993458
          HierarchyParent     #CustomerReturns_IN
          DataSource          #SalesLineReturnDetails_IN
          DataField           #Type
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    ret = super();
            #    // <GIN>
            #    element.updateReturnableDetails_IN();
            #    // </GIN>
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineStatus_qualityOrderStatus
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesLineStatus_SalesStatus
          ElementPosition     #1431655764
          HierarchyParent     #SalesLineStatus
          DataSource          #SalesLine
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesStatus
          Left                #Right edge
          Skip                #Yes
          ElementPosition     #1610612733
          HierarchyParent     #HeaderInfo
          ShowLabel           #No
          DataSource          #SalesTable
          DataField           #SalesStatus
          ViewEditMode        #View
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_BR_PresenceType
          ElementPosition     #1968526675
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #PresenceType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_DeliveryDateControl
          ElementPosition     #1610612730
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #DeliveryDateControlType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_FLC_OrderType
          ElementPosition     #1923787432
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #FLC_OrderType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_FLC_OrderType1
          ElementPosition     #1825361098
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #FLC_OrderType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1942844885
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_ReleaseStatus
          ElementPosition     #1431655764
          HierarchyParent     #LineViewWHSHeader
          DataSource          #SalesTable
          DataField           #ReleaseStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_Reservation
          ElementPosition     #805306366
          HierarchyParent     #Reservation
          DataSource          #SalesTable
          DataField           #Reservation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_SalesStatusGrid
          ElementPosition     #958698056
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_SalesType
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #SalesType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    element.changeType();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #SalesTable_SalesTypeGrid
          AutoDeclaration     #Yes
          ElementPosition     #728610522
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #SalesType
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    element.changeType();
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_DocumentStatus
          ElementPosition     #1431655764
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #DocumentStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_qualityOrderStatusDisplay
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataMethod          #qualityOrderStatusDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #status_SalesStatus
          ElementPosition     #715827882
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #SalesStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #Transport_FreightSlipType
          ElementPosition     #1073741822
          HierarchyParent     #Transport
          DataSource          #SalesTable
          DataField           #FreightSlipType
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #Attachments
          ElementPosition     #1227133512
          HierarchyParent     #SalesOrderAttachments
          Text                #@SYS316708
          ButtonDisplay       #Text & Image above
          NormalImage         #10442
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #2853
          ToggleButton        #Check
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteContactInfo
          NeededPermission    #Delete
          ElementPosition     #1610612733
          HierarchyParent     #ContactInfoActionsButtonGroup
          Text                #@SYS311855
          ButtonDisplay       #Text & Image left
          NormalImage         #11438
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          NeedsRecord         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteSalesOrder
          ElementPosition     #1342177275
          HierarchyParent     #SalesOrderModify
          Text                #@SYS14425
          ButtonDisplay       #Text & Image above
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #EditSalesOrder
          AutoDeclaration     #Yes
          NeededPermission    #Update
          ElementPosition     #536870910
          HierarchyParent     #SalesOrderModify
          Text                #@SYS317438
          ButtonDisplay       #Text & Image above
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          Command             #4471
          ToggleButton        #Check
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #HeaderViewButton
          ElementPosition     #1073741822
          HierarchyParent     #ShowGroup
          NormalImage         #12133
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1320
          ToggleButton        #Radio
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineAttachmentsLineStripAction
          ElementPosition     #1768515938
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS114630
          ShowShortCut        #No
          NeedsRecord         #Yes
          Command             #2853
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineAttachmentsLineStripActionSMB
          ElementPosition     #976128930
          HierarchyParent     #LineStripSalesLineSMB
          Text                #@SYS114630
          ShowShortCut        #No
          NeedsRecord         #Yes
          Command             #2853
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripDelete
          AutoDeclaration     #Yes
          HelpText            #@SYS328874
          ElementPosition     #1491308085
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS135131
          ButtonDisplay       #Text & Image left
          NormalImage         #11400
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripLineDetails
          Visible             #No
          HelpText            #@SYS315251
          ElementPosition     #1789569705
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS8811
          ButtonDisplay       #Text & Image left
          NormalImage         #10010
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          MultiSelect         #No
          Primary             #Yes
          Command             #1318
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineStripNew
          ElementPosition     #596523234
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS319116
          ButtonDisplay       #Text & Image left
          NormalImage         #10009
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #LineViewButton
          ElementPosition     #1610612733
          HierarchyParent     #ShowGroup
          NormalImage         #12134
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          Command             #1321
          ToggleButton        #Radio
          ToggleValue         #On
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewContactInfo
          NeededPermission    #Create
          HelpText            #@SYS304428
          ElementPosition     #1073741822
          HierarchyParent     #ContactInfoActionsButtonGroup
          Text                #@SYS2318
          ButtonDisplay       #Text & Image left
          NormalImage         #11421
          ImageLocation       #EmbeddedResource
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewSalesOrder
          HelpText            #@SYS27579
          ElementPosition     #536870910
          HierarchyParent     #SalesOrderNew
          Text                #@SYS114628
          ButtonDisplay       #Text & Image above
          NormalImage         #10874
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #Refresh
          HelpText            #@SYS315818
          ElementPosition     #1073741822
          HierarchyParent     #SalesOrderList
          ButtonDisplay       #Text & Image left
          NormalImage         #11437
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          KeyTip              #@SYS315818
          Command             #2875
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #SendToExcel
          DisplayTarget       #Client
          ElementPosition     #1610612734
          HierarchyParent     #SalesOrderList
          ButtonDisplay       #Text & Image left
          NormalImage         #10156
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          KeyTip              #@SYS315819
          NeedsRecord         #Yes
          Command             #4436
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateConfirmed
          ElementPosition     #1207959547
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateConfirmedHeader
          ElementPosition     #1789569705
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateRequested
          ElementPosition     #536870910
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ReceiptDateRequestedHeader
          ElementPosition     #715827882
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateConfirmed
          ElementPosition     #1073741822
          HierarchyParent     #SalesAvailableDlvDatesHeaderGroup
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateConfirmedHeader
          ElementPosition     #1073741822
          HierarchyParent     #SimulateDeliveryDatesGroup
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateRequested
          ElementPosition     #357913940
          HierarchyParent     #Delivery
          DataSource          #SalesTable
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Delivery_ShippingDateRequestedHeader
          ElementPosition     #477218588
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #LoadSchedShipDate
          ElementPosition     #1136903103
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadSchedShipDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #MCRDelivery_ReceiptDateConfirmedHeader
          ElementPosition     #1789569705
          HierarchyParent     #MCRDeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #MCRDelivery_ReceiptDateRequestedHeader
          ElementPosition     #1073741823
          HierarchyParent     #MCRDeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #MCRDelivery_ShippingDateConfirmedHeader
          ElementPosition     #1073741822
          HierarchyParent     #MCRSimulateDeliveryDatesGroup
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #MCRDelivery_ShippingDateRequestedHeader
          ElementPosition     #715827882
          HierarchyParent     #MCRDeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Payment_CashDiscBaseDate
          ElementPosition     #1659419181
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #CashDiscBaseDate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #Payment_FixedDueDate
          ElementPosition     #585677358
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #FixedDueDate
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #enter
            #public void enter()
            #{
            #    super();
            #
            #    priorDueDate = this.dateValue();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_IntrastatFulfillmentDate_HU
          ElementPosition     #2136298835
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #IntrastatFulfillmentDate_HU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_PriceAgreementDate_RU
          ElementPosition     #715827880
          HierarchyParent     #Prices
          DataSource          #SalesLine
          DataField           #PriceAgreementDate_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ReceiptDateConfirmed
          Width               #Column width
          ElementPosition     #1610612733
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #ReceiptDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ReceiptDateRequested
          Width               #Column width
          ElementPosition     #1150437667
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #ReceiptDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ShippingDateConfirmed
          ElementPosition     #1073741822
          HierarchyParent     #SalesAvailableDlvDatesLineGroup
          DataSource          #SalesLine
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_ShippingDateRequested
          Width               #Column width
          ElementPosition     #920350134
          HierarchyParent     #LineDelivery
          DataSource          #SalesLine
          DataField           #ShippingDateRequested
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesLine_W_RefInvoiceDate_MY
          ElementPosition     #2087831305
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine_W
          DataField           #RefInvoiceDate_MY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_IntrastatFulfillmentDate_HU
          ElementPosition     #2080374781
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #IntrastatFulfillmentDate_HU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_ReceiptDateConfirmed
          ElementPosition     #1227133512
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #ReceiptDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #SalesTable_ShippingDateConfirmed
          ElementPosition     #1380525201
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #ShippingDateConfirmed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DATEEDIT
        PROPERTIES
          Name                #status_Deadline
          ElementPosition     #1073741823
          HierarchyParent     #GroupStatus
          DataSource          #SalesTable
          DataField           #Deadline
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL DROPDIALOGBUTTON
        PROPERTIES
          Name                #CancelOrderButton
          AutoDeclaration     #Yes
          ElementPosition     #1879048185
          HierarchyParent     #SalesOrderModify
          MenuItemName        #SalesCancelOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INT64EDIT
        PROPERTIES
          Name                #SalesLine_LCE_HSOCustomerUPC
          ElementPosition     #1073741822
          HierarchyParent     #ART_Custom
          DataSource          #SalesLine
          DataField           #LCE_HSOCustomerUPC
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #GroupCustomerReturnPeriod_Period
          ElementPosition     #1073741822
          HierarchyParent     #GroupCustomerReturnPeriod
          DataSource          #SalesLineReturnDetails_IN
          DataField           #Period
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    salesLineReturnDetails_IN_ds.write();
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL INTEDIT
        PROPERTIES
          Name                #SalesLine_CustomerLineNum
          ElementPosition     #1610612733
          HierarchyParent     #ExternalRefernces
          DataSource          #SalesLine
          DataField           #CustomerLineNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #AutoRate
          ElementPosition     #1252698790
          HierarchyParent     #ButtonGroupRating
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #TMSAutoRouteAssignment
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    salesTable_ds.reread();
            #    tmsSalesTable_ds.reread();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BankLGRequestForm
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #ManageBankDocument
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #BankLGRequestForm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BOMConsistOfTree
          AutoDeclaration     #Yes
          ElementPosition     #1942961394
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #BOMConsistOfTree
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #BOMPriceCalc
          AutoDeclaration     #Yes
          Enabled             #No
          HelpText            #@SYS317850
          ElementPosition     #381774869
          HierarchyParent     #LineStripUpdate
          Text                #@SYS317848
          DataSource          #SalesLine
          MenuItemName        #BOMCalcTableSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #btnLoadTable
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #WHSLineStripMenuButton
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #WHSLoadTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #btnShipmentDetails
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #WHSLineStripMenuButton
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #WHSShipmentDetails
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCalculateConfirmDates
          AutoDeclaration     #Yes
          ElementPosition     #795364312
          HierarchyParent     #SellCalculate
          Text                #@SYS342129
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          MultiSelect         #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesUpdateConfirmDatesCommand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonCreateBankLCExport
          AutoDeclaration     #Yes
          HelpText            #@SYS316146
          ConfigurationKey    #BankDocument
          ElementPosition     #1073741822
          HierarchyParent     #ManageBankDocument
          Text                #@SYS317555
          ButtonDisplay       #Text & Image above
          NormalImage         #12518
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #BankLCExport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCreateDropShipment
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #SalesOrderNew
          Text                #@SYS78211
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Primary             #Yes
          AutoRefreshData     #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesCreateDropShipment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCreatePurchOrder
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #SalesOrderNew
          Text                #@SYS25545
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Primary             #Yes
          AutoRefreshData     #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #PurchCreateFromSalesorderSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCustVendCreditInvoicingHeader
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceIntroduce
          Text                #@SYS99718
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #CustVendCreditInvoicing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonCustVendCreditInvoicingLines
          AutoDeclaration     #Yes
          ElementPosition     #1594552486
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #CustVendCreditInvoicing
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonDeliverySchedule
          AutoDeclaration     #Yes
          ElementPosition     #378967701
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesLine
          MenuItemName        #SalesDeliverySchedule
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args    args = new Args();
            #    FormRun deliverySchedule;
            #
            #    args.name(formStr(SalesDeliverySchedule));
            #    args.caller(this);
            #    args.record(salesLine);
            #    deliverySchedule = classfactory.formRunClass(args);
            #
            #    deliverySchedule.run();
            #    deliverySchedule.wait();
            #
            #    if (deliverySchedule.closedOk())
            #    {
            #        mcrProcessingDeliverySchedule = true;
            #        salesLine_ds.reread();
            #        salesLine_ds.rereadReferenceDataSources();
            #        salesLine_ds.research(true);
            #        salesTable_ds.research(true);
            #        salesTableForm.setTouched(salesTable);
            #        mcrProcessingDeliverySchedule = false;
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonHeaderFiscalDocumentText_BR
          AutoDeclaration     #Yes
          AllowEdit           #No
          CountryRegionCodes  #BR
          HelpText            #@GLS63739
          ElementPosition     #1533916890
          HierarchyParent     #SalesOrderAttachments
          NormalImage         #10099
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
          MenuItemName        #FiscalDocumentText_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonInventSupply
          AutoDeclaration     #Yes
          ElementPosition     #1063515708
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #inventSupply
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #SellJournals
          Text                #@SYS108894
          ButtonDisplay       #Text & Image left
          NormalImage         #10511
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustConfirmJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalFacture_RU
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #InvoiceJournals
          ButtonDisplay       #Text & Image above
          NormalImage         #10733
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #facturejournalcust_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceJournals
          Text                #@SYS114667
          ButtonDisplay       #Text & Image above
          NormalImage         #10612
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustInvoiceJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalInvoice4Paym_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1288490187
          HierarchyParent     #SellJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10498
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #CustInvoice4PaymJournal_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalPackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10667
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustPackingSlipJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalPickingList
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackJournals
          ButtonDisplay       #Text & Image left
          NormalImage         #10682
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #WMSPickingRoutesJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonJournalQuotationConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #SellJournals
          Text                #@SYS98918
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #custQuotationJournalConfirmation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineExpandBOM
          AutoDeclaration     #Yes
          ElementPosition     #1263225670
          HierarchyParent     #LineStripSalesLine
          MenuItemType        #Action
          MenuItemName        #SalesLineExplodeBOM
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineExplosion
          AutoDeclaration     #Yes
          ElementPosition     #1738439142
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #ReqTransExplosion
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineFiscalDocumentText_BR
          AutoDeclaration     #Yes
          AllowEdit           #No
          CountryRegionCodes  #BR
          HelpText            #@GLS63740
          ElementPosition     #1779042818
          HierarchyParent     #LineStripSalesLine
          ButtonDisplay       #Text & Image left
          NormalImage         #10099
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #FiscalDocumentText_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventLot
          AutoDeclaration     #Yes
          ElementPosition     #887389936
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventLot
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventMarking
          AutoDeclaration     #Yes
          ElementPosition     #702812828
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventMarking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventOnHand
          AutoDeclaration     #Yes
          ElementPosition     #834146540
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS317846
          DataSource          #SalesLine
          MenuItemName        #InventOnhand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventOnHandSMB
          AutoDeclaration     #Yes
          ElementPosition     #825955245
          HierarchyParent     #ButtonLineInventorySMB
          Text                #@SYS317846
          DataSource          #SalesLine
          MenuItemName        #InventOnhand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventReservation
          AutoDeclaration     #Yes
          ElementPosition     #468541886
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventReservationSMB
          AutoDeclaration     #Yes
          ElementPosition     #495573147
          HierarchyParent     #ButtonLineInventorySMB
          DataSource          #SalesLine
          MenuItemName        #InventReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventTrans
          AutoDeclaration     #Yes
          ElementPosition     #993876728
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventTransGoodsInRoute_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1047120124
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #InventTransGoodsInRoute_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineInventTransSMB
          AutoDeclaration     #Yes
          ElementPosition     #1156337343
          HierarchyParent     #ButtonLineInventorySMB
          DataSource          #SalesLine
          MenuItemName        #InventTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonLineQuantity
          ElementPosition     #954437176
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalestableLineQuantity
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonLineQuickQuote
          AutoDeclaration     #Yes
          Left                #Auto (right)
          ElementPosition     #894784851
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@SYS54992
          ButtonDisplay       #Text & Image left
          NormalImage         #12489
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #SalesQuickQuote
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    if (SalesTableForm.editHeaderAllowed(true))
            #    {
            #        super();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonMarkupTransHeading
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #SellCharges
          ButtonDisplay       #Text & Image above
          NormalImage         #10639
          ImageLocation       #EmbeddedResource
          DisabledImageLocation #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #MarkupTrans_HeadingSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonMarkupTransLine
          AutoDeclaration     #Yes
          ElementPosition     #881018928
          HierarchyParent     #LineStripFinancials
          Text                #@SYS313570
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #MarkupTrans_LineSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonMarkupTransLineSMB
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #LineStripFinancialsSMB
          Text                #@SYS313570
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #MarkupTrans_LineSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPaymentSchedule
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #InvoiceBill
          ButtonDisplay       #Text & Image left
          NormalImage         #10673
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CustPaymSchedule
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    CustVendPaymSched   custVendPaymSched;
            #
            #    element.automaticTotalDiscount();
            #
            #    if (salesTable.PaymentSched && !CustPaymSched::exist(salesTable.TableId,salesTable.RecId))
            #    {
            #        custVendPaymSched = CustVendPaymSched::construct(SysModule::Cust,salesTable);
            #        custVendPaymSched.copyPaymSched(PaymSched::find(salesTable.PaymentSched));
            #        salesTable.createPaymentSched();
            #    }
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPostings
          ElementPosition     #715827882
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          MenuItemName        #SalesTablepostings
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProcessEventKanbans
          ElementPosition     #1431655764
          HierarchyParent     #ProcessGroup
          MultiSelect         #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #ReqEventProcessKanbanSalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #Generate
          Text                #@SYS114652
          ButtonDisplay       #Text & Image above
          NormalImage         #10702
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Confirmation
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaFacture_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1670265058
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS116069
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Facture_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaInvoice
          AutoDeclaration     #Yes
          ElementPosition     #1193046470
          HierarchyParent     #InvoiceGenerate
          Text                #@SYS114668
          ButtonDisplay       #Text & Image above
          NormalImage         #10703
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Invoice
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{;
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        salesTable.checkMarkupTrans_RU();
            #    }
            #    // </GEERU>
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaInvoice4Paym_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1789569705
          HierarchyParent     #Generate
          Text                #@GLS116067
          ButtonDisplay       #Text & Image left
          NormalImage         #12380
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_Invoice4Paym_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonProformaPackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1879048188
          HierarchyParent     #PickAndPackGenerate
          Text                #@SYS12874
          ButtonDisplay       #Text & Image above
          NormalImage         #10704
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Proforma_PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonPurchTable
          AutoDeclaration     #Yes
          ElementPosition     #1193046470
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image left
          NormalImage         #10724
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #InterCompanyPurchSalesReference
          MenuItemName        #PurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    interCompanyPurchSalesReference_ds.executeQuery();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonPurchTableThisCompany
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1610612734
          HierarchyParent     #IntercompanyTracing
          ButtonDisplay       #Text & Image above
          NormalImage         #10724
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #PurchTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    TradeInterCompany::construct(salesTable).referenceForm();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonReferences
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesTableReferences
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonRetailRecalculator
          AutoDeclaration     #Yes
          ElementPosition     #1988410783
          HierarchyParent     #SellCalculate
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_recalculate
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    salesLine_ds.reread();
            #    salesLine_ds.refresh();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonSalesAgreement
          AutoDeclaration     #Yes
          ElementPosition     #1670265058
          HierarchyParent     #GeneralRelatedInfo
          Text                #@SYS305726
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #SalesAgreement
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonSalesDropShipmentCancel
          AutoDeclaration     #Yes
          ElementPosition     #1431655760
          HierarchyParent     #LineStripUpdate
          Text                #@SYS78211
          MenuItemType        #Action
          MenuItemName        #SalesDropShipmentCancel
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonTotals
          ElementPosition     #858993458
          HierarchyParent     #SalesOrderView
          ButtonDisplay       #Text & Image above
          NormalImage         #10832
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesTotals
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        if (salesTable.checkMarkupTrans_RU())
            #        {
            #            super();
            #        }
            #    }
            #    else
            #    {
            #    // </GEERU>
            #        super();
            #    // <GEERU>
            #    }
            #    // </GEERU>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateConfirmation
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #Generate
          ButtonDisplay       #Text & Image above
          NormalImage         #10510
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Confirmation
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    //<<MB_AllowSendingSOConfirmationEmail_JAN_08_2018
            #    ttsBegin;
            #
            #    SalesTable.mb_allowEmail(SalesTable.InventSiteId);
            #
            #    SalesTable.selectForUpdate(true);
            #
            #    SalesTable.mb_ConfirmationEmailSent = NoYes::Yes;
            #
            #    SalesTable.update();
            #
            #    ttsCommit;
            #    //>>MB_AllowSendingSOConfirmationEmail_JAN_08_2018
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateDeliverySlip_BR
          AutoDeclaration     #Yes
          CountryRegionCodes  #BR
          ElementPosition     #1610612732
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10665
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_DeliverySlip_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateFacture_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #715827882
          HierarchyParent     #InvoiceGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Facture_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoice
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #InvoiceGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10610
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Invoice
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{;
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        salesTable.checkMarkupTrans_RU();
            #    }
            #    // </GEERU>
            #    super();
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdateInvoice4Paym_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          ElementPosition     #1431655764
          HierarchyParent     #Generate
          ButtonDisplay       #Text & Image left
          NormalImage         #12519
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_Invoice4Paym_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePackingSlip
          AutoDeclaration     #Yes
          ElementPosition     #1342177276
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10665
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_PackingSlip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePickingList
          AutoDeclaration     #Yes
          ElementPosition     #536870910
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10681
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesFormLetter_PickingList
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #buttonUpdatePickingListRegistrate
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #PickAndPackGenerate
          ButtonDisplay       #Text & Image above
          NormalImage         #10683
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #Yes
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #wmsPickingregistration
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ButtonWithholdTax_IN
          AutoDeclaration     #Yes
          ElementPosition     #255652815
          HierarchyParent     #LineStripProduct
          Text                #@SYS33817
          DataSource          #SalesLine
          MenuItemName        #TaxWithholdTmpWorkTrans_IN
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #// <GIN>
            #void  clicked()
            #{
            #    if (TaxWithholdParameters_IN::checkTaxParameters())
            #    {
            #        SalesTotals::showWithholdTaxLine_IN(salesTable, salesLine, element);
            #    }
            #}
            #// </GIN>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CaseButton
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #GeneralCustomerCases
          Text                #@SYS317474
          ButtonDisplay       #Text & Image left
          NormalImage         #12198
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CaseDetail
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CheckCreditLimit
          AutoDeclaration     #Yes
          ElementPosition     #715827880
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image above
          NormalImage         #10492
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesCheckCreditLimit
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Complete
          AutoDeclaration     #Yes
          Visible             #No
          Width               #120
          ElementPosition     #1610612730
          HierarchyParent     #SalesOrderModify
          ButtonDisplay       #Text & Image above
          NormalImage         #11030
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_Complete
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    //Do not call super as logic is needed before and after call.
            #    //Also need SalesTable form to lock while order summary is open.
            #    //super();
            #    element.mcrLaunchOrderSummary();
            #
            #    salesTable_ds.reread();
            #
            #    element.mcrSwapCompleteAndModifyButtons();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ContactPerson
          AutoDeclaration     #Yes
          ElementPosition     #1252698793
          HierarchyParent     #GeneralCustomer
          ButtonDisplay       #Text & Image left
          NormalImage         #11118
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #contactPerson
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyLine
          AutoDeclaration     #Yes
          ElementPosition     #884257967
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS35635
          SaveRecord          #No
          DataSource          #SalesLine
          MenuItemName        #SalesLineCopy
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyOfDirPartyPostalAddressNewHeader
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #GroupHeaderAddressHeaderOverview
          Text                #@SYS111834
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyOfLogisticsLocationSelectHeader
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #GroupHeaderAddressHeaderOverview
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CopyOfSalesAvailableDlvDatesHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #SimulateDeliveryDatesGroup
          ButtonDisplay       #Image only
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Cov
          ElementPosition     #1610612733
          HierarchyParent     #InvoiceBill
          ButtonDisplay       #Text & Image left
          NormalImage         #10474
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #LedgerCoverage
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    // <GEERU>
            #    if (isRU)
            #    {
            #        if (salesTable.checkMarkupTrans_RU())
            #        {
            #            super();
            #        }
            #    }
            #    else
            #    {
            #    // </GEERU>
            #        super();
            #    // <GEERU>
            #    }
            #    // </GEERU>
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Create
          ElementPosition     #920350134
          HierarchyParent     #CreateActivity
          Text                #@SYS114625
          NormalImage         #10430
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmactivitiesactionNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateCase
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #GeneralCustomerCases
          Text                #@SYS191445
          ButtonDisplay       #Text & Image left
          NormalImage         #12420
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CaseDetailNewSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateEventKanbans
          HelpText            #@SYS324015
          ElementPosition     #434609785
          HierarchyParent     #LineStripProduct
          MultiSelect         #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #ReqEventProcessKanban
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateExportOrder_IN
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1879048185
          HierarchyParent     #SalesOrderNew
          Text                #@GLS60788
          DataSource          #SalesTable
          MenuItemName        #CustomsExportOrderTable_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreateTask
          ElementPosition     #1840700268
          HierarchyParent     #CreateActivity
          Text                #@SYS114680
          NormalImage         #10431
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmActivitiesTaskNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardAuthTrans
          ElementPosition     #1717986916
          HierarchyParent     #CreditCard
          Text                #@SYS317472
          DataSource          #SalesTable
          MenuItemName        #CreditCardAuthTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardPreauthorize
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #CreditCard
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #CreditCardPreauthorize
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CreditCardWizard
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #CreditCard
          Text                #@SYS32121
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CreditCardCust
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustAdvanceInvoiceCreate_CZ
          HelpText            #@GLS220282
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS107927
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #CzCustAdvanceInvoiceCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustDocumentLog
          AutoDeclaration     #Yes
          ElementPosition     #1952257860
          HierarchyParent     #ButtonLineInventory
          MenuItemName        #PdsMRCCustomerHistory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #CustomsExportAssessableValue_IN
          AutoDeclaration     #Yes
          ElementPosition     #770891562
          HierarchyParent     #LineStripFinancials
          DataSource          #SalesLine
          MenuItemName        #CustomsExportAssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyPostalAddressNewHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342027
          ElementPosition     #1802825776
          HierarchyParent     #GroupHeaderAddress
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DirPartyPostalAddressNewLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #SalesLine_DeliveryPostalAddressGroup
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #DocuActionTemplateUndefined
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #1431655764
          HierarchyParent     #mbTemplatesButton
          NeedsRecord         #Yes
          MenuItemName        #DocuActionTemplateUndefined
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EditDetailsButton
          AutoDeclaration     #Yes
          Visible             #No
          DisplayTarget       #Client
          ElementPosition     #1073741820
          HierarchyParent     #SalesOrderModify
          Text                #@SYS317438
          ButtonDisplay       #Text & Image above
          NormalImage         #10040
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          OpenMode            #Edit
          CopyCallerQuery     #Yes
          MenuItemName        #SalesTableForEdit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ExciseRegisterBalance_In
          ElementPosition     #472957707
          HierarchyParent     #LineStripProduct
          Text                #@GLS5618
          DataSource          #SalesLine
          MenuItemName        #exciseregisterBalance_In
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximAA_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS61753
          ElementPosition     #562436193
          HierarchyParent     #LineStripProduct
          Text                #@GLS61755
          MenuItemName        #EximExportDetailsAA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximDFIA_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS61754
          ElementPosition     #681740840
          HierarchyParent     #LineStripProduct
          Text                #@GLS61756
          MenuItemName        #EximExportDetailsDFIA_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #EximEPCG_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS62186
          ElementPosition     #879445683
          HierarchyParent     #LineStripProduct
          Text                #@GLS62209
          MenuItemName        #EximEPCGExportObligation_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #FactureEditLinesCust_Proforma_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          HelpText            #@GLS104543
          ElementPosition     #1908874352
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS116069
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #FactureEditLinesCust_Proforma_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #FactureEditLinesCust_RU
          AutoDeclaration     #Yes
          CountryRegionCodes  #RU
          HelpText            #@GLS104543
          ElementPosition     #954437176
          HierarchyParent     #InvoiceGenerate
          Text                #@GLS104802
          ButtonDisplay       #Text & Image above
          NormalImage         #10731
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #FactureEditLinesCust_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #HeaderInquiry_CostControlCommittedCost
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1431655764
          HierarchyParent     #GeneralRelatedInfo
          ButtonDisplay       #Text & Image left
          NormalImage         #11032
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          SaveRecord          #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #costcontrolCommittedCost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #HeaderPackageParm
          AutoDeclaration     #Yes
          ElementPosition     #1908874352
          HierarchyParent     #GeneralRelatedInfo
          DataSource          #SalesTable
          MenuItemName        #PlInventPackageParm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #HeaderTaxForms_IN
          AutoDeclaration     #Yes
          ElementPosition     #1840700268
          HierarchyParent     #SalesOrderAttachments
          ButtonDisplay       #Text & Image above
          NormalImage         #10837
          ImageLocation       #EmbeddedResource
          DisabledImage       #10040
          ShowShortCut        #No
          MultiSelect         #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          Parameters          #OneTime
          MenuItemName        #transitdocumentsalesTaxForm_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #IncentiveSchemeGroup_IN
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@GLS61731
          ElementPosition     #1002159033
          HierarchyParent     #LineStripProduct
          Text                #@GLS61496
          MenuItemName        #EximIncentiveSchemeGroupsForm_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimParmFixed
          AutoDeclaration     #Yes
          ElementPosition     #1968526670
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS5951
          SaveRecord          #No
          MenuItemName        #InventDimParmFixed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimParmFixedSMB
          AutoDeclaration     #Yes
          ElementPosition     #1952257860
          HierarchyParent     #LineStripSalesLineSMB
          Text                #@SYS5951
          SaveRecord          #No
          MenuItemName        #InventDimParmFixed
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimTracking
          AutoDeclaration     #Yes
          ElementPosition     #1757032074
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS5951
          DataSource          #SalesLine
          MenuItemName        #InventDimTracking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventDimTrackingSMB
          AutoDeclaration     #Yes
          ElementPosition     #1982292592
          HierarchyParent     #ButtonLineInventorySMB
          Text                #@SYS5951
          DataSource          #SalesLine
          MenuItemName        #InventDimTracking
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventNonConformanceTableHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackQualityManagement
          ButtonDisplay       #Text & Image above
          NormalImage         #11134
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #InventNonConformanceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventNonConformanceTableLine
          AutoDeclaration     #Yes
          ElementPosition     #1227133512
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #InventNonConformanceTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventOnhandInterCompany
          AutoDeclaration     #Yes
          ElementPosition     #1464193395
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS23939
          DataSource          #SalesLine
          MenuItemName        #InventOnhandInterCompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventOnhandInterCompanySMB
          AutoDeclaration     #Yes
          ElementPosition     #1651910490
          HierarchyParent     #ButtonLineInventorySMB
          Text                #@SYS23939
          DataSource          #SalesLine
          MenuItemName        #InventOnhandInterCompany
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventQualityOrderTableHeader
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackQualityManagement
          ButtonDisplay       #Text & Image above
          NormalImage         #11135
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #InventQualityOrderTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventQualityOrderTableLine
          AutoDeclaration     #Yes
          ElementPosition     #1329394638
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #InventQualityOrderTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTestCertOfAnalysisTable
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #InventTestCertOfAnalysisTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransPick
          AutoDeclaration     #Yes
          ElementPosition     #1145324608
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesLine
          MenuItemName        #InventTransPick
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransPickSMB
          AutoDeclaration     #Yes
          ElementPosition     #1717986916
          HierarchyParent     #LineStripUpdateSMB
          DataSource          #SalesLine
          MenuItemName        #InventTransPick
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransRegister
          AutoDeclaration     #Yes
          ElementPosition     #1002159032
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #TradeOrderLineRegister
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #InventTransRegisterSMB
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #LineStripUpdateSMB
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #TradeOrderLineRegister
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LCE_NetAmountTransactions
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #2092419960
          HierarchyParent     #LineStripFinancials
          SaveRecord          #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #costcontrolCommittedCost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LCE_ProcessOrder
          ElementPosition     #1968526675
          HierarchyParent     #Generate
          NormalImage         #3026
          ImageLocation       #EmbeddedResource
          MenuItemName        #LCE_OpenEditOrder
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LCE_Vehicle
          ElementPosition     #1431655764
          HierarchyParent     #LCE_VehicleGroup
          Text                #Vehicle
          ButtonDisplay       #Text & Image above
          NormalImage         #12563
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #LCE_ReserveVehicle
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineInquiry_CostControlCommittedCost
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1982292592
          HierarchyParent     #LineStripFinancials
          SaveRecord          #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #costcontrolCommittedCost
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineKitVariantComponents
          AutoDeclaration     #Yes
          HelpText            #@REX1120
          ElementPosition     #1313337104
          HierarchyParent     #ButtonLineInventory
          Text                #@REX1120
          DataSource          #SalesLine
          MenuItemName        #retailkitvariantComponents
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineKitVariantComponentsSMB
          AutoDeclaration     #Yes
          HelpText            #@REX1120
          ElementPosition     #1321528392
          HierarchyParent     #ButtonLineInventorySMB
          Text                #@REX1120
          DataSource          #SalesLine
          MenuItemName        #retailkitvariantComponents
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LinePackageParm
          AutoDeclaration     #Yes
          ElementPosition     #1483277961
          HierarchyParent     #LineStripFinancials
          DataSource          #SalesLine
          MenuItemName        #PlInventPackageParm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #linePriceDiscActual
          AutoDeclaration     #Yes
          ElementPosition     #495573147
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          MenuItemName        #priceDiscActual
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #linePriceDiscActualSMB
          AutoDeclaration     #Yes
          ElementPosition     #805306365
          HierarchyParent     #LineStripFinancialsSMB
          NeedsRecord         #Yes
          MenuItemName        #priceDiscActual
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineTaxTransSource
          AutoDeclaration     #Yes
          ElementPosition     #1156337343
          HierarchyParent     #LineStripFinancials
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #TaxTransSourceSalesOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    SalesTotals::showTaxLine(menuitemDisplayStr(TaxTmpWorkSalesOrder), salesTable,salesLine,element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineTaxTransSourceSMB
          AutoDeclaration     #Yes
          ElementPosition     #1879048188
          HierarchyParent     #LineStripFinancialsSMB
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #TaxTransSourceSalesOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #    SalesTotals::showTaxLine(menuitemDisplayStr(TaxTmpWorkSalesOrder), salesTable,salesLine,element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LineViewPeggingTree
          HelpText            #@SYS324019
          ElementPosition     #2045222520
          HierarchyParent     #LineStripProduct
          Text                #@SYS320711
          SaveRecord          #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #LeanPeggingTree
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LogisticsLocationSelectHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342026
          ElementPosition     #1458167907
          HierarchyParent     #GroupHeaderAddress
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #LogisticsLocationSelectLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #SalesLine_DeliveryPostalAddressGroup
          ButtonDisplay       #Image only
          DataSource          #SalesLine
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRBrokerCommission
          ElementPosition     #2048063103
          HierarchyParent     #LineStripSalesLine
          MenuItemName        #MCRBrokerCommission
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCatalog
          AutoDeclaration     #Yes
          ElementPosition     #1550960410
          HierarchyParent     #GeneralCustomer
          ButtonDisplay       #Text & Image right
          NormalImage         #10911
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCRCatalogRequest
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args        args;
            #    FormRun     formRun;
            #
            #    args = new Args();
            #    args.record(CustTable::find(salesTable.CustAccount));
            #    args.caller(this);
            #    formrun = new MenuFunction(menuitemDisplayStr(MCRCatalogRequest),MenuItemType::Display).create(args);
            #    formrun.run();
            #    formrun.wait();
            #
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRContinuitySchedule
          AutoDeclaration     #Yes
          ElementPosition     #1260093708
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_continuity
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCouponSalesTable
          AutoDeclaration     #Yes
          HelpText            #@MCR25553
          ElementPosition     #1193046470
          HierarchyParent     #MCRCoupon
          ButtonDisplay       #Text & Image below
          NormalImage         #10842
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #MCRCouponSalesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCreateCustHeaderCredit
          AutoDeclaration     #Yes
          HelpText            #@MCR26384
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #858993458
          HierarchyParent     #MCRSalesOrderFunctions
          Text                #@MCR25766
          ButtonDisplay       #Text & Image right
          NormalImage         #10016
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCRCreateCustCredit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCustomerService
          AutoDeclaration     #Yes
          HelpText            #@MCR10077
          ElementPosition     #1849222027
          HierarchyParent     #GeneralCustomer
          Text                #@MCR10553
          ButtonDisplay       #Text & Image right
          NormalImage         #11148
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCRCustomerService
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args        args;
            #    FormRun     formRun;
            #
            #    args = new Args();
            #    args.record(CustTable::find(salesTable.CustAccount));
            #    // Pass this so that the customer service form will show the cust record.
            #    args.caller(this);
            #    formrun = new MenuFunction(menuitemDisplayStr(MCRCustomerService),MenuItemType::Display).create(args);
            #    formrun.run();
            #    formrun.wait();
            #    //Removed call to super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRCustPaymTableButton
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #MCRPayments
          Text                #@SYS58091
          ButtonDisplay       #Text & Image right
          NormalImage         #12405
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #MCRCustPaymTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRDirPartyPostalAddressNewHeader1
          Visible             #No
          HelpText            #@SYS342027
          ElementPosition     #1717986916
          HierarchyParent     #MCRGroupHeaderAddressHeaderOverview
          Text                #@SYS111834
          ButtonDisplay       #Image only
          MenuItemName        #CustDirPartyPostalAddressNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRItemDisplay
          AutoDeclaration     #Yes
          ElementPosition     #1206850312
          HierarchyParent     #ButtonLineInventory
          Text                #@MCR20541
          SaveRecord          #No
          MenuItemName        #MCRItemDisplay
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args args;
            #    FormRun formRun;
            #
            #    //Removed call to super();
            #    args = new Args();
            #    args.record(salesLine);
            #    args.caller(element);
            #
            #    formRun = new MenuFunction(menuitemDisplayStr(MCRItemDisplay), MenuItemType::Display).create(args);
            #
            #    formRun.run();
            #    formRun.wait();
            #
            #    // If the line hasn't been saved, there is no way more lines could have
            #    // been added, so there is no need to re-execute the query.
            #    if (salesLine.RecId)
            #    {
            #        salesLine_ds.executeQuery();
            #        salesLine_ds.last();
            #    }
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRItemListCopying
          ElementPosition     #1052688055
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesTable
          MenuItemName        #MCRItemListCopying
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRLineNotesLine
          AutoDeclaration     #Yes
          ElementPosition     #1789569698
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS40182
          NormalImage         #10841
          ImageLocation       #EmbeddedResource
          DataSource          #SalesLine
          MenuItemName        #MCROrderNotes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRLineNotesLineSMB
          AutoDeclaration     #Yes
          ElementPosition     #1171354716
          HierarchyParent     #LineStripSalesLineSMB
          Text                #@SYS40182
          NormalImage         #10841
          ImageLocation       #EmbeddedResource
          DataSource          #SalesLine
          MenuItemName        #MCROrderNotes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRLogisticsLocationSelectHeader1
          HelpText            #@SYS342026
          ElementPosition     #1288490187
          HierarchyParent     #MCRGroupHeaderAddressHeaderOverview
          ButtonDisplay       #Image only
          MenuItemName        #LogisticsLocationSelect
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCROrderEvent
          AutoDeclaration     #Yes
          HelpText            #@MCR24521
          ElementPosition     #1288490187
          HierarchyParent     #SalesOrderView
          ButtonDisplay       #Text & Image right
          NormalImage         #10067
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #MCROrderEventTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCROrderNotes
          AutoDeclaration     #Yes
          ElementPosition     #920350134
          HierarchyParent     #SalesOrderAttachments
          Text                #@SYS40182
          ButtonDisplay       #Text & Image left
          NormalImage         #3061
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCROrderNotes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRPriceHistory
          AutoDeclaration     #Yes
          ElementPosition     #2053911370
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesLine
          MenuItemName        #MCRPriceHistory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRPriceMatch
          AutoDeclaration     #Yes
          HelpText            #@MCR26385
          ElementPosition     #477218586
          HierarchyParent     #LineStripUpdate
          Text                #@MCR25762
          MenuItemName        #MCRCreateCustCredit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRRecap
          AutoDeclaration     #Yes
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #1288490187
          HierarchyParent     #MCRSalesOrderFunctions
          ButtonDisplay       #Text & Image right
          NormalImage         #10010
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #mcrsalestablecontroller_recap
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRSalesAvailableDlvDatesHeader1
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #MCRSimulateDeliveryDatesGroup
          ButtonDisplay       #Image only
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRSalesAvailableDlvDatesList
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #LineDelivery
          SaveRecord          #No
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    salesLine_ds.updateExplosionCTP();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRSalesStatsCust
          AutoDeclaration     #Yes
          ElementPosition     #1610612734
          HierarchyParent     #ManageCustomer
          Text                #@SYS28043
          ButtonDisplay       #Text & Image left
          NormalImage         #818
          ImageLocation       #EmbeddedResource
          MenuItemName        #MCRSalesStatsCust
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    Args        args;
            #    FormRun     formRun;
            #
            #    args = new Args();
            #    args.record(CustTable::find(salesTable.CustAccount));
            #    args.caller(this);
            #    formrun = new MenuFunction(menuitemDisplayStr(MCRSalesStatsCust),MenuItemType::Display).create(args);
            #    formrun.run();
            #    formrun.wait();
            #
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRSalesTableDetailedStatus
          ElementPosition     #1717986916
          HierarchyParent     #SalesOrderView
          MenuItemName        #MCRSalesTableDetailedStatus
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MCRUpdateGiftCard
          AutoDeclaration     #Yes
          ConfigurationKey    #RetailGiftCard
          ElementPosition     #763549738
          HierarchyParent     #LineStripUpdate
          DataSource          #MCRSalesLine
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_updateGiftCard
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    super();
            #
            #    mcrSalesLine_ds.refresh();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #MenuItemSalesPrepayment
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #RetailPrepaymentBalance
          DataSource          #SalesTable
          MenuItemName        #RetailSalesPrepaymentBalance
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #mibNotificationLog
          ElementPosition     #1610612733
          HierarchyParent     #EventNotification
          Text                #@RET4160305
          NormalImage         #12569
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MenuItemName        #RetailEventNotificationLog
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #mibRetailAttribute
          HelpText            #@RET4170029
          ElementPosition     #1431655764
          HierarchyParent     #btngrpAttribute
          Text                #@RET490397
          NormalImage         #12857
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          MenuItemName        #RetailSalesTableAttributes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #mibSalesTransactions
          HelpText            #@RET4160318
          ElementPosition     #1431655764
          HierarchyParent     #btngrpInquiries
          Text                #@RET3214
          NormalImage         #10834
          ImageLocation       #EmbeddedResource
          MultiSelect         #No
          DataSource          #SalesTable
          MenuItemName        #RetailTransactionTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #Modify
          AutoDeclaration     #Yes
          Visible             #No
          Width               #125
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #805306365
          HierarchyParent     #SalesOrderModify
          ButtonDisplay       #Text & Image above
          NormalImage         #11030
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #MCRSalesTableController_modify
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    //super();
            #    element.mcrModify();
            #
            #    element.mcrSwapCompleteAndModifyButtons();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #OpenMSDSDocument
          AutoDeclaration     #Yes
          ElementPosition     #2049870753
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image left
          MenuItemName        #PdsMRCDocument
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #OpenTrans
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceSettle
          Text                #@SYS3500
          ButtonDisplay       #Text & Image above
          NormalImage         #10793
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #CustOpenTrans
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PBAConfiguratedItem
          AutoDeclaration     #Yes
          ElementPosition     #749914924
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemType        #Output
          MenuItemName        #PBAConfiguratedItem
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsBatchAttribReserve
          AutoDeclaration     #Yes
          ElementPosition     #546632200
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #PdsBatchAttribReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsRebateTable
          ElementPosition     #1705827011
          HierarchyParent     #LineStripFinancials
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #PdsRebateTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PdsRebateTable1
          ElementPosition     #1879048190
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #PdsRebateTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlInventExternalReserve
          AutoDeclaration     #Yes
          ElementPosition     #624722514
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #PlInventExternalReserve
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlInventSumExternal
          AutoDeclaration     #Yes
          ElementPosition     #940633332
          HierarchyParent     #ButtonLineInventory
          DataSource          #SalesLine
          MenuItemName        #PlInventSumExternal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlInventSumExternalSMB
          AutoDeclaration     #Yes
          ElementPosition     #991146294
          HierarchyParent     #ButtonLineInventorySMB
          DataSource          #SalesLine
          MenuItemName        #PlInventSumExternal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PlPurchCreateForExternal
          AutoDeclaration     #Yes
          Enabled             #No
          ElementPosition     #805306365
          HierarchyParent     #SalesOrderNew
          ButtonDisplay       #Text & Image above
          NormalImage         #12829
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemType        #Action
          MenuItemName        #PlPurchCreateForExternal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfBatchOrderNew
          AutoDeclaration     #Yes
          NeededPermission    #Create
          ElementPosition     #396261863
          HierarchyParent     #LineStripProduct
          NormalImage         #10888
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          MultiSelect         #No
          Big                 #Yes
          Primary             #Yes
          MenuItemName        #PmfbatchOrderNew
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    salesLine.type().formProduction(element);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfMultiDimProcessInventory
          ElementPosition     #1100363520
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          MenuItemName        #PmfMultiDimProcessInventory
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PmfPackOnHand
          AutoDeclaration     #Yes
          ElementPosition     #1153606916
          HierarchyParent     #ButtonLineInventory
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          DataSource          #SalesLine
          MenuItemName        #PmfPackOnHand
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #priceDiscActual
          AutoDeclaration     #Yes
          ElementPosition     #1342177278
          HierarchyParent     #ManageCustomer
          ButtonDisplay       #Text & Image left
          NormalImage         #10693
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          MenuItemName        #priceDiscActual
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PriceDiscAdmTable_SalesCreate
          ElementPosition     #1879048185
          HierarchyParent     #ButtonHeaderTradeAgreements
          MenuItemName        #PriceDiscAdmTable_SalesCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #PriceDiscTable_Sales
          ElementPosition     #536870910
          HierarchyParent     #ButtonHeaderTradeAgreements
          MenuItemName        #PriceDiscTable_Sales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RecordEvent
          ElementPosition     #1533916890
          HierarchyParent     #CreateActivity
          Text                #@SYS114679
          NormalImage         #10432
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmactivitieseventNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReleaseToWarehouse
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #ButtonGroupActions
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #WHSReleaseToWarehouse
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReqMultiLevelPegging
          ElementPosition     #1840700268
          HierarchyParent     #LineStripProduct
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #ReqMultiLevelPegging
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ReqTransNet
          AutoDeclaration     #Yes
          ElementPosition     #1636178016
          HierarchyParent     #LineStripProduct
          DataSource          #SalesLine
          MenuItemName        #ReqTransNet
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #RetailAddItemMenuItem
          AutoDeclaration     #Yes
          ConfigurationKey    #Retail
          ElementPosition     #1193046468
          HierarchyParent     #LineOverviewMainActionButtonGroup
          Text                #@RET4905
          ButtonDisplay       #Text & Image left
          NormalImage         #11373
          ImageLocation       #EmbeddedResource
          DataSource          #SalesTable
          MenuItemName        #RetailAddItems
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #public void clicked()
            #{
            #    if (SalesTableForm.editHeaderAllowed(true))
            #    {
            #        super();
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesAgreementLine
          AutoDeclaration     #Yes
          ElementPosition     #1861152488
          HierarchyParent     #LineStripUpdate
          Text                #@SYS26568
          DataSource          #SalesLine
          MenuItemName        #SalesAgreementLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesATP
          AutoDeclaration     #Yes
          ElementPosition     #940802358
          HierarchyParent     #LineStripProduct
          MenuItemName        #SalesATP
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesAvailableDlvDatesHeader
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #SalesAvailableDlvDatesHeaderGroup
          ButtonDisplay       #Image only
          SaveRecord          #No
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesAvailableDlvDatesLine
          AutoDeclaration     #Yes
          HelpText            #@SYS342028
          ElementPosition     #1610612734
          HierarchyParent     #SalesAvailableDlvDatesLineGroup
          ButtonDisplay       #Image only
          SaveRecord          #No
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #SalesAvailableDlvDates
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    salesLine_ds.updateExplosionCTP();
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyAllHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #SalesOrderCopy
          Text                #@SYS317844
          ButtonDisplay       #Text & Image left
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesCopyAllHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyAllLines
          ElementPosition     #715827879
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS317844
          DataSource          #SalesTable
          MenuItemName        #SalesCopyAllLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyJournalHeader
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #SalesOrderCopy
          Text                #@SYS317845
          ButtonDisplay       #Text & Image left
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesCopyJournalHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCopyJournalLines
          ElementPosition     #800042923
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS317845
          DataSource          #SalesTable
          MenuItemName        #SalesCopyJournalLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCreditNoteHeader
          AutoDeclaration     #Yes
          ElementPosition     #1073741822
          HierarchyParent     #SellCreate
          Text                #@SYS114655
          ButtonDisplay       #Text & Image above
          NormalImage         #10534
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesCreditNoteHeader
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCreditNoteLines
          AutoDeclaration     #Yes
          ElementPosition     #505290268
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS8125
          DataSource          #SalesTable
          MenuItemName        #SalesCreditNoteLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesCreditNoteLinesSMB
          AutoDeclaration     #Yes
          ElementPosition     #585677358
          HierarchyParent     #LineStripSalesLineSMB
          Text                #@SYS8125
          DataSource          #SalesTable
          MenuItemName        #SalesCreditNoteLines
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesEndDisc
          AutoDeclaration     #Yes
          ElementPosition     #1610612730
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_EndDiscSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesJournalAutoSummary_Sales
          ElementPosition     #1610612734
          HierarchyParent     #GeneralSetup
          Text                #@SYS114681
          ButtonDisplay       #Text & Image above
          NormalImage         #10819
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SalesJournalAutoSummary_Sales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineDisc
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_LineDiscSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineReturnLine
          AutoDeclaration     #Yes
          ElementPosition     #1852730982
          HierarchyParent     #LineStripSalesLine
          MenuItemName        #SalesLineReturnLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineReturnLineSMB
          AutoDeclaration     #Yes
          ElementPosition     #1561806288
          HierarchyParent     #LineStripSalesLineSMB
          MenuItemName        #SalesLineReturnLine
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesLineSplit_RU
          ElementPosition     #968473011
          HierarchyParent     #LineStripSalesLine
          DataSource          #SalesLine
          MenuItemType        #Action
          MenuItemName        #SalesLineSplit_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesMultiLineDisc
          AutoDeclaration     #Yes
          ElementPosition     #1342177275
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_MultiLineDiscSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesPrice
          ElementPosition     #805306365
          HierarchyParent     #ButtonHeaderTradeAgreements
          DataSource          #SalesTable
          MenuItemName        #PriceDiscTable_PriceSales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesUpdateRemain
          AutoDeclaration     #Yes
          ElementPosition     #668106021
          HierarchyParent     #LineStripUpdate
          DataSource          #SalesLine
          MenuItemName        #SalesUpdateRemain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SalesVoidFiscalDocument_BR
          ElementPosition     #1610612733
          HierarchyParent     #SellCreate
          Text                #@SYS4000606
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          MenuItemName        #SalesVoidFiscalDocument_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ScheduleAppointment
          ElementPosition     #1227133512
          HierarchyParent     #CreateActivity
          Text                #@SYS114626
          NormalImage         #10433
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #smmActivitiesAppointmentNew
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ServicingViewActivities
          AllowEdit           #No
          ElementPosition     #613566756
          HierarchyParent     #CreateActivity
          Text                #@SYS114624
          NormalImage         #10434
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          MenuItemName        #ActivitiesMain
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #ShipCarrierEmailAddress
          ElementPosition     #1073741822
          HierarchyParent     #PickAndPackDelivery
          Text                #@SYS317471
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          MenuItemName        #ShipCarrierEmailAddress
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SMAAgreementWizard
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #SellApply
          Text                #@SYS114654
          ButtonDisplay       #Text & Image above
          NormalImage         #10785
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemName        #SMAAgreementWizard
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SMAServiceOrderWizard
          AutoDeclaration     #Yes
          ElementPosition     #1073741820
          HierarchyParent     #SalesOrderNew
          Text                #@SYS123643
          ButtonDisplay       #Text & Image above
          NormalImage         #10875
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          OpenMode            #New
          MenuItemName        #SMAServiceOrderWizard
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SuppItemCalc_Sales
          AutoDeclaration     #Yes
          ElementPosition     #1515870804
          HierarchyParent     #LineStripSalesLine
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #SuppItemCalc_Sales
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #
            #    super();
            #
            #    element.doRefresh();
            #    //This will trigger the creditlimit calculation when salesTable.validateWrite is called
            #    salesTable_ds.setTouched();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #SuppItemTable_Sales
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #GeneralMaintain
          ButtonDisplay       #Text & Image above
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #SuppItemTable_Sales
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TaxForms_IN
          ElementPosition     #1800096578
          HierarchyParent     #LineStripSalesLine
          ShowShortCut        #No
          MultiSelect         #No
          NeedsRecord         #Yes
          DataSource          #SalesLine
          MenuItemName        #transitdocumentsalesTaxForm_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TaxTransSource
          ElementPosition     #1431655764
          HierarchyParent     #SellTax
          ButtonDisplay       #Text & Image above
          NormalImage         #10777
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #TaxTransSourceSalesOrder
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    element.automaticTotalDiscount();
            #
            #    if (!tmpSalesTableTaxTransForm || (tmpSalesTableTaxTransForm && tmpSalesTableTaxTransForm.closed()))
            #    {
            #        tmpSalesTableTaxTransForm = SalesTotals::showTax(menuitemDisplayStr(TaxTmpWorkSalesOrder), salesTable);
            #    }
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSInvoiceJournal
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #ButtonGroupInvoice
          ButtonDisplay       #Text & Image above
          NormalImage         #10612
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSInvoiceJournal
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench
          ElementPosition     #1610612730
          HierarchyParent     #ButtonGroupRating
          ButtonDisplay       #Text & Image above
          NormalImage         #11092
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #TMSRateRouteWorkbench
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_Rate
          AutoDeclaration     #Yes
          HelpText            #@TRX609
          ElementPosition     #357913940
          HierarchyParent     #ButtonGroupRating
          Text                #@TRX509
          ButtonDisplay       #Text & Image above
          NormalImage         #12203
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRateRouteWorkbench_Rate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_RateRoute
          AutoDeclaration     #Yes
          HelpText            #@TRX612
          ElementPosition     #894784850
          HierarchyParent     #ButtonGroupRating
          Text                #@TRX531
          ButtonDisplay       #Text & Image above
          NormalImage         #10796
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRateRouteWorkbench_rateRoute
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_RateShop
          AutoDeclaration     #Yes
          HelpText            #@TRX610
          ElementPosition     #536870910
          HierarchyParent     #ButtonGroupRating
          Text                #@TRX510
          ButtonDisplay       #Text & Image above
          NormalImage         #12138
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRateRouteWorkbench_rateShop
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRateRouteWorkbench_Route
          AutoDeclaration     #Yes
          HelpText            #@TRX611
          ElementPosition     #715827880
          HierarchyParent     #ButtonGroupRating
          Text                #@TRX519
          ButtonDisplay       #Text & Image above
          NormalImage         #12132
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRateRouteWorkbench_Route
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TMSRouteWorkbench
          ElementPosition     #1968526673
          HierarchyParent     #ButtonGroupRating
          ButtonDisplay       #Text & Image above
          NormalImage         #12304
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          DataSource          #SalesTable
          MenuItemName        #TMSRouteWorkbench
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TradeBLWIChangeCode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #InvoiceChange
          Text                #@SYS317557
          ButtonDisplay       #Text & Image above
          ImageLocation       #EmbeddedResource
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          DataSource          #SalesTable
          MenuItemType        #Action
          MenuItemName        #TradeBLWIChangeSalesTable
        ENDPROPERTIES
        
        METHODS
          SOURCE #clicked
            #void clicked()
            #{
            #    if (! salesTable.RecId)
            #    {
            #        salesTable.write();
            #    }
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #TransportationDocument
          ElementPosition     #1610612733
          HierarchyParent     #PickAndPackDelivery
          ButtonDisplay       #Text & Image above
          ShowShortCut        #No
          Big                 #Yes
          Primary             #Yes
          NeedsRecord         #Yes
          DataSource          #SalesTable
          MenuItemName        #TransportationDocument
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WHSLoadPlanningWorkbench
          ElementPosition     #1431655764
          HierarchyParent     #ButtonGroupLoads
          ButtonDisplay       #Text & Image above
          NormalImage         #3488
          ImageLocation       #EmbeddedResource
          Big                 #Yes
          MenuItemName        #WHSLoadPlanningWorkbench
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WHSWorkTable
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #WHSLineStripMenuButton
          DataSource          #SalesLine
          MenuItemName        #WHSWorkTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL MENUITEMBUTTON
        PROPERTIES
          Name                #WMSOrderAllowCreate
          AutoDeclaration     #Yes
          ElementPosition     #292838679
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS53672
          DataSource          #SalesLine
          MenuItemName        #WMSOrderAllowCreate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DiscMarkup_DiscPercentHeaderOverview
          ElementPosition     #1431655764
          HierarchyParent     #GroupDiscountHeaderOverview
          DataSource          #SalesTable
          DataField           #DiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #DiscPercent
          ElementPosition     #1825361098
          HierarchyParent     #TabHeaderPriceCalc
          DataSource          #SalesTable
          DataField           #DiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EximSalesLine_IN_DBKPercent
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1288490184
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #DBKPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #EximSalesLine_IN_MarketValue
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #644245092
          HierarchyParent     #EximIncentiveScheme_IN
          DataSource          #EximSalesLine_IN
          DataField           #MarketValue
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_IntrastatAddValue_LV
          ElementPosition     #894784852
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #IntrastatAddValue_LV
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ItemVolume
          ElementPosition     #1610612733
          HierarchyParent     #PhysDims
          DataSource          #SalesLine
          DataMethod          #whsItemUnitVolume
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #ItemWeight
          ElementPosition     #1073741822
          HierarchyParent     #PhysDims
          DataSource          #SalesLine
          DataMethod          #whsItemGrossWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LineManualDiscountPercentage
          Width               #Column width
          ElementPosition     #477218588
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #RetailSalesLine
          DataField           #LineManualDiscountPercentage
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadGrossWeight
          ElementPosition     #1894838505
          HierarchyParent     #Grid
          Label               #@SYS53799
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadGrossWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadNetWeight
          ElementPosition     #2021161072
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadNetWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadVolume
          ElementPosition     #631612835
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadVolume
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #LoadWeight
          ElementPosition     #505290268
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadWeight
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #MCRDiscMarkup_DiscPercentHeaderOverview
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #MCRGroupDiscountHeaderOverview
          DataSource          #SalesTable
          DataField           #DiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #MCRSalesLine_GiftCardAmount_RU
          AutoDeclaration     #Yes
          ElementPosition     #1932735281
          HierarchyParent     #GiftCard
          DataSource          #MCRSalesLine
          DataField           #GiftCardAmount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #MCRSalesLinePriceOverride_ListPrice
          ElementPosition     #858993458
          HierarchyParent     #MCRPriceOverride
          DataSource          #MCRSalesLinePriceOverride
          DataField           #ListPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #OriginalInvoice_LineAmount
          ElementPosition     #1908874352
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS6901
          DataSource          #CustInvoiceTrans
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #OriginalInvoice_Qty
          ElementPosition     #1431655764
          HierarchyParent     #GroupOriginalInvoice
          DataSource          #CustInvoiceTrans
          DataField           #Qty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #OriginalInvoice_SalesPrice
          ElementPosition     #1670265058
          HierarchyParent     #GroupOriginalInvoice
          DataSource          #CustInvoiceTrans
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Packagingmaterial_PackingUnitQty
          ElementPosition     #1073741822
          HierarchyParent     #Packagingmaterial
          DataSource          #SalesLine
          DataField           #PackingUnitQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Payment_CashDiscPercent
          ElementPosition     #1561806288
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #CashDiscPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Potency_M_pdsCalculatedLineAmount
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1717986916
          HierarchyParent     #Potency
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Potency_M_pdsCalculatedUnitPrice
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #1288490187
          HierarchyParent     #Potency
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PotencyGrid_M_pdsCalculatedLineAmount
          AllowEdit           #No
          ElementPosition     #1073741814
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedLineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PotencyGrid_M_pdsCalculatedUnitPrice
          AllowEdit           #No
          ElementPosition     #715827876
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculatedUnitPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #PriceUnit
          ElementPosition     #1073741821
          HierarchyParent     #Prices
          DataSource          #SalesLine
          DataField           #PriceUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #Return_CostPrice
          ElementPosition     #1288490187
          HierarchyParent     #Return
          DataSource          #SalesLine
          DataField           #CostPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_AssessableValue_IN
          AutoDeclaration     #Yes
          ElementPosition     #1849222013
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine_IN
          DataField           #AssessableValue_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_CustomsMaxRetailPrice_IN
          AutoDeclaration     #Yes
          ElementPosition     #1968526675
          HierarchyParent     #Prices
          DataSource          #SalesLine_IN
          DataField           #CustomsMaxRetailPrice_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_FLC_CostPrice
          ElementPosition     #1043915652
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #FLC_CostPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_FLC_CurrencyExchangeRate
          ElementPosition     #1789569705
          HierarchyParent     #FLC_ProductAgreement
          DataSource          #SalesLine
          DataField           #FLC_CurrencyExchangeRate
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_FLC_PurchasePrice
          ElementPosition     #1073741823
          HierarchyParent     #FLC_ProductAgreement
          DataSource          #SalesLine
          DataField           #FLC_PurchasePrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LCE_HSORetailPrice
          ElementPosition     #1610612733
          HierarchyParent     #ART_Custom
          DataSource          #SalesLine
          DataField           #LCE_HSORetailPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LineAmount
          ElementPosition     #1014089491
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineAmount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LineDisc
          Width               #Column width
          ElementPosition     #715827882
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LineDiscGrid
          AutoDeclaration     #Yes
          ElementPosition     #894784845
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LinePercent
          Width               #Column width
          ElementPosition     #1073741823
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_LinePercentGrid
          AutoDeclaration     #Yes
          ElementPosition     #954437168
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #LinePercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_MaximumRetailPrice_IN
          AutoDeclaration     #Yes
          ElementPosition     #1789569704
          HierarchyParent     #Prices
          DataSource          #SalesLine_IN
          DataField           #MaximumRetailPrice_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_MultilineDisc
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #MultiLnDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_MultilinePurchasePercent
          Width               #Column width
          ElementPosition     #1789569705
          HierarchyParent     #Disc
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #MultiLnPercent
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_PdsCWInventDeliverNow
          ElementPosition     #596523230
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #PdsCWInventDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesDeliverNow1
          ElementPosition     #1193046460
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesDeliverNow
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesMarkUp
          ElementPosition     #1431655762
          HierarchyParent     #Prices
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesMarkup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesPrice
          AutoDeclaration     #Yes
          HelpText            #@SYS1174
          ElementPosition     #835132522
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          Label               #@SYS11770
          DataSource          #SalesLine
          DataField           #SalesPrice
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SalesQty
          AutoDeclaration     #Yes
          ElementPosition     #477218584
          HierarchyParent     #SalesLineGrid
          ShowZero            #No
          DataSource          #SalesLine
          DataField           #SalesQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_StatisticValue_LT
          ElementPosition     #2125114024
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #StatisticValue_LT
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLine_SuframaDiscount_BR
          ElementPosition     #1908874336
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine_BR
          DataField           #SuframaDiscount_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_OverDeliveryPct
          Width               #Column width
          ElementPosition     #715827882
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #OverDeliveryPct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_UnderDeliveryPct
          Width               #Column width
          ElementPosition     #1073741823
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #UnderDeliveryPct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #SalesTable_RefInvoiceAmountCur_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1963413618
          HierarchyParent     #GroupReferences
          DataSource          #SalesTableExtensionTH
          DataField           #RefInvoiceAmountCur
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL REALEDIT
        PROPERTIES
          Name                #WHSSalesLine_PackingQty
          AutoDeclaration     #Yes
          ElementPosition     #1610612721
          HierarchyParent     #SalesLineGrid
          DataSource          #WHSSalesLine
          DataField           #PackingQty
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEGMENTEDENTRY
        PROPERTIES
          Name                #LinePosting_LedgerDimension
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #LinePosting
          DataSource          #SalesLine
          ReferenceField      #LedgerDimension
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    ledgerDefaultAccountController.jumpRef();
            #}
          ENDSOURCE
          SOURCE #loadAutoCompleteData
            #public void loadAutoCompleteData(LoadAutoCompleteDataEventArgs _e)
            #{
            #    ledgerDefaultAccountController.loadAutoCompleteData(_e);
            #    super(_e);
            #}
          ENDSOURCE
          SOURCE #loadSegments
            #public void loadSegments()
            #{
            #    super();
            #    ledgerDefaultAccountController.loadSegments();
            #}
          ENDSOURCE
          SOURCE #segmentValueChanged
            #public void segmentValueChanged(SegmentValueChangedEventArgs _e)
            #{
            #    super(_e);
            #    ledgerDefaultAccountController.segmentValueChanged(_e);
            #}
          ENDSOURCE
          SOURCE #validate
            #public boolean validate()
            #{
            #    boolean isValid;
            #
            #    isValid = super();
            #    isValid = ledgerDefaultAccountController.validate() && isValid;
            #
            #    return isValid;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #ExciseRegisterBal_IN
          ElementPosition     #357913941
          HierarchyParent     #LineStripProduct
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LCE_LineStripFinancialsSalesOrderHistory
          ElementPosition     #2037356276
          HierarchyParent     #LineStripFinancials
          Text                #@LCE152
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialPackagesSeparator
          CountryRegionCodes  #PL
          ElementPosition     #1372003436
          HierarchyParent     #LineStripFinancials
          Text                #@GLS110272
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsChargesSeparator
          ElementPosition     #660764196
          HierarchyParent     #LineStripFinancials
          Text                #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsChargesSeparatorSMB
          ElementPosition     #1073741820
          HierarchyParent     #LineStripFinancialsSMB
          Text                #@SYS114608
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsCustomerSeparator
          ElementPosition     #330382098
          HierarchyParent     #LineStripFinancials
          Text                #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsCustomerSeparatorSMB
          ElementPosition     #536870910
          HierarchyParent     #LineStripFinancialsSMB
          Text                #@SYS80104
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsIntroduceSeparator
          AutoDeclaration     #Yes
          ElementPosition     #1321528392
          HierarchyParent     #LineStripFinancials
          Text                #@SYS317556
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsRelatedInfoSeparator
          ElementPosition     #1817101539
          HierarchyParent     #LineStripFinancials
          Text                #@SYS111665
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsTaxSeparator
          ElementPosition     #991146294
          HierarchyParent     #LineStripFinancials
          Text                #@SYS28668
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripFinancialsTaxSeparatorSMB
          ElementPosition     #1610612730
          HierarchyParent     #LineStripFinancialsSMB
          Text                #@SYS28668
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryDimensionsSeparator
          ElementPosition     #1659419181
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS26038
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryDimensionsSeparatorSMB
          ElementPosition     #1817101539
          HierarchyParent     #ButtonLineInventorySMB
          Text                #@SYS26038
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryInterCompanySeparator
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1366580502
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS316397
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryInterCompanySeparatorSMB
          ConfigurationKey    #TradeInterCompany
          ElementPosition     #1486719441
          HierarchyParent     #ButtonLineInventorySMB
          Text                #@SYS316397
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryMaintainSeparator
          ElementPosition     #390451572
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS323172
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryMaintainSeparatorSMB
          ElementPosition     #330382098
          HierarchyParent     #ButtonLineInventorySMB
          Text                #@SYS323172
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryNewSeparator
          ElementPosition     #195225786
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparator
          ElementPosition     #780903144
          HierarchyParent     #ButtonLineInventory
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripInventoryViewSeparatorSMB
          ElementPosition     #660764196
          HierarchyParent     #ButtonLineInventorySMB
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripMSDSSeparator
          ElementPosition     #1854644967
          HierarchyParent     #ButtonLineInventory
          Text                #@PDS1378
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductNewSeparator
          ElementPosition     #204522252
          HierarchyParent     #LineStripProduct
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductProductModelSeparator
          ElementPosition     #511305630
          HierarchyParent     #LineStripProduct
          Text                #@SYS124268
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductQualitySeparator
          AutoDeclaration     #Yes
          ElementPosition     #1124872386
          HierarchyParent     #LineStripProduct
          Text                #@SYS113616
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductRequirementsSeparator
          ElementPosition     #1533916890
          HierarchyParent     #LineStripProduct
          Text                #@SYS118437
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripProductViewSeparator
          ElementPosition     #818089008
          HierarchyParent     #LineStripProduct
          Text                #@SYS53394
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineAttachmensSeparator
          ElementPosition     #1642193371
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS114630
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineAttachmensSeparatorSMB
          ElementPosition     #780903144
          HierarchyParent     #LineStripSalesLineSMB
          Text                #@SYS114630
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineBOMSeparator
          ElementPosition     #1136903103
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS69965
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineCalculateSeparator
          ElementPosition     #1389548237
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineCopySeparator
          ElementPosition     #631612835
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS80350
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineDisplaySeparator
          ElementPosition     #1894838505
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS53465
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineDisplaySeparatorSMB
          ElementPosition     #1757032074
          HierarchyParent     #LineStripSalesLineSMB
          Text                #@SYS53465
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineNewSeparator
          ElementPosition     #252645134
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineNewSeparatorSMB
          ElementPosition     #390451572
          HierarchyParent     #LineStripSalesLineSMB
          Text                #@SYS5480
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineReturnLine
          ElementPosition     #1810623460
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS104918
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripSalesLineReturnLineSMB
          ElementPosition     #1366580502
          HierarchyParent     #LineStripSalesLineSMB
          Text                #@SYS104918
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateAgreementSeparator
          ConfigurationKey    #TradeBlanketOrder
          ElementPosition     #1574821336
          HierarchyParent     #LineStripUpdate
          Text                #@SYS190135
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateCalculateSeparator
          ElementPosition     #286331152
          HierarchyParent     #LineStripUpdate
          Text                #@SYS117
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateCancelSeparator
          ElementPosition     #1288490184
          HierarchyParent     #LineStripUpdate
          Text                #@SYS50163
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateProcessSeparator
          ElementPosition     #858993456
          HierarchyParent     #LineStripUpdate
          Text                #@SYS122441
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateProcessSeparatorSMB
          ElementPosition     #858993458
          HierarchyParent     #LineStripUpdateSMB
          Text                #@SYS122441
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #LineStripUpdateUpdateSeparator
          ElementPosition     #572662304
          HierarchyParent     #LineStripUpdate
          Text                #@SYS71207
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #MCRLineStripSalesLineViewSeparator
          ElementPosition     #2042214836
          HierarchyParent     #LineStripSalesLine
          Text                #@SYS304872
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator
          ElementPosition     #1073741820
          HierarchyParent     #ButtonGroupRating
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator1
          ElementPosition     #1431655760
          HierarchyParent     #ButtonGroupRating
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #Separator2
          ElementPosition     #1789569700
          HierarchyParent     #ButtonGroupRating
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL SEPARATOR
        PROPERTIES
          Name                #WHSLineStripMenuButtonSeparator
          ElementPosition     #1431655764
          HierarchyParent     #WHSLineStripMenuButton
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_LanguageId
          ElementPosition     #1073741820
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #LanguageId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SalesOriginId
          ElementPosition     #1610612730
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SalesOriginId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SalesPoolId
          ElementPosition     #1879048188
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SalesPoolId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Administration_SalesUnitId
          ElementPosition     #1342177275
          HierarchyParent     #Administration
          DataSource          #SalesTable
          DataField           #SalesUnitId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Agreement_RU_M_AgreementDocumentTitle_RU
          ElementPosition     #1610612734
          HierarchyParent     #Agreement_RU
          DataSource          #SalesTable
          DataMethod          #agreementDocumentTitle_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #AssetTableId_RU
          ElementPosition     #1968526659
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #AssetId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BomRoute_ItemBOMId
          ElementPosition     #1073741822
          HierarchyParent     #BomRoute
          DataSource          #SalesLine
          DataField           #ItemBOMId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #BomRoute_ItemRouteId
          ElementPosition     #1610612733
          HierarchyParent     #BomRoute
          DataSource          #SalesLine
          DataField           #ItemRouteId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Campaign_smmCampaignId
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #Campaign
          DataSource          #SalesTable
          DataField           #smmCampaignId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Carrier
          ElementPosition     #884257969
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadCarrierCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierAccount
          ElementPosition     #536870910
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierAccountCode
          ElementPosition     #805306365
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfo_ShipCarrierId
          ElementPosition     #1879048185
          HierarchyParent     #CarrierInfo
          DataSource          #SalesTable
          DataField           #ShipCarrierId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfoLine_ShipCarrierAccount
          ElementPosition     #858993458
          HierarchyParent     #CarrierInfoLine
          DataSource          #SalesLine
          DataField           #ShipCarrierAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfoLine_ShipCarrierAccountCode
          ElementPosition     #1288490187
          HierarchyParent     #CarrierInfoLine
          DataSource          #SalesLine
          DataField           #ShipCarrierAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierInfoLine_ShipCarrierId
          ElementPosition     #1717986916
          HierarchyParent     #CarrierInfoLine
          DataSource          #SalesLine
          DataField           #ShipCarrierId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CarrierService
          ElementPosition     #1010580536
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadCarrierServiceCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Commission_CommissionGroup
          ElementPosition     #1610612733
          HierarchyParent     #Commission
          DataSource          #SalesTable
          DataField           #CommissionGroup
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Commission_SalesGroup
          ElementPosition     #1073741822
          HierarchyParent     #Commission
          DataSource          #SalesTable
          DataField           #SalesGroup
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CompanyAddress
          ElementPosition     #1246070756
          HierarchyParent     #CompanyInfo
          Label               #@SYS36203
          DataSource          #SalesLine_IN
          DataMethod          #displayAddress_IN
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ContactInfo_Email
          HelpText            #@SYS108976
          ElementPosition     #1610612733
          HierarchyParent     #ContactInfo
          DataSource          #SalesTable
          DataField           #Email
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ContactInfo_URL
          HelpText            #@SYS98587
          ElementPosition     #1073741822
          HierarchyParent     #ContactInfo
          DataSource          #SalesTable
          DataField           #URL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfLineViewDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #CopyOfLineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfLineViewDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #CopyOfLineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfLogisticsPostalAddressDeliveryHeader_Address1
          ElementPosition     #1431655764
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #LogisticsPostalAddressDeliveryHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfRoutes
          ElementPosition     #1431655764
          HierarchyParent     #CopyOfLineViewTMSHeader
          Label               #@TRX459
          DataSource          #SalesTable
          DataMethod          #tmsDisplayRouteCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CopyOfSalesTable_ShipCarrierDeliveryContactHdr
          Visible             #No
          ElementPosition     #1533916890
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #ShipCarrierDeliveryContact
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Currency_CurrencyCode
          ElementPosition     #1610612734
          HierarchyParent     #Currency
          DataSource          #SalesTable
          DataField           #CurrencyCode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustAccount
          ElementPosition     #1073741822
          HierarchyParent     #Customer
          DataSource          #SalesTable
          DataField           #CustAccount
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #CustAccount_LineView
          ElementPosition     #1073741822
          HierarchyParent     #MCRCustomerGroup
          DataSource          #SalesTable
          DataField           #CustAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ConsigneeAccount_RU
          ElementPosition     #1670265058
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable_RU
          DataField           #ConsigneeAccount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ConsignorAccount_RU
          ElementPosition     #1550960411
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable_RU
          DataField           #ConsignorAccount_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvMode
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvReason
          ElementPosition     #1431655764
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #DlvReason
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_DlvTerm
          ElementPosition     #1073741823
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #DlvTerm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Delivery_ExportReason
          ElementPosition     #1789569705
          HierarchyParent     #MiscDelivery
          DataSource          #SalesTable
          DataField           #ExportReason
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_EndDisc
          ElementPosition     #805306365
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #EndDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_LineDisc
          ElementPosition     #1073741820
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #LineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_MarkupGroup
          ElementPosition     #1342177275
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #MarkupGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_MultiLineDisc
          ElementPosition     #1610612730
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #MultiLineDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_PdsCustRebateGroupId
          ElementPosition     #1431655760
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #PdsCustRebateGroupId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_PdsRebateProgramTMAGroup
          ElementPosition     #1521134245
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #PdsRebateProgramTMAGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #DiscMarkup_PriceGroupId
          ElementPosition     #1879048185
          HierarchyParent     #DiscMarkup
          DataSource          #SalesTable
          DataField           #PriceGroupId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editContactPersonName1
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #GroupCustomer
          LookupButton        #Always
          DataSource          #SalesTable
          DataMethod          #editContactPersonName
          PresenceDataSource  #SalesTable
          PresenceDataField   #ContactPersonId
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #public void jumpRef()
            #{
            #    salesTable_ContactPersonId.jumpRef();
            #}
          ENDSOURCE
          SOURCE #lookup
            #void lookup()
            #{
            #    ContactPerson::lookupCustContactPerson(salesTable_ContactPersonId,
            #                                           salesTable.CustAccount,
            #                                           editContactPersonName1,
            #                                           salesTable.ContactPersonId);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #editReasonCode_TH
          AutoDeclaration     #Yes
          Visible             #No
          HelpText            #@SYS4082946
          ElementPosition     #2013265917
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataMethod          #editReasonCodeTH
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EInvoice_EInvoiceAccountCode
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #EInvoice
          DataSource          #SalesTable
          DataField           #EInvoiceAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #EInvoiceLine_EInvoiceAccountCode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #EInvoiceLine
          DataSource          #SalesLine
          DataField           #EInvoiceAccountCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #FiscalEstablishment
          ElementPosition     #477218588
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataMethod          #FiscalEstablishment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_CountryRegionName_RU
          ElementPosition     #1892469960
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #CountryRegionName_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_CountyOrigDest
          ElementPosition     #1471921080
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #CountyOrigDest
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_InvoiceGTDId_RU
          ElementPosition     #1682195520
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #InvoiceGTDId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_Port
          ElementPosition     #1261646640
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #Port
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_StatProcId
          ElementPosition     #420548880
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #StatProcId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_TransactionCode
          ElementPosition     #841097760
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #TransactionCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ForeignTrade_Transport
          ElementPosition     #1051372200
          HierarchyParent     #ForeignTrade
          DataSource          #SalesLine
          DataField           #Transport
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Format_MY_M_editInvoiceType_MY
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #Format_MY
          DataSource          #SalesTable_W
          DataMethod          #editInvoiceType_MY
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #// <GMY>
            #public void lookup()
            #{
            #    TaxGSTDocInvoiceType_MY::construct(tableNum(SalesTable_W)).lookup(this);
            #}
            #// </GMY>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GroupCreditNote_ReasonCode
          ElementPosition     #1073741822
          HierarchyParent     #GroupCreditNote
          LookupButton        #Always
          DataSource          #SalesLine
          DataMethod          #editReasonCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #// <GEEU>
            #public void lookup()
            #{
            #    ReasonFormTable::reasonCodeLookup(
            #        this,
            #        LedgerJournalACType::Cust,
            #        LedgerJournalACType::Cust,
            #        false,
            #        false,
            #        LedgerJournalACType::Cust,
            #        true);
            #}
            #// </GEEU>
          ENDSOURCE
          SOURCE #modified
            #// <GEEU>
            #/// <summary>
            #/// Redraws the form as the reason code field is modified.
            #/// </summary>
            #/// <returns>
            #/// A boolean indidcating whther the field is modified or not.
            #/// </returns>
            #public boolean modified()
            #{
            #    boolean ret;
            #    ret = super();
            #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,editReasonCode));
            #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,editReasonComment));
            #    element.redraw();
            #    return ret;
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #GroupCreditNote_ReasonComment
          ElementPosition     #1610612733
          HierarchyParent     #GroupCreditNote
          DataSource          #SalesLine
          DataMethod          #editReasonComment
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #    salesLine_DS.cacheCalculateMethod(tableMethodStr(SalesLine,editReasonComment));
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_CountyOrigDest
          ElementPosition     #671088639
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #CountyOrigDest
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_Port
          ElementPosition     #1565873491
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #Port
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_StatProcId
          ElementPosition     #1789569704
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #StatProcId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_TransactionCode
          ElementPosition     #1118481065
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #TransactionCode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderForeignTrade_Transport
          ElementPosition     #1342177278
          HierarchyParent     #HeaderForeignTrade
          DataSource          #SalesTable
          DataField           #Transport
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #HeaderTitle
          AutoDeclaration     #Yes
          Width               #Column width
          Skip                #Yes
          AlignControl        #No
          ElementPosition     #1073741822
          HierarchyParent     #HeaderInfo
          Border              #None
          Text                #Sales order
          ColorScheme         #Windows palette
          ForegroundColor     #Dyn Title green
          FontSize            #11
          ShowLabel           #No
          ViewEditMode        #View
          Style               #TitleField
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #headerViewDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #HeaderDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #headerViewDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #HeaderDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InterCompanyAdmin_M_interCompanyOriginDisplay
          AllowEdit           #No
          ElementPosition     #1789569705
          HierarchyParent     #InterCompanyAdmin
          DataSource          #SalesTable
          DataMethod          #interCompanyOriginDisplay
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #interCompanyAllowIndirectCreationOrig
          AutoDeclaration     #Yes
          AllowEdit           #No
          AlignControl        #No
          ElementPosition     #1610612733
          HierarchyParent     #TabHeaderIntercompanySettings
          MultiLine           #Yes
          ShowLabel           #No
          DataSource          #SalesTable
          DataMethod          #interCompanyAllowIndirectCreationTxt
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventDim_WHSInventStatusId
          ElementPosition     #1968526675
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #InventStatusId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventDim_WHSLicensePlateId
          ElementPosition     #1610612734
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #LicensePlateId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Inventory_InventLocationId
          ElementPosition     #1610612733
          HierarchyParent     #Inventory
          DataSource          #SalesTable
          DataField           #InventLocationId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Inventory_InventSiteId
          ElementPosition     #1073741822
          HierarchyParent     #Inventory
          DataSource          #SalesTable
          DataField           #InventSiteId
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_configId
          ElementPosition     #858993458
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #configId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_inventBatchId
          ElementPosition     #1073741822
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #inventBatchId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventColorId
          ElementPosition     #1717986916
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #InventColorId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventGtdId_RU
          ElementPosition     #1879048189
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventGtdId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventLocationId
          ElementPosition     #1073741823
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #InventLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventOwnerId_RU
          ElementPosition     #2013265917
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventOwnerId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventProfileId_RU
          ElementPosition     #1744830461
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #InventProfileId_RU
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_inventSerialId
          ElementPosition     #1610612733
          HierarchyParent     #TrackingDimensions
          DataSource          #InventDim
          DataField           #inventSerialId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventSiteId
          ElementPosition     #715827882
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #InventSiteId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventSizeId
          ElementPosition     #1288490187
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #InventSizeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_InventStyleId
          ElementPosition     #1932735281
          HierarchyParent     #ProductDimensions
          DataSource          #InventDim
          DataField           #InventStyleId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_wMSLocationId
          ElementPosition     #1431655764
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #wMSLocationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InventoryDimensions_wMSPalletId
          ElementPosition     #1789569705
          HierarchyParent     #StorageDimensions
          DataSource          #InventDim
          DataField           #wMSPalletId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InvoiceAccount
          ElementPosition     #1073741823
          HierarchyParent     #GroupCustomer
          DataSource          #SalesTable
          DataField           #InvoiceAccount
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InvoiceAccount_LineView
          ElementPosition     #1610612733
          HierarchyParent     #MCRCustomerGroup
          DataSource          #SalesTable
          DataField           #InvoiceAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #InvoicePostalAddress_Address
          ElementPosition     #1610612733
          HierarchyParent     #InvoiceAddress_TH
          DataSource          #InvoicePostalAddress
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemName
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #298261615
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemNameFastTab
          AllowEdit           #No
          Skip                #Yes
          ElementPosition     #1288490187
          HierarchyParent     #OrderLine
          DataSource          #SalesLine
          DataMethod          #ItemName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemReference_InventRefId
          ElementPosition     #715827882
          HierarchyParent     #ItemReference
          DataSource          #SalesLine
          DataField           #InventRefId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #ItemReference_InventRefTransId
          ElementPosition     #1073741823
          HierarchyParent     #ItemReference
          DataSource          #SalesLine
          DataField           #InventRefTransId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LCE_CarrierInfoSalesOrder_Description
          ElementPosition     #536870910
          HierarchyParent     #CarrierInfoGrid
          DataSource          #LCE_CarrierInfoSalesOrder
          DataField           #Description
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LCE_CarrierInfoSalesOrder_Locator
          ElementPosition     #1073741820
          HierarchyParent     #CarrierInfoGrid
          DataSource          #LCE_CarrierInfoSalesOrder
          DataField           #Locator
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LCE_CarrierInfoSalesOrder_LocatorExtension
          ElementPosition     #1342177275
          HierarchyParent     #CarrierInfoGrid
          DataSource          #LCE_CarrierInfoSalesOrder
          DataField           #LocatorExtension
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LCE_SalesAgreementId
          ElementPosition     #2040109463
          HierarchyParent     #Baseinfo
          Label               #@LCE82
          DataSource          #SalesTable
          DataMethod          #LCE_displaySalesAgreementId
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #//LCE_DisplaySalesAgreementId by catalina.leonte on 23.05.2019
            #public void jumpRef()
            #{
            #    SalesAgreementHeader agreementId;
            #    Args args;
            #    MenuFunction mf;
            #
            #    agreementId = SalesAgreementHeader::findAgreementId(this.valueStr());
            #    if (!agreementId)
            #    {
            #        return;
            #    }
            #
            #    args = new Args();
            #    args.caller(element);
            #    args.record(agreementId);
            #
            #    mf = new MenuFunction(menuitemDisplayStr(SalesAgreement), MenuItemType::Display);
            #    mf.run(args);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LCE_SalesAgreementIdlLV
          ElementPosition     #1717986916
          HierarchyParent     #GroupReferencesHeaderOverview
          Label               #@LCE82
          DataSource          #SalesTable
          DataMethod          #LCE_displaySalesAgreementId
        ENDPROPERTIES
        
        METHODS
          SOURCE #jumpRef
            #//LCE_DisplaySalesAgreementId by catalina.leonte on 23.05.2019
            #public void jumpRef()
            #{
            #    SalesAgreementHeader agreementId;
            #    Args args;
            #    MenuFunction mf;
            #
            #    agreementId = SalesAgreementHeader::findAgreementId(this.valueStr());
            #    if (!agreementId)
            #    {
            #        return;
            #    }
            #
            #    args = new Args();
            #    args.caller(element);
            #    args.record(agreementId);
            #
            #    mf = new MenuFunction(menuitemDisplayStr(SalesAgreement), MenuItemType::Display);
            #    mf.run(args);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineInventory_InventTransId
          ElementPosition     #536870910
          HierarchyParent     #LineInventory
          DataSource          #SalesLine
          DataField           #InventTransId
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineSalesTax_TaxGroup
          ElementPosition     #1073741822
          HierarchyParent     #LineSalesTax
          DataSource          #SalesLine
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineSalesTax_TaxItemGroup
          ElementPosition     #1610612733
          HierarchyParent     #LineSalesTax
          DataSource          #SalesLine
          DataField           #TaxItemGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewAddressDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #LineDlvAddressFiscalInformation_BR
          DataSource          #SalesLine
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewAddressDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #LineDlvAddressFiscalInformation_BR
          DataSource          #SalesLine
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewDeliveryCNPJCPFNUM_BR
          AllowEdit           #No
          ElementPosition     #1073741822
          HierarchyParent     #LineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryCNPJCPFNUM_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineViewDeliveryIENum_BR
          AllowEdit           #No
          ElementPosition     #1610612733
          HierarchyParent     #LineViewDlvAddressFiscalInformation_BR
          DataSource          #SalesTable
          DataMethod          #deliveryIENum_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LineWithholdTax_TaxWithholdGroup
          ElementPosition     #1610612733
          HierarchyParent     #LineWithholdTax
          DataSource          #SalesLine
          DataField           #TaxWithholdGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadAccountNum
          ElementPosition     #1642193371
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadAccountNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadCarNumber
          ElementPosition     #1515870804
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadCarNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadOrderNum
          ElementPosition     #1768515938
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadOrderNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Loads
          ElementPosition     #1491308075
          HierarchyParent     #SalesLineGrid
          Label               #@WAX403
          DataSource          #SalesLine
          DataMethod          #whsGetLoads
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadTractorNumber
          ElementPosition     #1263225670
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadTractorNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadTrailerNumber
          ElementPosition     #1389548237
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadTrailerNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LoadTypeId
          ElementPosition     #378967701
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #displayLoadTypeId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryHeader_Address1
          ElementPosition     #1431655764
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #LogisticsPostalAddressDeliveryHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressDeliveryLine_Address
          ElementPosition     #1431655764
          HierarchyParent     #GroupLineDeliveryAddressRef
          Label               #@SYS36203
          DataSource          #LogisticsPostalAddressDeliveryLine
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierHeader_Address
          ElementPosition     #1610612733
          HierarchyParent     #ShipCarrierAddr
          DataSource          #LogisticsPostalAddressShipCarrierHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #LogisticsPostalAddressShipCarrierLine_Address
          ElementPosition     #1610612733
          HierarchyParent     #ShipCarrierLineAddress
          DataSource          #LogisticsPostalAddressShipCarrierLine
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Maria_FaxNumber
          HelpText            #@BGM83
          ElementPosition     #1998352837
          HierarchyParent     #GroupCustomer
          Label               #@SYS96186
          DataSource          #SalesTable
          DataField           #Maria_FaxNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Maria_LookupControl
          ElementPosition     #2087831322
          HierarchyParent     #GroupCustomer
          Label               #LookupControl
          DataSource          #SalesTable
          DataField           #Test[1]
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Maria_PhoneNumber
          AutoDeclaration     #Yes
          ElementPosition     #1908874352
          HierarchyParent     #GroupCustomer
          Label               #@SYS83745
          DataSource          #SalesTable
          DataField           #Maria_PhoneNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRDelivery_DeliveryMode
          ElementPosition     #1073741820
          HierarchyParent     #MCRDeliveryDetails
          DataSource          #SalesTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRDelivery_Expedite
          ElementPosition     #1610612733
          HierarchyParent     #MCRDeliveryDetails
          DataSource          #MCRSalesTableShipping
          DataField           #Expedite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #mcrGiftCardPolicies
          AutoDeclaration     #Yes
          Visible             #No
          AllowEdit           #No
          ElementPosition     #2040109463
          HierarchyParent     #GiftCard
          DataSource          #MCRSalesLine
          DataMethod          #policyDescription
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRLogisticsPostalAddressDeliveryHeader_Address2
          ElementPosition     #1227133512
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
          DataSource          #LogisticsPostalAddressDeliveryHeader
          DataField           #Address
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRMarginPercentStr
          AutoDeclaration     #Yes
          ConfigurationKey    #TradeMarginAlert
          ElementPosition     #1670265044
          HierarchyParent     #SalesLineGrid
          Label               #@MCR4410233
          DataSource          #SalesLine
          DataMethod          #mcrMarginPercentStr
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRReferences_CustomerRefHeader
          ElementPosition     #858993458
          HierarchyParent     #MCRGroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #CustomerRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRReferences_PurchOrderFormNumHeader
          ElementPosition     #1288490187
          HierarchyParent     #MCRGroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #PurchOrderFormNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRReferences_SourceIDHeader
          ElementPosition     #1717986916
          HierarchyParent     #MCRGroupReferencesHeaderOverview
          DataSource          #MCRSalesTable
          DataField           #SourceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLine_ContinuityScheduleId
          AutoDeclaration     #Yes
          ElementPosition     #1610612733
          HierarchyParent     #MCRProductAttributes
          DataSource          #MCRSalesLine
          DataField           #ContinuityScheduleId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLine_Expedite
          ElementPosition     #1431655764
          HierarchyParent     #MCRExpedite
          DataSource          #MCRSalesLine
          DataField           #Expedite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLine_GiftCardNumber
          AutoDeclaration     #Yes
          HelpText            #@MCR40287
          ElementPosition     #1717986915
          HierarchyParent     #GiftCard
          LookupButton        #Never
          DataSource          #MCRSalesLine
          DataMethod          #editGiftCardId
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    if (ret)
            #    {
            #        MCRSalesLine_ds.giftCardPolicyChanged();
            #    }
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLine_SourceId
          AutoDeclaration     #Yes
          ElementPosition     #1372003429
          HierarchyParent     #SalesLineGrid
          DataSource          #MCRSalesLine
          DataField           #SourceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLineDropShipment_DropShipComment
          ElementPosition     #1717986916
          HierarchyParent     #MCRDropShip
          DataSource          #MCRSalesLineDropShipment
          DataField           #DropShipComment
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLinePriceOverride_ListPriceCurrencyCode
          ElementPosition     #1288490187
          HierarchyParent     #MCRPriceOverride
          DataSource          #MCRSalesLinePriceOverride
          DataField           #ListPriceCurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesLinePriceOverride_ReasonCode
          ElementPosition     #1717986916
          HierarchyParent     #MCRPriceOverride
          DataSource          #MCRSalesLinePriceOverride
          DataField           #ReasonCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTable_DeliveryNameHeaderOverview
          ElementPosition     #613566756
          HierarchyParent     #MCRDeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #DeliveryName
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTable_SmmTMCallListID
          AutoDeclaration     #Yes
          ElementPosition     #1990896296
          HierarchyParent     #GroupReferences
          DataSource          #MCRSalesTable
          DataField           #SmmTMCallListId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTable_SourceId
          AutoDeclaration     #Yes
          ElementPosition     #966367640
          HierarchyParent     #Baseinfo
          DataSource          #MCRSalesTable
          DataField           #SourceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTable_SourceIdGrid
          AutoDeclaration     #Yes
          ElementPosition     #383479222
          HierarchyParent     #GridHeader
          DataSource          #MCRSalesTable
          DataField           #SourceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #MCRSalesTableShipping_Expedite
          ElementPosition     #1749801488
          HierarchyParent     #MCRDetails
          DataSource          #MCRSalesTableShipping
          DataField           #Expedite
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OriginalInvoice_InvoiceId
          HelpText            #@GLS113561
          ElementPosition     #477218588
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS4726
          DataSource          #CustInvoiceTrans
          DataField           #InvoiceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OriginalInvoice_ItemId
          ElementPosition     #715827882
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS12836
          DataSource          #CustInvoiceTrans
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #OriginalInvoice_ProductName
          ElementPosition     #954437176
          HierarchyParent     #GroupOriginalInvoice
          Label               #@SYS59620
          DataSource          #CustInvoiceTrans
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Packagingmaterial_PackingUnit
          ElementPosition     #1610612733
          HierarchyParent     #Packagingmaterial
          DataSource          #SalesLine
          DataField           #PackingUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_CashDisc
          ElementPosition     #1366580502
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #CashDisc
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_M_editCreditCard
          AutoDeclaration     #Yes
          NeededPermission    #Manual
          ConfigurationKey    #CreditCard
          SecurityKey         #CreditCardInquiry
          ElementPosition     #1464193395
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataMethod          #editCreditCard
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    if (salesTable.payment().CreditCardPaymentType == CreditCardPaymentType::CreditCard)
            #    {
            #        CreditCardCust::lookupCreditCard(this, salesTable.InvoiceAccount, salesTable.CreditCardCustRefId);
            #    }
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean isOK = super();
            #
            #    element.enableHeaderCreditCardMenuItems();
            #
            #    return isOK;
            #}
          ENDSOURCE
          SOURCE #textChange
            #public void textChange()
            #{
            #    str text = this.text();
            #
            #    if (strLen(text) > 1)
            #    {
            #        this.text(subStr(text, strLen(text), 1));
            #    }
            #
            #    super();
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_Payment
          ElementPosition     #390451572
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #Payment
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
          SOURCE #leave
            #public boolean leave()
            #{
            #    boolean ok = super();
            #
            #    if(ok && salesTable.CreditCardCustRefId == 0 && payment_M_editCreditCard.text())
            #    {
            #        // Clears the credit card number if the payment type is not a credit card
            #        salesTable_ds.cacheCalculateMethod(payment_M_editCreditCard.dataMethod());
            #    }
            #
            #    return ok;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymentSched
          ElementPosition     #1171354716
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #PaymentSched
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymMode
          ElementPosition     #780903144
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #PaymMode
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Payment_PaymSpec
          ElementPosition     #976128930
          HierarchyParent     #Payment
          DataSource          #SalesTable
          DataField           #PaymSpec
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Posting_NumberSequenceGroup
          ElementPosition     #668106022
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #NumberSequenceGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Posting_PostingProfile
          ElementPosition     #1717986916
          HierarchyParent     #Posting
          DataSource          #SalesTable
          DataField           #PostingProfile
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Potency_M_pdsCalculationId
          AutoDeclaration     #Yes
          AllowEdit           #No
          ElementPosition     #858993458
          HierarchyParent     #Potency
          DataSource          #SalesLine
          DataMethod          #getPotencyCalculationId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ActivityNumber
          ElementPosition     #1789569705
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ActivityNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ProjCategoryId
          ElementPosition     #1073741823
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ProjCategoryId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ProjId
          ElementPosition     #715827882
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ProjId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Project_ProjTransId
          ElementPosition     #1431655764
          HierarchyParent     #Project
          DataSource          #SalesLine
          DataField           #ProjTransId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_CustomerRef
          ElementPosition     #1227133512
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #CustomerRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_CustomerRefHeader
          ElementPosition     #858993458
          HierarchyParent     #GroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #CustomerRef
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_PurchOrderFormNum
          ElementPosition     #613566756
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #PurchOrderFormNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_PurchOrderFormNumHeader
          ElementPosition     #1288490187
          HierarchyParent     #GroupReferencesHeaderOverview
          DataSource          #SalesTable
          DataField           #PurchOrderFormNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_ReasonCode
          AutoDeclaration     #Yes
          CountryRegionCodes  #LT,EE,LV,CZ,PL,HU,RU,MY
          HelpText            #@SYS300080
          ElementPosition     #1977154957
          HierarchyParent     #GroupReferences
          LookupButton        #Always
          Label               #@SYS300079
          DataSource          #SalesTable
          DataMethod          #editReasonCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #// <GEEU>
            #public void lookup()
            #{
            #    ReasonFormTable::reasonCodeLookup(
            #        this,
            #        LedgerJournalACType::Cust,
            #        LedgerJournalACType::Cust,
            #        false,
            #        false,
            #        LedgerJournalACType::Cust,
            #        true);
            #}
            #// </GEEU>
          ENDSOURCE
          SOURCE #modified
            #// <GEEU>
            #public boolean modified()
            #{
            #    boolean ret = super();
            #
            #    // Update the cache for the ReasonComment value, which is changed during the call to super.
            #    salesTable_DS.cacheCalculateMethod(tableMethodStr(SalesTable,editReasonComment));
            #
            #    if (salesLine.RecId)
            #    {
            #        if (Box::yesNo(strFmt("@GLS220468","@GLS104580"), DialogButton::Yes) == DialogButton::Yes)
            #        {
            #            salesTable.updateLineReasonCode();
            #        }
            #
            #        element.redraw();
            #        salesLine_ds.reread();
            #        references_ReasonComment.modified();
            #    }
            #    else
            #    {
            #        element.redraw();
            #    }
            #
            #    return ret;
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_ReasonComment
          AutoDeclaration     #Yes
          CountryRegionCodes  #LT,EE,LV,CZ,PL,HU,RU,MY
          HelpText            #@SYS300081
          ElementPosition     #2049696443
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataMethod          #editReasonComment
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #// <GEEU>
            #public boolean modified()
            #{
            #    boolean ret = super();
            #
            #    if (salesLine.RecId)
            #    {
            #        if (Box::yesNo(strFmt("@GLS220468","@SYS114149"), DialogButton::Yes) == DialogButton::Yes)
            #        {
            #            salesTable.updateLineReasonComment();
            #        }
            #
            #        salesLine_ds.reread();
            #    }
            #
            #    return ret;
            #}
            #// </GEEU>
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #References_ReturnItemNum
          ElementPosition     #1840700268
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #ReturnItemNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Route
          ElementPosition     #757935402
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataMethod          #tmsDisplayRoute
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Routes
          ElementPosition     #1431655764
          HierarchyParent     #LineViewTMSHeader
          Label               #@TRX459
          DataSource          #SalesTable
          DataMethod          #tmsDisplayRouteCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Sales_ExternalItemId
          Width               #Column width
          ElementPosition     #1073741822
          HierarchyParent     #ExternalRefernces
          DataSource          #SalesLine
          DataField           #ExternalItemId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_DeliveryName
          ElementPosition     #1073741822
          HierarchyParent     #LineDeliveryAddress
          MultiLine           #Yes
          DataSource          #SalesLine
          DataField           #DeliveryName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_DlvTerm
          ElementPosition     #477218588
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #DlvTerm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_FLC_VendAccount
          ElementPosition     #715827882
          HierarchyParent     #FLC_ProductAgreement
          DataSource          #SalesLine
          DataField           #FLC_VendAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_FLC_VendCurrencyCode
          ElementPosition     #1431655764
          HierarchyParent     #FLC_ProductAgreement
          DataSource          #SalesLine
          DataField           #FLC_VendCurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_IN_ReturnAction
          AutoDeclaration     #Yes
          CountryRegionCodes  #IN
          ElementPosition     #1932735281
          HierarchyParent     #CustomerReturns_IN
          DataSource          #SalesLine_IN
          DataField           #ReturnAction
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_IN_TaxWithholdAcknowledgementNumber
          ElementPosition     #1431655764
          HierarchyParent     #WithholdingTax
          DataSource          #SalesLine_IN
          DataField           #TaxWithholdAcknowledgementNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_InventTransIdReturn
          ElementPosition     #1717986916
          HierarchyParent     #Return
          LookupButton        #Always
          DataSource          #SalesLine
          DataField           #InventTransIdReturn
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_ItemId
          AutoDeclaration     #Yes
          ElementPosition     #238609292
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #ItemId
        ENDPROPERTIES
        
        METHODS
          SOURCE #gotFocus
            #public void gotFocus()
            #{
            #    // Display any messages associated with the item.
            #    element.mcrDisplayItemMessage();
            #    super();
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #    ItemId  newItemId;
            #
            #    if (isConfigurationkeyEnabled(configurationKeyNum(TradeItemSearch)))
            #    {
            #        newItemId = MCRInventSearch::searchItem(salesLine, salesLine_ItemId.text());
            #
            #        // DataSource ItemId.modified() is called on the MCRSalesQuickQuoteForm, if an itemId is returned then
            #        //  it means the line was not updated there, so set ItemId to returned value and call super.
            #        if (newItemId)
            #        {
            #            // If the user entered an item ID, skip refresh
            #            if (newItemId != salesLine_ItemId.text())
            #            {
            #                salesLine.ItemId = newItemId;
            #                // The datasource contains the entered value, need to refresh otherwise
            #                // validation will fail.
            #                salesLine_ds.refresh();
            #            }
            #            ret = super();
            #        }
            #        else
            #        {
            #            ret = false;
            #        }
            #    }
            #    else
            #    {
            #        ret = super();
            #    }
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_Name
          ElementPosition     #1717986916
          HierarchyParent     #OrderLine
          MultiLine           #Yes
          DataSource          #SalesLine
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_RBOVariantId
          ElementPosition     #178956969
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #RetailVariantId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_SalesUnit
          AutoDeclaration     #Yes
          ElementPosition     #536870907
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine
          DataField           #SalesUnit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_ShipCarrierName
          ElementPosition     #1073741822
          HierarchyParent     #ShipCarrierLineAddress
          DataSource          #SalesLine
          DataField           #ShipCarrierName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLine_W_RefInvoiceId_MY
          ElementPosition     #2028178982
          HierarchyParent     #SalesLineGrid
          DataSource          #SalesLine_W
          DataField           #RefInvoiceId_MY
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    element.performCustInvoiceJourLookup_MY(
            #        this,
            #        queryValue(RefNum::SalesOrder) + "," + queryValue(RefNum::Project),
            #        salesTable.CustAccount);
            #}
          ENDSOURCE
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    ret = super();
            #
            #    if (ret)
            #    {
            #        if(this.text())
            #        {
            #            element.updateSourceRefControlsAfterLookup_MY();
            #        }
            #    }
            #
            #    return ret;
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesLineDeliveryGroup_DlvMode
          Width               #Column width
          ElementPosition     #1431655764
          HierarchyParent     #MiscLineDelivery
          DataSource          #SalesLine
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CFPSId_BR
          ElementPosition     #1073741823
          HierarchyParent     #HeaderFiscalInformation
          DataSource          #SalesTable_BR
          DataField           #CFPSId_BR
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ContactPersonId
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1789569705
          HierarchyParent     #GroupCustomer
          DataSource          #SalesTable
          DataField           #ContactPersonId
          PresenceIndicatorAllowed    #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CurrencyCodeGrid
          ElementPosition     #1073741823
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #CurrencyCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_CustAccountAdv
          AutoDeclaration     #Yes
          ElementPosition     #460175067
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #CustAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DeliveryName1
          ElementPosition     #715827882
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #SalesTable
          DataField           #DeliveryName
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DeliveryNameHeaderOverview
          ElementPosition     #715827882
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #DeliveryName
          FastTabSummary      #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DlvMode
          ElementPosition     #1533916890
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #DlvMode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_DlvTerm
          ElementPosition     #1687308579
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #DlvTerm
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_FLC_DepositAdvanceTag
          ElementPosition     #2058005160
          HierarchyParent     #DeliveryHeaderOverview
          DataSource          #SalesTable
          DataField           #FLC_DepositAdvanceTag
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_FLC_DepositAdvanceTag1
          ElementPosition     #1879048189
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #FLC_DepositAdvanceTag
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_InvoiceAccountAdv
          AutoDeclaration     #Yes
          ElementPosition     #613566756
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #InvoiceAccount
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_LCE_OpenOrderReason
          AutoDeclaration     #Yes
          ElementPosition     #2147221502
          HierarchyParent     #TabHeaderSetup
          DataSource          #SalesTable
          DataField           #LCE_OpenOrderReason
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_LCE_SalesShippingMarks
          ElementPosition     #1968526675
          HierarchyParent     #MiscDelivery
          MultiLine           #Yes
          DataSource          #SalesTable
          DataField           #LCE_SalesShippingMarks
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ProjId
          ConfigurationKey    #ProjBasic
          ElementPosition     #1533916890
          HierarchyParent     #GroupReferences
          DataSource          #SalesTable
          DataField           #ProjId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_RefInvoiceId_TH
          AutoDeclaration     #Yes
          Visible             #No
          ElementPosition     #1902056943
          HierarchyParent     #GroupReferences
          DataSource          #SalesTableExtensionTH
          DataField           #RefInvoiceId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesId
          AutoDeclaration     #Yes
          ElementPosition     #858993458
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #SalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesIdAdvanced
          AutoDeclaration     #Yes
          ElementPosition     #306783378
          HierarchyParent     #GridHeader
          DataSource          #SalesTable
          DataField           #SalesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_SalesName
          ElementPosition     #1288490187
          HierarchyParent     #Baseinfo
          DataSource          #SalesTable
          DataField           #SalesName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipCarrierDeliveryContact
          AutoDeclaration     #Yes
          ElementPosition     #1789569705
          HierarchyParent     #HeaderDeliveryAddress
          DataSource          #SalesTable
          DataField           #ShipCarrierDeliveryContact
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipCarrierDeliveryContactHdr
          ElementPosition     #1789569705
          HierarchyParent     #DeliveryAddressHeaderOverview
          DataSource          #SalesTable
          DataField           #ShipCarrierDeliveryContact
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTable_ShipCarrierName
          ElementPosition     #1073741822
          HierarchyParent     #ShipCarrierAddr
          DataSource          #SalesTable
          DataField           #ShipCarrierName
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_EnterpriseNumber
          ElementPosition     #1789569705
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #EnterpriseNumber
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #SalesTax_TaxPeriodPaymentCode_PL
          ElementPosition     #477218588
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #TaxPeriodPaymentCode_PL
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #StringEdit
          ElementPosition     #1431655764
          HierarchyParent     #GroupProductModel
          DataSource          #SalesLine
          DataField           #ItemPBAId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TaxGroup
          ElementPosition     #715827882
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #TaxGroup
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_BrokerCode
          ElementPosition     #1193046470
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #BrokerCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_CarrierCode
          AutoDeclaration     #Yes
          ElementPosition     #477218588
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #CarrierCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_CarrierGroupCode
          AutoDeclaration     #Yes
          ElementPosition     #954437176
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #CarrierGroupCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    if (tmsSalesTable.RecId == 0)
            #    {
            #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
            #    }
            #
            #    ret = super();
            #
            #    element.enableTMSFields();
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_CarrierServiceCode
          AutoDeclaration     #Yes
          ElementPosition     #715827882
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #CarrierServiceCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #lookup
            #public void lookup()
            #{
            #    TMSCarrierService::lookupCarrierServiceCode(this, tmsSalesTable.CarrierCode);
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_ModeCode
          AutoDeclaration     #Yes
          ElementPosition     #1431655764
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #ModeCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_RouteConfigCode
          AutoDeclaration     #Yes
          ElementPosition     #1670265058
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #RouteConfigCode
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    if (tmsSalesTable.RecId == 0)
            #    {
            #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
            #    }
            #
            #    ret = super();
            #
            #    element.enableTMSFields();
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #TMSSalesTable_TransportationTemplateId
          AutoDeclaration     #Yes
          ElementPosition     #1908874352
          HierarchyParent     #TMSTransportation
          DataSource          #TMSSalesTable
          DataField           #TransportationTemplateId
        ENDPROPERTIES
        
        METHODS
          SOURCE #modified
            #public boolean modified()
            #{
            #    boolean ret;
            #
            #    if (tmsSalesTable.RecId == 0)
            #    {
            #        tmsSalesTable.initFromSalesTable(salesTable.SalesId);
            #    }
            #
            #    ret = super();
            #
            #    element.enableTMSFields();
            #
            #    return ret;
            #}
            #
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #Transport_FreightZone
          ElementPosition     #1610612734
          HierarchyParent     #Transport
          DataSource          #SalesTable
          DataField           #FreightZone
          FastTabSummary      #Yes
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VATNum
          AutoDeclaration     #Yes
          ElementPosition     #1073741823
          HierarchyParent     #SalesTax
          DataSource          #SalesTable
          DataField           #VATNum
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #viceCodeTable_IN_ServiceAccountingCode
          ElementPosition     #1879048189
          HierarchyParent     #ServiceTax_IN
          DataSource          #ServiceCodeTable_IN
          DataField           #ServiceAccountingCode
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #WHSLoadLine_LoadId
          ElementPosition     #252645134
          HierarchyParent     #Grid
          DataSource          #WHSLoadLine
          DataField           #LoadId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #CreatedDateTime
          HelpText            #@SYS69504
          ElementPosition     #1431655764
          HierarchyParent     #LineCratedDateTime
          DataSource          #SalesLine
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL UTCDATETIMEEDIT
        PROPERTIES
          Name                #SalesTable_CreatedDateTime
          AllowEdit           #No
          Skip                #Yes
          HelpText            #@SYS69494
          ElementPosition     #1431655764
          HierarchyParent     #DateAndTime
          DataSource          #SalesTable
          DataField           #createdDateTime
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #CommTypeIcon
          Width               #15
          Height              #15
          AlignControl        #No
          ElementPosition     #1879048185
          HierarchyParent     #CarrierInfoGrid
          BackStyle           #Transparent
          ShowLabel           #No
          DataSource          #LCE_CarrierInfoSalesOrder
          DataMethod          #showTypeIcon
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #lineDeliveryType
          AutoDeclaration     #Yes
          AllowEdit           #No
          Width               #16
          Height              #16
          AlignControl        #No
          ElementPosition     #119304646
          HierarchyParent     #SalesLineGrid
          Imagemode           #Size to fit
          Label               #@sys1201
          DataSource          #SalesLine
          DataMethod          #lineDeliveryTypeImage
        ENDPROPERTIES
        
        METHODS
          SOURCE #toolTip
            #public str toolTip()
            #{
            #    DictEnum    dictEnum = new DictEnum(enumNum(LineDeliveryType));
            #
            #    return dictEnum.label() + ': ' + dictEnum.value2Name(salesLine.LineDeliveryType);
            #}
          ENDSOURCE
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #MCRMarginAlert
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ConfigurationKey    #TradeMarginAlert
          ElementPosition     #1729917367
          HierarchyParent     #SalesLineGrid
          Imagemode           #Center
          Label               #@MCR36385
          DataSource          #SalesLine
          DataMethod          #mcrMarginIcon
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #MCROnHoldIcon
          AutoDeclaration     #Yes
          Width               #Column width
          Height              #Column height
          ElementPosition     #2096061810
          HierarchyParent     #GridHeader
          Imagemode           #Center
          Label               #@MCR20463
          DataSource          #SalesTable
          DataMethod          #MCRDisplayOnHold
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL WINDOW
        PROPERTIES
          Name                #MCRPriceOverrideIcon
          AutoDeclaration     #Yes
          Width               #100
          Height              #16
          ConfigurationKey    #MCRCallCenter
          ElementPosition     #1550960398
          HierarchyParent     #SalesLineGrid
          Imagemode           #Center
          DataSource          #SalesLine
          DataMethod          #MCRDisplayPriceOverride
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
        CONTROL #buttonLineProduction
          PROPERTIES
            Control             #buttonLineProduction
          ENDPROPERTIES
          
        ENDCONTROL
        
      CONTROL #PBAExecute
        PROPERTIES
          Control             #PBAExecute
        ENDPROPERTIES
        
      ENDCONTROL
      
  ENDFORM
  
TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Read
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #buttonLineProduction
      PROPERTIES
        Control             #buttonLineProduction
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #PBAExecute
    PROPERTIES
      Control             #PBAExecute
      EffectiveAccess     #Read
    ENDPROPERTIES
    
  ENDCONTROL
  
ENDFORM

TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #InventOnhandCheckReserve
  PROPERTIES
    Form                #InventOnhandCheckReserve
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #CodeAnalysis
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #buttonLineProduction
      PROPERTIES
        Control             #buttonLineProduction
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #PBAExecute
    PROPERTIES
      Control             #PBAExecute
      EffectiveAccess     #Read
    ENDPROPERTIES
    
  ENDCONTROL
  
ENDFORM

TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
TABLE #PurchLineForeignTradeCategory
  PROPERTIES
    Table               #PurchLineForeignTradeCategory
    EffectiveAccess     #Read
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDTABLE

ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #InventOnhandCheckReserve
  PROPERTIES
    Form                #InventOnhandCheckReserve
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #CodeAnalysis
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #SalesCreateOrder
  PROPERTIES
    Form                #SalesCreateOrder
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
    CONTROL #buttonLineProduction
      PROPERTIES
        Control             #buttonLineProduction
        EffectiveAccess     #Read
      ENDPROPERTIES
      
    ENDCONTROL
    
  CONTROL #PBAExecute
    PROPERTIES
      Control             #PBAExecute
      EffectiveAccess     #Read
    ENDPROPERTIES
    
  ENDCONTROL
  
ENDFORM

TABLES #Tables
  TABLE #InventModelGroup
    PROPERTIES
      Table               #InventModelGroup
      EffectiveAccess     #Read
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDTABLE
  
TABLE #PurchLineForeignTradeCategory
  PROPERTIES
    Table               #PurchLineForeignTradeCategory
    EffectiveAccess     #Read
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDTABLE

TABLE #SalesTable
  PROPERTIES
    Table               #SalesTable
    EffectiveAccess     #Delete
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDTABLE

ENDTABLES

SERVERMETHODS #Server Methods
  SERVERMETHOD #CreditCard.creditCardNumber
    PROPERTIES
      Class               #CreditCard
      Method              #creditCardNumber
      EffectiveAccess     #Invoke
      ManagedBy           #Manual
    ENDPROPERTIES
    
  ENDSERVERMETHOD
  
SERVERMETHOD #CreditCardProcess.doCapture
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doCapture
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doPreAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doPreAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doRefund
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doRefund
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

SERVERMETHOD #CreditCardProcess.doVoidAuth
  PROPERTIES
    Class               #CreditCardProcess
    Method              #doVoidAuth
    EffectiveAccess     #Invoke
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDSERVERMETHOD

ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
  ASSOCIATEDFORM #AgreementLinePrompt
    PROPERTIES
      Form                #AgreementLinePrompt
      AccessLevel         #Delete
      SystemManaged       #No
      ManagedBy           #CodeAnalysis
    ENDPROPERTIES
    
  ENDASSOCIATEDFORM
  
ASSOCIATEDFORM #ConfigChooseFromRoute
  PROPERTIES
    Form                #ConfigChooseFromRoute
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #EcoResCategorySingleLookup
  PROPERTIES
    Form                #EcoResCategorySingleLookup
    AccessLevel         #Read
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #InventOnhandCheckReserve
  PROPERTIES
    Form                #InventOnhandCheckReserve
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #CodeAnalysis
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ASSOCIATEDFORM #SalesCreateOrder
  PROPERTIES
    Form                #SalesCreateOrder
    AccessLevel         #Delete
    SystemManaged       #No
    ManagedBy           #Manual
  ENDPROPERTIES
  
ENDASSOCIATEDFORM

ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #VetCustPetTable
  PROPERTIES
    Name                #VetCustPetTable
    Origin              #{F23DCAE0-2E2E-41D7-9BF6-4518CCFA9544}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #    SysFormSplitter_X verticalSplitter;
      #}
    ENDSOURCE
    SOURCE #init
      #public void init()
      #{
      #    super();
      #    //Initialize splitter
      #    verticalSplitter = new SysFormSplitter_X(VSplitter, GridContainer, element, 300);
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #VetCustPetTable
          Table               #VetCustPetTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Style               #SimpleListDetails
    ENDPROPERTIES
    
    CONTAINER
      CONTROL ACTIONPANE
        PROPERTIES
          Name                #ActionPane
          ElementPosition     #429496729
          Style               #Strip
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL ACTIONPANETAB
        PROPERTIES
          Name                #ActionPaneTab
          ElementPosition     #1431655764
          HierarchyParent     #ActionPane
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL BUTTONGROUP
        PROPERTIES
          Name                #RecordBasics
          ElementPosition     #1431655764
          HierarchyParent     #ActionPaneTab
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          AllowEdit           #No
          Width               #Column width
          Height              #Column height
          ElementPosition     #1431655764
          HierarchyParent     #GridContainer
          MultiSelect         #No
          ShowRowLabels       #No
          GridLinesStyle      #Vertical
          AlternateRowShading #No
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #Body
          ElementPosition     #1717986916
          Style               #MarginlessContainer
          Columns             #3
          Columnspace         #0
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #CustomFilterGroup
          Visible             #No
          ElementPosition     #1288490187
          Style               #DetailTitleContainer
          AlignChild          #No
          ViewEditMode        #Edit
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DetailsContainer
          ElementPosition     #1717986916
          HierarchyParent     #Body
          Style               #MarginlessContainer
          TopMargin           #5
          RightMargin         #5
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #DetailsHeader
          ElementPosition     #1073741822
          HierarchyParent     #DetailsContainer
          FrameType           #None
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #GridContainer
          AutoDeclaration     #Yes
          Width               #300
          ElementPosition     #858993458
          HierarchyParent     #Body
          Style               #BorderlessGridContainer
          DataSource          #VetCustPetTable
          RightMargin         #0
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #PageTitleGroup
          Visible             #No
          ElementPosition     #858993458
          Style               #DetailTitleContainer
          AlignChild          #No
          ViewEditMode        #View
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GROUP
        PROPERTIES
          Name                #VSplitter
          AutoDeclaration     #Yes
          ElementPosition     #1288490187
          HierarchyParent     #Body
          Style               #SplitterVerticalContainer
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TAB
        PROPERTIES
          Name                #DetailsTab
          Width               #Column width
          Height              #Column height
          ElementPosition     #1610612733
          HierarchyParent     #DetailsContainer
          Style               #FastTabs
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL TABPAGE
        PROPERTIES
          Name                #TabPage
          ElementPosition     #1431655764
          HierarchyParent     #DetailsTab
          Columns             #2
          ArrangeGuide        
            ARRAY INDEX Columns 
              #0
              #0
            ENDARRAY
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMBOBOX
        PROPERTIES
          Name                #VetCustPetTable_Gender
          ElementPosition     #1610612733
          HierarchyParent     #Grid
          DataSource          #VetCustPetTable
          DataField           #Gender
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #DeleteButton
          ElementPosition     #1610612733
          HierarchyParent     #RecordBasics
          Text                #@SYS14425
          ButtonDisplay       #Text & Image left
          NormalImage         #10121
          ImageLocation       #EmbeddedResource
          SaveRecord          #No
          Primary             #Yes
          Command             #2832
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL COMMANDBUTTON
        PROPERTIES
          Name                #NewButton
          ElementPosition     #1073741822
          HierarchyParent     #RecordBasics
          ButtonDisplay       #Text & Image left
          NormalImage         #11045
          ImageLocation       #EmbeddedResource
          Primary             #Yes
          Command             #260
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VetCustPetTable_BreedId
          ElementPosition     #1073741822
          HierarchyParent     #Grid
          DataSource          #VetCustPetTable
          DataField           #BreedId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #VetBreedTable
  PROPERTIES
    Name                #VetBreedTable
    Origin              #{A33CE176-DA58-4099-B763-374F8D97D694}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #VetBreedTable
          Table               #VetBreedTable
        ENDPROPERTIES
        
        FIELDLIST
          DATAFIELD BreedId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    info("DS_VetBreedTable.BreedId:modified");
                #    super();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    info("DS_VetBreedTable.BreedId:validate");
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD Name
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    info("DS_VetBreedTable.Name:modified");
                #    super();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    info("DS_VetBreedTable.Name:validate");
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD SpeciesId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    info("DS_VetBreedTable.SpeciesId:modified");
                #    super();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    info("DS_VetBreedTable.SpeciesId:validate");
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD dataAreaId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    info("DS_VetBreedTable.dataAreaId:modified");
                #    super();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    info("DS_VetBreedTable.dataAreaId:validate");
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD RecId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    info("DS_VetBreedTable.RecId:modified");
                #    super();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    info("DS_VetBreedTable.RecId:validate");
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
          DATAFIELD TableId
            PROPERTIES
            ENDPROPERTIES
            
            METHODS
              SOURCE #modified
                #public void modified()
                #{
                #    info("DS_VetBreedTable.TableId:modified");
                #    super();
                #}
              ENDSOURCE
              SOURCE #validate
                #public boolean validate()
                #{
                #    boolean ret;
                #
                #    info("DS_VetBreedTable.TableId:validate");
                #
                #    ret = super();
                #
                #    return ret;
                #}
              ENDSOURCE
            ENDMETHODS
          ENDDATAFIELD
          
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
        SOURCE #forceWrite
          #boolean forceWrite(boolean _value)
          #{
          #    boolean ret;
          #
          #    info("DS_forceWrite");
          #
          #    ret = super(_value);
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #writing
          #public void writing()
          #{
          #    info("DS_writing");
          #    super();
          #}
        ENDSOURCE
        SOURCE #written
          #public void written()
          #{
          #    info("DS_written");
          #    super();
          #}
        ENDSOURCE
        SOURCE #validateWrite
          #public boolean validateWrite()
          #{
          #    boolean ret;
          #
          #    info("DS_validateWrite");
          #
          #    ret = super();
          #
          #    return ret;
          #}
        ENDSOURCE
        SOURCE #write
          #public void write()
          #{
          #    info("DS_write");
          #    super();
          #}
        ENDSOURCE
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #Breed
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          ElementPosition     #1073741823
          DataSource          #VetBreedTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VetBreedTable_BreedId
          ElementPosition     #1073741822
          HierarchyParent     #Grid
          DataSource          #VetBreedTable
          DataField           #BreedId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VetBreedTable_Name
          ElementPosition     #1610612733
          HierarchyParent     #Grid
          DataSource          #VetBreedTable
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: FRM

; Microsoft Dynamics AX Forms unloaded
; --------------------------------------------------------------------------------
FRMVERSION 12

FORM #VetSpeciesTable
  PROPERTIES
    Name                #VetSpeciesTable
    Origin              #{A111661C-FE49-45E6-9E62-ACC32F61E664}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #public class FormRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  OBJECTBANK
    PROPERTIES
    ENDPROPERTIES
    
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #VetSpeciesTable
          Table               #VetSpeciesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
    DATASOURCE
      OBJECTPOOL
        PROPERTIES
          Name                #VetBreedTable
          Table               #VetBreedTable
          JoinSource          #VetSpeciesTable
        ENDPROPERTIES
        
        FIELDLIST
        ENDFIELDLIST
      ENDOBJECTPOOL
      METHODS
      ENDMETHODS
    ENDDATASOURCE
  ENDOBJECTBANK
  
  REFERENCEDATASOURCES
  ENDREFERENCEDATASOURCES
  
  JOINS
    VetBreedTable VetSpeciesTable
  ENDJOINS
  
  PARTREFERENCES
  ENDPARTREFERENCES
  
  DESIGN
    PROPERTIES
      Caption             #Species
      Columns             #2
      ArrangeGuide        
        ARRAY INDEX Columns 
          #0
          #0
        ENDARRAY
      Style               #SimpleList
    ENDPROPERTIES
    
    CONTAINER
      CONTROL GRID
        PROPERTIES
          Name                #Grid
          ElementPosition     #357913941
          DataSource          #VetSpeciesTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL GRID
        PROPERTIES
          Name                #Grid1
          ElementPosition     #715827882
          DataSource          #VetBreedTable
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VetBreedTable_BreedId
          ElementPosition     #1073741822
          HierarchyParent     #Grid1
          DataSource          #VetBreedTable
          DataField           #BreedId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VetBreedTable_Name
          ElementPosition     #1610612733
          HierarchyParent     #Grid1
          DataSource          #VetBreedTable
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VetSpeciesTable_Name
          ElementPosition     #1073741822
          HierarchyParent     #Grid
          DataSource          #VetSpeciesTable
          DataField           #Name
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
      CONTROL STRINGEDIT
        PROPERTIES
          Name                #VetSpeciesTable_SpeciesId
          ElementPosition     #1610612733
          HierarchyParent     #Grid
          DataSource          #VetSpeciesTable
          DataField           #SpeciesId
        ENDPROPERTIES
        
        METHODS
        ENDMETHODS
      ENDCONTROL 
      
    ENDCONTAINER
    
  ENDDESIGN
  
  PERMISSIONS #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    PERMISSIONSET #Read
      PROPERTIES
      ENDPROPERTIES
      
      FORM #Controls
      ENDFORM
      
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Update
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Create
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

PERMISSIONSET #Delete
  PROPERTIES
  ENDPROPERTIES
  
  FORM #Controls
  ENDFORM
  
TABLES #Tables
ENDTABLES

SERVERMETHODS #Server Methods
ENDSERVERMETHODS

ASSOCIATEDFORMS #Associated Forms
ENDASSOCIATEDFORMS

ENDPERMISSIONSET

ENDPERMISSIONS

ENDFORM


***Element: IPA

; Microsoft Dynamics AX Info Part: VetCustPetTableInfoPart unloaded
; --------------------------------------------------------------------------------
VERSION 4

INFOPART #VetCustPetTableInfoPart
  PROPERTIES
    Name                #VetCustPetTableInfoPart
    Caption             #Pets
    Query               #VetCustPetInfoPart
    Origin              #{6B7B8E9D-0ED1-45BB-8925-8E233F9EB183}
  ENDPROPERTIES
  
  INFOPARTLAYOUT
    PROPERTIES
    ENDPROPERTIES
    
    INFOPARTGROUP #Group1
      PROPERTIES
        Name                #Group1
        Repeating           #Yes
        ElementPosition     #1073741823
      ENDPROPERTIES
      
      INFOPARTFIELD #Field1
        PROPERTIES
          Name                #Field1
          DataSource          #VetCustPetTable_1
          DataField           #BreedId
          ElementPosition     #1073741823
        ENDPROPERTIES
        
      ENDINFOPARTFIELD
      
    ENDINFOPARTGROUP
    
  ENDINFOPARTLAYOUT
  
  INFOPARTACTIONLIST
  ENDINFOPARTACTIONLIST
  
  PERMISSIONSET #Permissions
    PROPERTIES
    ENDPROPERTIES
    
    TABLES #Tables
    ENDTABLES
    
  SERVERMETHODS #Server Methods
  ENDSERVERMETHODS
  
ENDPERMISSIONSET

ENDINFOPART


***Element: QUE

; Microsoft Dynamics AX Query: VetCustPetInfoPart unloaded
; --------------------------------------------------------------------------------
VERSION 31

QUERY #VetCustPetInfoPart
  PROPERTIES
    Name                #VetCustPetInfoPart
    Version             #9
    NextUniqueId        #1002
    Origin              #{AF6D0DA9-07F7-4ADF-8257-90B196533362}
  ENDPROPERTIES
  
  METHODS
    SOURCE #classDeclaration
      #public class QueryRun extends ObjectRun
      #{
      #}
    ENDSOURCE
  ENDMETHODS
  BLOCKS
    BLOCK #VetCustPetTable
      PROPERTIES
        Name                #VetCustPetTable_1
        Table               #VetCustPetTable
        UniqueId            #1000
        FetchMode           #1:1
      ENDPROPERTIES
      
      FIELDLIST
        PROPERTIES
        ENDPROPERTIES
        
      ENDFIELDLIST
      SORTING
      ENDSORTING
      LINES
      ENDLINES
      BLOCKS
        BLOCK #VetBreedTable
          PROPERTIES
            Name                #VetBreedTable_1
            Table               #VetBreedTable
            UniqueId            #1001
            FetchMode           #1:1
            Relations           #Yes
          ENDPROPERTIES
          
          FIELDLIST
            PROPERTIES
            ENDPROPERTIES
            
          ENDFIELDLIST
          SORTING
          ENDSORTING
          LINES
          ENDLINES
          BLOCKS
          ENDBLOCKS
          ASSOCIATIONS
            ASSOCIATION
              MASTERFIELD  #SpeciesId
              DETAILSFIELD #SpeciesId
            ASSOCIATION
              MASTERFIELD  #BreedId
              DETAILSFIELD #BreedId
          ENDASSOCIATIONS
        ENDBLOCK
      ENDBLOCKS
      GROUPBY
      ENDGROUPBY
      HAVING
      ENDHAVING
      ORDERBY
      ENDORDERBY
    ENDBLOCK
  ENDBLOCKS
  DEPENDENTS
  ENDDEPENDENTS
  COMPOSITEQUERIES
  ENDCOMPOSITEQUERIES
ENDQUERY


***Element: FTM

; Microsoft Dynamics AX MENUITEM : VetCustPetTable unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #VetCustPetTable
    Type: 1
    PROPERTIES
      Name                #VetCustPetTable
      Label               #Pets
      Object              #VetCustPetTable
      Origin              #{CF1B0A7C-799B-4126-9FD9-645D5E9E7A0D}
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: FTM

; Microsoft Dynamics AX MENUITEM : VetSpeciesTable unloaded
; --------------------------------------------------------------------------------
  VERSION 1
  
  MENUITEM #VetSpeciesTable
    Type: 1
    PROPERTIES
      Name                #VetSpeciesTable
      Label               #Species
      Object              #VetSpeciesTable
      Origin              #{E52C5878-CAAD-401E-8513-AE96A6C5051C}
    ENDPROPERTIES
    
  ENDMENUITEM
  

***Element: PRN

; Microsoft Dynamics AX Project : MP_DEV1 unloaded
; --------------------------------------------------------------------------------
  PROJECTVERSION 2
  
  PROJECT #MP_DEV1
  SHARED
  PROPERTIES
    Name                #MP_DEV1
    Origin              #{4541E799-CF38-4318-BF66-9ED29DDB016F}
  ENDPROPERTIES
  
    PROJECTCLASS ProjectNode
    GROUP #Data Dictionary
      PROPERTIES
        Name                #Data Dictionary
        ProjectGroupType    #DataDictionary
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      GROUP #Tables
        PROPERTIES
          Name                #Tables
          ProjectGroupType    #Tables
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 104496
          NODETYPE 204
          NAME #Visist_transactions
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 104495
          NODETYPE 204
          NAME #VetCustPetTable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 104494
          NODETYPE 204
          NAME #VetBreedTable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 104493
          NODETYPE 204
          NAME #VetSpeciesTable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 366
          NODETYPE 204
          NAME #SalesTable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 44
          UTILOBJECTID 77
          NODETYPE 204
          NAME #CustTable
        ENDNODE
        ENDGROUP
        
      GROUP #Extended Data Types
        PROPERTIES
          Name                #Extended Data Types
          ProjectGroupType    #ExtendedDataTypes
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 41
          UTILOBJECTID 104427
          NODETYPE 234
          NAME #VetBreedId
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 41
          UTILOBJECTID 104426
          NODETYPE 234
          NAME #VetSpeciesId
        ENDNODE
        ENDGROUP
        
      ENDGROUP
      
    GROUP #Forms
      PROPERTIES
        Name                #Forms
        ProjectGroupType    #Forms
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CustomersInfoAndSalesOrdersV2
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CustomersInfoAndSalesOrders
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #CopyOfSalesTable
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #VetCustPetTable
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #VetBreedTable
      ENDNODE
      BEGINNODE
        FILETYPE 0
        UTILTYPE 11
        UTILOBJECTID 0
        NODETYPE 201
        NAME #VetSpeciesTable
      ENDNODE
      ENDGROUP
      
    GROUP #Parts
      PROPERTIES
        Name                #Parts
        ProjectGroupType    #Parts
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      GROUP #Info Parts
        PROPERTIES
          Name                #Info Parts
          ProjectGroupType    #InfoParts
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 81
          UTILOBJECTID 0
          NODETYPE 1429
          NAME #VetCustPetTableInfoPart
        ENDNODE
        ENDGROUP
        
      ENDGROUP
      
    GROUP #Queries
      PROPERTIES
        Name                #Queries
        ProjectGroupType    #Queries
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      BEGINNODE
        FILETYPE 0
        UTILTYPE 20
        UTILOBJECTID 0
        NODETYPE 330
        NAME #VetCustPetInfoPart
      ENDNODE
      ENDGROUP
      
    GROUP #Menu Items
      PROPERTIES
        Name                #Menu Items
        ProjectGroupType    #MenuItems
        GroupMask           #
        PreventEditProperties #No
      ENDPROPERTIES
      
      GROUP #Display
        PROPERTIES
          Name                #Display
          ProjectGroupType    #Display
          GroupMask           #
          PreventEditProperties #No
        ENDPROPERTIES
        
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #VetCustPetTable
        ENDNODE
        BEGINNODE
          FILETYPE 0
          UTILTYPE 1
          UTILOBJECTID 0
          NODETYPE 296
          NAME #VetSpeciesTable
        ENDNODE
        ENDGROUP
        
      ENDGROUP
      
  ENDPROJECT
  

***Element: END
